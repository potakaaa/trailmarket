(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=a(s);fetch(s.href,c)}})();function Cl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ex(n){if(n.__esModule)return n;var r=n.default;if(typeof r=="function"){var a=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var s=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(a,o,s.get?s:{enumerable:!0,get:function(){return n[o]}})}),a}var xc={exports:{}},Pi={},vc={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function tx(){if(Bf)return Ge;Bf=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function k(P,D,Z){this.props=P,this.context=D,this.refs=j,this.updater=Z||E}k.prototype.isReactComponent={},k.prototype.setState=function(P,D){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,D,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=k.prototype;function U(P,D,Z){this.props=P,this.context=D,this.refs=j,this.updater=Z||E}var K=U.prototype=new C;K.constructor=U,S(K,k.prototype),K.isPureReactComponent=!0;var te=Array.isArray,R=Object.prototype.hasOwnProperty,q={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function V(P,D,Z){var de,me={},he=null,Pe=null;if(D!=null)for(de in D.ref!==void 0&&(Pe=D.ref),D.key!==void 0&&(he=""+D.key),D)R.call(D,de)&&!$.hasOwnProperty(de)&&(me[de]=D[de]);var ve=arguments.length-2;if(ve===1)me.children=Z;else if(1<ve){for(var fe=Array(ve),Le=0;Le<ve;Le++)fe[Le]=arguments[Le+2];me.children=fe}if(P&&P.defaultProps)for(de in ve=P.defaultProps,ve)me[de]===void 0&&(me[de]=ve[de]);return{$$typeof:n,type:P,key:he,ref:Pe,props:me,_owner:q.current}}function ue(P,D){return{$$typeof:n,type:P.type,key:D,ref:P.ref,props:P.props,_owner:P._owner}}function X(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function Ce(P){var D={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Z){return D[Z]})}var W=/\/+/g;function J(P,D){return typeof P=="object"&&P!==null&&P.key!=null?Ce(""+P.key):D.toString(36)}function ee(P,D,Z,de,me){var he=typeof P;(he==="undefined"||he==="boolean")&&(P=null);var Pe=!1;if(P===null)Pe=!0;else switch(he){case"string":case"number":Pe=!0;break;case"object":switch(P.$$typeof){case n:case r:Pe=!0}}if(Pe)return Pe=P,me=me(Pe),P=de===""?"."+J(Pe,0):de,te(me)?(Z="",P!=null&&(Z=P.replace(W,"$&/")+"/"),ee(me,D,Z,"",function(Le){return Le})):me!=null&&(X(me)&&(me=ue(me,Z+(!me.key||Pe&&Pe.key===me.key?"":(""+me.key).replace(W,"$&/")+"/")+P)),D.push(me)),1;if(Pe=0,de=de===""?".":de+":",te(P))for(var ve=0;ve<P.length;ve++){he=P[ve];var fe=de+J(he,ve);Pe+=ee(he,D,Z,fe,me)}else if(fe=b(P),typeof fe=="function")for(P=fe.call(P),ve=0;!(he=P.next()).done;)he=he.value,fe=de+J(he,ve++),Pe+=ee(he,D,Z,fe,me);else if(he==="object")throw D=String(P),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Pe}function le(P,D,Z){if(P==null)return P;var de=[],me=0;return ee(P,de,"","",function(he){return D.call(Z,he,me++)}),de}function ke(P){if(P._status===-1){var D=P._result;D=D(),D.then(function(Z){(P._status===0||P._status===-1)&&(P._status=1,P._result=Z)},function(Z){(P._status===0||P._status===-1)&&(P._status=2,P._result=Z)}),P._status===-1&&(P._status=0,P._result=D)}if(P._status===1)return P._result.default;throw P._result}var Q={current:null},H={transition:null},Y={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:H,ReactCurrentOwner:q};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:le,forEach:function(P,D,Z){le(P,function(){D.apply(this,arguments)},Z)},count:function(P){var D=0;return le(P,function(){D++}),D},toArray:function(P){return le(P,function(D){return D})||[]},only:function(P){if(!X(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ge.Component=k,Ge.Fragment=a,Ge.Profiler=s,Ge.PureComponent=U,Ge.StrictMode=o,Ge.Suspense=h,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ge.act=ne,Ge.cloneElement=function(P,D,Z){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var de=S({},P.props),me=P.key,he=P.ref,Pe=P._owner;if(D!=null){if(D.ref!==void 0&&(he=D.ref,Pe=q.current),D.key!==void 0&&(me=""+D.key),P.type&&P.type.defaultProps)var ve=P.type.defaultProps;for(fe in D)R.call(D,fe)&&!$.hasOwnProperty(fe)&&(de[fe]=D[fe]===void 0&&ve!==void 0?ve[fe]:D[fe])}var fe=arguments.length-2;if(fe===1)de.children=Z;else if(1<fe){ve=Array(fe);for(var Le=0;Le<fe;Le++)ve[Le]=arguments[Le+2];de.children=ve}return{$$typeof:n,type:P.type,key:me,ref:he,props:de,_owner:Pe}},Ge.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:c,_context:P},P.Consumer=P},Ge.createElement=V,Ge.createFactory=function(P){var D=V.bind(null,P);return D.type=P,D},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(P){return{$$typeof:m,render:P}},Ge.isValidElement=X,Ge.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:ke}},Ge.memo=function(P,D){return{$$typeof:x,type:P,compare:D===void 0?null:D}},Ge.startTransition=function(P){var D=H.transition;H.transition={};try{P()}finally{H.transition=D}},Ge.unstable_act=ne,Ge.useCallback=function(P,D){return Q.current.useCallback(P,D)},Ge.useContext=function(P){return Q.current.useContext(P)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(P){return Q.current.useDeferredValue(P)},Ge.useEffect=function(P,D){return Q.current.useEffect(P,D)},Ge.useId=function(){return Q.current.useId()},Ge.useImperativeHandle=function(P,D,Z){return Q.current.useImperativeHandle(P,D,Z)},Ge.useInsertionEffect=function(P,D){return Q.current.useInsertionEffect(P,D)},Ge.useLayoutEffect=function(P,D){return Q.current.useLayoutEffect(P,D)},Ge.useMemo=function(P,D){return Q.current.useMemo(P,D)},Ge.useReducer=function(P,D,Z){return Q.current.useReducer(P,D,Z)},Ge.useRef=function(P){return Q.current.useRef(P)},Ge.useState=function(P){return Q.current.useState(P)},Ge.useSyncExternalStore=function(P,D,Z){return Q.current.useSyncExternalStore(P,D,Z)},Ge.useTransition=function(){return Q.current.useTransition()},Ge.version="18.3.1",Ge}var Hf;function tu(){return Hf||(Hf=1,vc.exports=tx()),vc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function rx(){if(qf)return Pi;qf=1;var n=tu(),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,h,x){var g,y={},b=null,E=null;x!==void 0&&(b=""+x),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(E=h.ref);for(g in h)o.call(h,g)&&!c.hasOwnProperty(g)&&(y[g]=h[g]);if(m&&m.defaultProps)for(g in h=m.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:r,type:m,key:b,ref:E,props:y,_owner:s.current}}return Pi.Fragment=a,Pi.jsx=f,Pi.jsxs=f,Pi}var Gf;function nx(){return Gf||(Gf=1,xc.exports=rx()),xc.exports}var u=nx(),w=tu();const In=Cl(w);var Xo={},yc={exports:{}},Jt={},wc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function ax(){return Vf||(Vf=1,function(n){function r(H,Y){var ne=H.length;H.push(Y);e:for(;0<ne;){var P=ne-1>>>1,D=H[P];if(0<s(D,Y))H[P]=Y,H[ne]=D,ne=P;else break e}}function a(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var Y=H[0],ne=H.pop();if(ne!==Y){H[0]=ne;e:for(var P=0,D=H.length,Z=D>>>1;P<Z;){var de=2*(P+1)-1,me=H[de],he=de+1,Pe=H[he];if(0>s(me,ne))he<D&&0>s(Pe,me)?(H[P]=Pe,H[he]=ne,P=he):(H[P]=me,H[de]=ne,P=de);else if(he<D&&0>s(Pe,ne))H[P]=Pe,H[he]=ne,P=he;else break e}}return Y}function s(H,Y){var ne=H.sortIndex-Y.sortIndex;return ne!==0?ne:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var h=[],x=[],g=1,y=null,b=3,E=!1,S=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(H){for(var Y=a(x);Y!==null;){if(Y.callback===null)o(x);else if(Y.startTime<=H)o(x),Y.sortIndex=Y.expirationTime,r(h,Y);else break;Y=a(x)}}function te(H){if(j=!1,K(H),!S)if(a(h)!==null)S=!0,ke(R);else{var Y=a(x);Y!==null&&Q(te,Y.startTime-H)}}function R(H,Y){S=!1,j&&(j=!1,C(V),V=-1),E=!0;var ne=b;try{for(K(Y),y=a(h);y!==null&&(!(y.expirationTime>Y)||H&&!Ce());){var P=y.callback;if(typeof P=="function"){y.callback=null,b=y.priorityLevel;var D=P(y.expirationTime<=Y);Y=n.unstable_now(),typeof D=="function"?y.callback=D:y===a(h)&&o(h),K(Y)}else o(h);y=a(h)}if(y!==null)var Z=!0;else{var de=a(x);de!==null&&Q(te,de.startTime-Y),Z=!1}return Z}finally{y=null,b=ne,E=!1}}var q=!1,$=null,V=-1,ue=5,X=-1;function Ce(){return!(n.unstable_now()-X<ue)}function W(){if($!==null){var H=n.unstable_now();X=H;var Y=!0;try{Y=$(!0,H)}finally{Y?J():(q=!1,$=null)}}else q=!1}var J;if(typeof U=="function")J=function(){U(W)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=W,J=function(){le.postMessage(null)}}else J=function(){k(W,0)};function ke(H){$=H,q||(q=!0,J())}function Q(H,Y){V=k(function(){H(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){S||E||(S=!0,ke(R))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return a(h)},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var ne=b;b=Y;try{return H()}finally{b=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=b;b=H;try{return Y()}finally{b=ne}},n.unstable_scheduleCallback=function(H,Y,ne){var P=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?P+ne:P):ne=P,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ne+D,H={id:g++,callback:Y,priorityLevel:H,startTime:ne,expirationTime:D,sortIndex:-1},ne>P?(H.sortIndex=ne,r(x,H),a(h)===null&&H===a(x)&&(j?(C(V),V=-1):j=!0,Q(te,ne-P))):(H.sortIndex=D,r(h,H),S||E||(S=!0,ke(R))),H},n.unstable_shouldYield=Ce,n.unstable_wrapCallback=function(H){var Y=b;return function(){var ne=b;b=Y;try{return H.apply(this,arguments)}finally{b=ne}}}}(bc)),bc}var Wf;function ix(){return Wf||(Wf=1,wc.exports=ax()),wc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function ox(){if(Kf)return Jt;Kf=1;var n=tu(),r=ix();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function b(e){return h.call(y,e)?!0:h.call(g,e)?!1:x.test(e)?y[e]=!0:(g[e]=!0,!1)}function E(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,t,i,l){if(t===null||typeof t>"u"||E(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,i,l,d,p,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=v}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,U);k[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,U);k[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,U);k[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,t,i,l){var d=k.hasOwnProperty(t)?k[t]:null;(d!==null?d.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S(t,i,d,l)&&(i=null),l||d===null?b(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,l=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),H=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,P;function D(e){if(P===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var Z=!1;function de(e,t){if(!e||Z)return"";Z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(B){var l=B}Reflect.construct(e,[],t)}else{try{t.call()}catch(B){l=B}e.call(t.prototype)}else{try{throw Error()}catch(B){l=B}e()}}catch(B){if(B&&l&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),p=l.stack.split(`
`),v=d.length-1,_=p.length-1;1<=v&&0<=_&&d[v]!==p[_];)_--;for(;1<=v&&0<=_;v--,_--)if(d[v]!==p[_]){if(v!==1||_!==1)do if(v--,_--,0>_||d[v]!==p[_]){var N=`
`+d[v].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=v&&0<=_);break}}}finally{Z=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function me(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case q:return"Portal";case ue:return"Profiler";case V:return"StrictMode";case J:return"Suspense";case ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case X:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}function Pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ve(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Le(e){var t=fe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,p=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ze(e){e._valueTracker||(e._valueTracker=Le(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=fe(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function $e(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vt(e,t){var i=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Mt(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=ve(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qt(e,t){t=t.checked,t!=null&&K(e,"checked",t,!1)}function wt(e,t){qt(e,t);var i=ve(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lt(e,t.type,i):t.hasOwnProperty("defaultValue")&&Lt(e,t.type,ve(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gt(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Lt(e,t,i){(t!=="number"||$e(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ge=Array.isArray;function Ie(e,t,i,l){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+ve(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function De(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(a(92));if(ge(i)){if(1<i.length)throw Error(a(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ve(i)}}function A(e,t){var i=ve(t.value),l=ve(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function z(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?re(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oe,nt=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ke(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(e){tn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),St[t]=St[e]})});function $r(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||St.hasOwnProperty(e)&&St[e]?(""+t).trim():t+"px"}function Br(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=$r(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,d):e[i]=d}}var rn=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ur(e,t){if(t){if(rn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Or(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sa=null,nn=null,Hr=null;function An(e){if(e=pi(e)){if(typeof sa!="function")throw Error(a(280));var t=e.stateNode;t&&(t=po(t),sa(e.stateNode,e.type,t))}}function Mn(e){nn?Hr?Hr.push(e):Hr=[e]:nn=e}function Vi(){if(nn){var e=nn,t=Hr;if(Hr=nn=null,An(e),t)for(e=0;e<t.length;e++)An(t[e])}}function Wi(e,t){return e(t)}function T(){}var M=!1;function G(e,t,i){if(M)return e(t,i);M=!0;try{return Wi(e,t,i)}finally{M=!1,(nn!==null||Hr!==null)&&(T(),Vi())}}function ie(e,t){var i=e.stateNode;if(i===null)return null;var l=po(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var be=!1;if(m)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){be=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch{be=!1}function Ue(e,t,i,l,d,p,v,_,N){var B=Array.prototype.slice.call(arguments,3);try{t.apply(i,B)}catch(oe){this.onError(oe)}}var we=!1,je=null,xe=!1,Fe=null,Be={onError:function(e){we=!0,je=e}};function at(e,t,i,l,d,p,v,_,N){we=!1,je=null,Ue.apply(Be,arguments)}function _t(e,t,i,l,d,p,v,_,N){if(at.apply(this,arguments),we){if(we){var B=je;we=!1,je=null}else throw Error(a(198));xe||(xe=!0,Fe=B)}}function Je(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function tt(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gt(e){if(Je(e)!==e)throw Error(a(188))}function an(e){var t=e.alternate;if(!t){if(t=Je(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,l=t;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return gt(d),e;if(p===l)return gt(d),t;p=p.sibling}throw Error(a(188))}if(i.return!==l.return)i=d,l=p;else{for(var v=!1,_=d.child;_;){if(_===i){v=!0,i=d,l=p;break}if(_===l){v=!0,l=d,i=p;break}_=_.sibling}if(!v){for(_=p.child;_;){if(_===i){v=!0,i=p,l=d;break}if(_===l){v=!0,l=p,i=d;break}_=_.sibling}if(!v)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function on(e){return e=an(e),e!==null?dr(e):null}function dr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dr(e);if(t!==null)return t;e=e.sibling}return null}var tr=r.unstable_scheduleCallback,ca=r.unstable_cancelCallback,Ln=r.unstable_shouldYield,qr=r.unstable_requestPaint,it=r.unstable_now,ua=r.unstable_getCurrentPriorityLevel,Xe=r.unstable_ImmediatePriority,Et=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,Un=r.unstable_LowPriority,ft=r.unstable_IdlePriority,br=null,rr=null;function Ll(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(br,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:vh,gh=Math.log,xh=Math.LN2;function vh(e){return e>>>=0,e===0?32:31-(gh(e)/xh|0)|0}var Ki=64,Yi=4194304;function Ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qi(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,d=e.suspendedLanes,p=e.pingedLanes,v=i&268435455;if(v!==0){var _=v&~d;_!==0?l=Ya(_):(p&=v,p!==0&&(l=Ya(p)))}else v=i&~d,v!==0?l=Ya(v):p!==0&&(l=Ya(p));if(l===0)return 0;if(t!==0&&t!==l&&!(t&d)&&(d=l&-l,p=t&-t,d>=p||d===16&&(p&4194240)!==0))return t;if(l&4&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-_r(t),d=1<<i,l|=e[i],t&=~d;return l}function yh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wh(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes;0<p;){var v=31-_r(p),_=1<<v,N=d[v];N===-1?(!(_&i)||_&l)&&(d[v]=yh(_,t)):N<=t&&(e.expiredLanes|=_),p&=~_}}function Ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vu(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function Fl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Qa(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=i}function bh(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-_r(i),p=1<<d;t[d]=0,l[d]=-1,e[d]=-1,i&=~p}}function zl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-_r(i),d=1<<l;d&t|e[l]&t&&(e[l]|=t),i&=~d}}var et=0;function yu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wu,$l,bu,_u,Eu,Bl=!1,Ji=[],ln=null,sn=null,cn=null,Ja=new Map,Xa=new Map,un=[],_h="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(t.pointerId)}}function Za(e,t,i,l,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},t!==null&&(t=pi(t),t!==null&&$l(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Eh(e,t,i,l,d){switch(t){case"focusin":return ln=Za(ln,e,t,i,l,d),!0;case"dragenter":return sn=Za(sn,e,t,i,l,d),!0;case"mouseover":return cn=Za(cn,e,t,i,l,d),!0;case"pointerover":var p=d.pointerId;return Ja.set(p,Za(Ja.get(p)||null,e,t,i,l,d)),!0;case"gotpointercapture":return p=d.pointerId,Xa.set(p,Za(Xa.get(p)||null,e,t,i,l,d)),!0}return!1}function ku(e){var t=Fn(e.target);if(t!==null){var i=Je(t);if(i!==null){if(t=i.tag,t===13){if(t=tt(i),t!==null){e.blockedOn=t,Eu(e.priority,function(){bu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);wr=l,i.target.dispatchEvent(l),wr=null}else return t=pi(i),t!==null&&$l(t),e.blockedOn=i,!1;t.shift()}return!0}function Su(e,t,i){Xi(e)&&i.delete(t)}function jh(){Bl=!1,ln!==null&&Xi(ln)&&(ln=null),sn!==null&&Xi(sn)&&(sn=null),cn!==null&&Xi(cn)&&(cn=null),Ja.forEach(Su),Xa.forEach(Su)}function ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Bl||(Bl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jh)))}function ti(e){function t(d){return ei(d,e)}if(0<Ji.length){ei(Ji[0],e);for(var i=1;i<Ji.length;i++){var l=Ji[i];l.blockedOn===e&&(l.blockedOn=null)}}for(ln!==null&&ei(ln,e),sn!==null&&ei(sn,e),cn!==null&&ei(cn,e),Ja.forEach(t),Xa.forEach(t),i=0;i<un.length;i++)l=un[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<un.length&&(i=un[0],i.blockedOn===null);)ku(i),i.blockedOn===null&&un.shift()}var da=te.ReactCurrentBatchConfig,Zi=!0;function kh(e,t,i,l){var d=et,p=da.transition;da.transition=null;try{et=1,Hl(e,t,i,l)}finally{et=d,da.transition=p}}function Sh(e,t,i,l){var d=et,p=da.transition;da.transition=null;try{et=4,Hl(e,t,i,l)}finally{et=d,da.transition=p}}function Hl(e,t,i,l){if(Zi){var d=ql(e,t,i,l);if(d===null)ls(e,t,l,eo,i),ju(e,l);else if(Eh(d,e,t,i,l))l.stopPropagation();else if(ju(e,l),t&4&&-1<_h.indexOf(e)){for(;d!==null;){var p=pi(d);if(p!==null&&wu(p),p=ql(e,t,i,l),p===null&&ls(e,t,l,eo,i),p===d)break;d=p}d!==null&&l.stopPropagation()}else ls(e,t,l,null,i)}}var eo=null;function ql(e,t,i,l){if(eo=null,e=On(l),e=Fn(e),e!==null)if(t=Je(e),t===null)e=null;else if(i=t.tag,i===13){if(e=tt(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eo=e,null}function Cu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ua()){case Xe:return 1;case Et:return 4;case Gr:case Un:return 16;case ft:return 536870912;default:return 16}default:return 16}}var dn=null,Gl=null,to=null;function Pu(){if(to)return to;var e,t=Gl,i=t.length,l,d="value"in dn?dn.value:dn.textContent,p=d.length;for(e=0;e<i&&t[e]===d[e];e++);var v=i-e;for(l=1;l<=v&&t[i-l]===d[p-l];l++);return to=d.slice(e,1<l?1-l:void 0)}function ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function no(){return!0}function Nu(){return!1}function nr(e){function t(i,l,d,p,v){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?no:Nu,this.isPropagationStopped=Nu,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),t}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=nr(fa),ri=ne({},fa,{view:0,detail:0}),Ch=nr(ri),Wl,Kl,ni,ao=ne({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(Wl=e.screenX-ni.screenX,Kl=e.screenY-ni.screenY):Kl=Wl=0,ni=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),Tu=nr(ao),Ph=ne({},ao,{dataTransfer:0}),Nh=nr(Ph),Th=ne({},ri,{relatedTarget:0}),Yl=nr(Th),Rh=ne({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ih=nr(Rh),Dh=ne({},fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oh=nr(Dh),Ah=ne({},fa,{data:0}),Ru=nr(Ah),Mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uh[e])?!!t[e]:!1}function Ql(){return Fh}var zh=ne({},ri,{key:function(e){if(e.key){var t=Mh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(e){return e.type==="keypress"?ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$h=nr(zh),Bh=ne({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=nr(Bh),Hh=ne({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),qh=nr(Hh),Gh=ne({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vh=nr(Gh),Wh=ne({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kh=nr(Wh),Yh=[9,13,27,32],Jl=m&&"CompositionEvent"in window,ai=null;m&&"documentMode"in document&&(ai=document.documentMode);var Qh=m&&"TextEvent"in window&&!ai,Du=m&&(!Jl||ai&&8<ai&&11>=ai),Ou=" ",Au=!1;function Mu(e,t){switch(e){case"keyup":return Yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function Jh(e,t){switch(e){case"compositionend":return Lu(t);case"keypress":return t.which!==32?null:(Au=!0,Ou);case"textInput":return e=t.data,e===Ou&&Au?null:e;default:return null}}function Xh(e,t){if(pa)return e==="compositionend"||!Jl&&Mu(e,t)?(e=Pu(),to=Gl=dn=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Du&&t.locale!=="ko"?null:t.data;default:return null}}var Zh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zh[e.type]:t==="textarea"}function Fu(e,t,i,l){Mn(l),t=co(t,"onChange"),0<t.length&&(i=new Vl("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var ii=null,oi=null;function eg(e){nd(e,0)}function io(e){var t=va(e);if(He(t))return e}function tg(e,t){if(e==="change")return t}var zu=!1;if(m){var Xl;if(m){var Zl="oninput"in document;if(!Zl){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Zl=typeof $u.oninput=="function"}Xl=Zl}else Xl=!1;zu=Xl&&(!document.documentMode||9<document.documentMode)}function Bu(){ii&&(ii.detachEvent("onpropertychange",Hu),oi=ii=null)}function Hu(e){if(e.propertyName==="value"&&io(oi)){var t=[];Fu(t,oi,e,On(e)),G(eg,t)}}function rg(e,t,i){e==="focusin"?(Bu(),ii=t,oi=i,ii.attachEvent("onpropertychange",Hu)):e==="focusout"&&Bu()}function ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return io(oi)}function ag(e,t){if(e==="click")return io(t)}function ig(e,t){if(e==="input"||e==="change")return io(t)}function og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Er=typeof Object.is=="function"?Object.is:og;function li(e,t){if(Er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!h.call(t,d)||!Er(e[d],t[d]))return!1}return!0}function qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gu(e,t){var i=qu(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=qu(i)}}function Vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wu(){for(var e=window,t=$e();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=$e(e.document)}return t}function es(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lg(e){var t=Wu(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Vu(i.ownerDocument.documentElement,i)){if(l!==null&&es(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,p=Math.min(l.start,d);l=l.end===void 0?p:Math.min(l.end,d),!e.extend&&p>l&&(d=l,l=p,p=d),d=Gu(i,p);var v=Gu(i,l);d&&v&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),p>l?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sg=m&&"documentMode"in document&&11>=document.documentMode,ma=null,ts=null,si=null,rs=!1;function Ku(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;rs||ma==null||ma!==$e(l)||(l=ma,"selectionStart"in l&&es(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),si&&li(si,l)||(si=l,l=co(ts,"onSelect"),0<l.length&&(t=new Vl("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=ma)))}function oo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ha={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},ns={},Yu={};m&&(Yu=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function lo(e){if(ns[e])return ns[e];if(!ha[e])return e;var t=ha[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Yu)return ns[e]=t[i];return e}var Qu=lo("animationend"),Ju=lo("animationiteration"),Xu=lo("animationstart"),Zu=lo("transitionend"),ed=new Map,td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){ed.set(e,t),c(t,[e])}for(var as=0;as<td.length;as++){var is=td[as],cg=is.toLowerCase(),ug=is[0].toUpperCase()+is.slice(1);fn(cg,"on"+ug)}fn(Qu,"onAnimationEnd"),fn(Ju,"onAnimationIteration"),fn(Xu,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Zu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function rd(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,_t(l,t,void 0,e),e.currentTarget=null}function nd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var p=void 0;if(t)for(var v=l.length-1;0<=v;v--){var _=l[v],N=_.instance,B=_.currentTarget;if(_=_.listener,N!==p&&d.isPropagationStopped())break e;rd(d,_,B),p=N}else for(v=0;v<l.length;v++){if(_=l[v],N=_.instance,B=_.currentTarget,_=_.listener,N!==p&&d.isPropagationStopped())break e;rd(d,_,B),p=N}}}if(xe)throw e=Fe,xe=!1,Fe=null,e}function st(e,t){var i=t[ps];i===void 0&&(i=t[ps]=new Set);var l=e+"__bubble";i.has(l)||(ad(t,e,2,!1),i.add(l))}function os(e,t,i){var l=0;t&&(l|=4),ad(i,e,l,t)}var so="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[so]){e[so]=!0,o.forEach(function(i){i!=="selectionchange"&&(dg.has(i)||os(i,!1,e),os(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[so]||(t[so]=!0,os("selectionchange",!1,t))}}function ad(e,t,i,l){switch(Cu(t)){case 1:var d=kh;break;case 4:d=Sh;break;default:d=Hl}i=d.bind(null,t,i,e),d=void 0,!be||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function ls(e,t,i,l,d){var p=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var _=l.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;v=v.return}for(;_!==null;){if(v=Fn(_),v===null)return;if(N=v.tag,N===5||N===6){l=p=v;continue e}_=_.parentNode}}l=l.return}G(function(){var B=p,oe=On(i),se=[];e:{var ae=ed.get(e);if(ae!==void 0){var ye=Vl,Ee=e;switch(e){case"keypress":if(ro(i)===0)break e;case"keydown":case"keyup":ye=$h;break;case"focusin":Ee="focus",ye=Yl;break;case"focusout":Ee="blur",ye=Yl;break;case"beforeblur":case"afterblur":ye=Yl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=qh;break;case Qu:case Ju:case Xu:ye=Ih;break;case Zu:ye=Vh;break;case"scroll":ye=Ch;break;case"wheel":ye=Kh;break;case"copy":case"cut":case"paste":ye=Oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Iu}var Se=(t&4)!==0,yt=!Se&&e==="scroll",L=Se?ae!==null?ae+"Capture":null:ae;Se=[];for(var O=B,F;O!==null;){F=O;var pe=F.stateNode;if(F.tag===5&&pe!==null&&(F=pe,L!==null&&(pe=ie(O,L),pe!=null&&Se.push(di(O,pe,F)))),yt)break;O=O.return}0<Se.length&&(ae=new ye(ae,Ee,null,i,oe),se.push({event:ae,listeners:Se}))}}if(!(t&7)){e:{if(ae=e==="mouseover"||e==="pointerover",ye=e==="mouseout"||e==="pointerout",ae&&i!==wr&&(Ee=i.relatedTarget||i.fromElement)&&(Fn(Ee)||Ee[Vr]))break e;if((ye||ae)&&(ae=oe.window===oe?oe:(ae=oe.ownerDocument)?ae.defaultView||ae.parentWindow:window,ye?(Ee=i.relatedTarget||i.toElement,ye=B,Ee=Ee?Fn(Ee):null,Ee!==null&&(yt=Je(Ee),Ee!==yt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=B),ye!==Ee)){if(Se=Tu,pe="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Iu,pe="onPointerLeave",L="onPointerEnter",O="pointer"),yt=ye==null?ae:va(ye),F=Ee==null?ae:va(Ee),ae=new Se(pe,O+"leave",ye,i,oe),ae.target=yt,ae.relatedTarget=F,pe=null,Fn(oe)===B&&(Se=new Se(L,O+"enter",Ee,i,oe),Se.target=F,Se.relatedTarget=yt,pe=Se),yt=pe,ye&&Ee)t:{for(Se=ye,L=Ee,O=0,F=Se;F;F=ga(F))O++;for(F=0,pe=L;pe;pe=ga(pe))F++;for(;0<O-F;)Se=ga(Se),O--;for(;0<F-O;)L=ga(L),F--;for(;O--;){if(Se===L||L!==null&&Se===L.alternate)break t;Se=ga(Se),L=ga(L)}Se=null}else Se=null;ye!==null&&id(se,ae,ye,Se,!1),Ee!==null&&yt!==null&&id(se,yt,Ee,Se,!0)}}e:{if(ae=B?va(B):window,ye=ae.nodeName&&ae.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ae.type==="file")var Re=tg;else if(Uu(ae))if(zu)Re=ig;else{Re=ng;var Ae=rg}else(ye=ae.nodeName)&&ye.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Re=ag);if(Re&&(Re=Re(e,B))){Fu(se,Re,i,oe);break e}Ae&&Ae(e,ae,B),e==="focusout"&&(Ae=ae._wrapperState)&&Ae.controlled&&ae.type==="number"&&Lt(ae,"number",ae.value)}switch(Ae=B?va(B):window,e){case"focusin":(Uu(Ae)||Ae.contentEditable==="true")&&(ma=Ae,ts=B,si=null);break;case"focusout":si=ts=ma=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,Ku(se,i,oe);break;case"selectionchange":if(sg)break;case"keydown":case"keyup":Ku(se,i,oe)}var Me;if(Jl)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else pa?Mu(e,i)&&(ze="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ze="onCompositionStart");ze&&(Du&&i.locale!=="ko"&&(pa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&pa&&(Me=Pu()):(dn=oe,Gl="value"in dn?dn.value:dn.textContent,pa=!0)),Ae=co(B,ze),0<Ae.length&&(ze=new Ru(ze,e,null,i,oe),se.push({event:ze,listeners:Ae}),Me?ze.data=Me:(Me=Lu(i),Me!==null&&(ze.data=Me)))),(Me=Qh?Jh(e,i):Xh(e,i))&&(B=co(B,"onBeforeInput"),0<B.length&&(oe=new Ru("onBeforeInput","beforeinput",null,i,oe),se.push({event:oe,listeners:B}),oe.data=Me))}nd(se,t)})}function di(e,t,i){return{instance:e,listener:t,currentTarget:i}}function co(e,t){for(var i=t+"Capture",l=[];e!==null;){var d=e,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=ie(e,i),p!=null&&l.unshift(di(e,p,d)),p=ie(e,t),p!=null&&l.push(di(e,p,d))),e=e.return}return l}function ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function id(e,t,i,l,d){for(var p=t._reactName,v=[];i!==null&&i!==l;){var _=i,N=_.alternate,B=_.stateNode;if(N!==null&&N===l)break;_.tag===5&&B!==null&&(_=B,d?(N=ie(i,p),N!=null&&v.unshift(di(i,N,_))):d||(N=ie(i,p),N!=null&&v.push(di(i,N,_)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var fg=/\r\n?/g,pg=/\u0000|\uFFFD/g;function od(e){return(typeof e=="string"?e:""+e).replace(fg,`
`).replace(pg,"")}function uo(e,t,i){if(t=od(t),od(e)!==t&&i)throw Error(a(425))}function fo(){}var ss=null,cs=null;function us(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ds=typeof setTimeout=="function"?setTimeout:void 0,mg=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,hg=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(gg)}:ds;function gg(e){setTimeout(function(){throw e})}function fs(e,t){var i=t,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){e.removeChild(d),ti(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);ti(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Ar="__reactFiber$"+xa,fi="__reactProps$"+xa,Vr="__reactContainer$"+xa,ps="__reactEvents$"+xa,xg="__reactListeners$"+xa,vg="__reactHandles$"+xa;function Fn(e){var t=e[Ar];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Vr]||i[Ar]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=sd(e);e!==null;){if(i=e[Ar])return i;e=sd(e)}return t}e=i,i=e.parentNode}return null}function pi(e){return e=e[Ar]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function va(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function po(e){return e[fi]||null}var ms=[],ya=-1;function mn(e){return{current:e}}function ct(e){0>ya||(e.current=ms[ya],ms[ya]=null,ya--)}function ot(e,t){ya++,ms[ya]=e.current,e.current=t}var hn={},Ut=mn(hn),Vt=mn(!1),zn=hn;function wa(e,t){var i=e.type.contextTypes;if(!i)return hn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in i)d[p]=t[p];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Wt(e){return e=e.childContextTypes,e!=null}function mo(){ct(Vt),ct(Ut)}function cd(e,t,i){if(Ut.current!==hn)throw Error(a(168));ot(Ut,t),ot(Vt,i)}function ud(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in t))throw Error(a(108,Pe(e)||"Unknown",d));return ne({},i,l)}function ho(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,zn=Ut.current,ot(Ut,e),ot(Vt,Vt.current),!0}function dd(e,t,i){var l=e.stateNode;if(!l)throw Error(a(169));i?(e=ud(e,t,zn),l.__reactInternalMemoizedMergedChildContext=e,ct(Vt),ct(Ut),ot(Ut,e)):ct(Vt),ot(Vt,i)}var Wr=null,go=!1,hs=!1;function fd(e){Wr===null?Wr=[e]:Wr.push(e)}function yg(e){go=!0,fd(e)}function gn(){if(!hs&&Wr!==null){hs=!0;var e=0,t=et;try{var i=Wr;for(et=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Wr=null,go=!1}catch(d){throw Wr!==null&&(Wr=Wr.slice(e+1)),tr(Xe,gn),d}finally{et=t,hs=!1}}return null}var ba=[],_a=0,xo=null,vo=0,fr=[],pr=0,$n=null,Kr=1,Yr="";function Bn(e,t){ba[_a++]=vo,ba[_a++]=xo,xo=e,vo=t}function pd(e,t,i){fr[pr++]=Kr,fr[pr++]=Yr,fr[pr++]=$n,$n=e;var l=Kr;e=Yr;var d=32-_r(l)-1;l&=~(1<<d),i+=1;var p=32-_r(t)+d;if(30<p){var v=d-d%5;p=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Kr=1<<32-_r(t)+d|i<<d|l,Yr=p+e}else Kr=1<<p|i<<d|l,Yr=e}function gs(e){e.return!==null&&(Bn(e,1),pd(e,1,0))}function xs(e){for(;e===xo;)xo=ba[--_a],ba[_a]=null,vo=ba[--_a],ba[_a]=null;for(;e===$n;)$n=fr[--pr],fr[pr]=null,Yr=fr[--pr],fr[pr]=null,Kr=fr[--pr],fr[pr]=null}var ar=null,ir=null,ut=!1,jr=null;function md(e,t){var i=xr(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function hd(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,ir=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=$n!==null?{id:Kr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=xr(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ar=e,ir=null,!0):!1;default:return!1}}function vs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ys(e){if(ut){var t=ir;if(t){var i=t;if(!hd(e,t)){if(vs(e))throw Error(a(418));t=pn(i.nextSibling);var l=ar;t&&hd(e,t)?md(l,i):(e.flags=e.flags&-4097|2,ut=!1,ar=e)}}else{if(vs(e))throw Error(a(418));e.flags=e.flags&-4097|2,ut=!1,ar=e}}}function gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function yo(e){if(e!==ar)return!1;if(!ut)return gd(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!us(e.type,e.memoizedProps)),t&&(t=ir)){if(vs(e))throw xd(),Error(a(418));for(;t;)md(e,t),t=pn(t.nextSibling)}if(gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ir=pn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=ar?pn(e.stateNode.nextSibling):null;return!0}function xd(){for(var e=ir;e;)e=pn(e.nextSibling)}function Ea(){ir=ar=null,ut=!1}function ws(e){jr===null?jr=[e]:jr.push(e)}var wg=te.ReactCurrentBatchConfig;function mi(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var l=i.stateNode}if(!l)throw Error(a(147,e));var d=l,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(v){var _=d.refs;v===null?delete _[p]:_[p]=v},t._stringRef=p,t)}if(typeof e!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vd(e){var t=e._init;return t(e._payload)}function yd(e){function t(L,O){if(e){var F=L.deletions;F===null?(L.deletions=[O],L.flags|=16):F.push(O)}}function i(L,O){if(!e)return null;for(;O!==null;)t(L,O),O=O.sibling;return null}function l(L,O){for(L=new Map;O!==null;)O.key!==null?L.set(O.key,O):L.set(O.index,O),O=O.sibling;return L}function d(L,O){return L=jn(L,O),L.index=0,L.sibling=null,L}function p(L,O,F){return L.index=F,e?(F=L.alternate,F!==null?(F=F.index,F<O?(L.flags|=2,O):F):(L.flags|=2,O)):(L.flags|=1048576,O)}function v(L){return e&&L.alternate===null&&(L.flags|=2),L}function _(L,O,F,pe){return O===null||O.tag!==6?(O=dc(F,L.mode,pe),O.return=L,O):(O=d(O,F),O.return=L,O)}function N(L,O,F,pe){var Re=F.type;return Re===$?oe(L,O,F.props.children,pe,F.key):O!==null&&(O.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ke&&vd(Re)===O.type)?(pe=d(O,F.props),pe.ref=mi(L,O,F),pe.return=L,pe):(pe=qo(F.type,F.key,F.props,null,L.mode,pe),pe.ref=mi(L,O,F),pe.return=L,pe)}function B(L,O,F,pe){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=fc(F,L.mode,pe),O.return=L,O):(O=d(O,F.children||[]),O.return=L,O)}function oe(L,O,F,pe,Re){return O===null||O.tag!==7?(O=Qn(F,L.mode,pe,Re),O.return=L,O):(O=d(O,F),O.return=L,O)}function se(L,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return O=dc(""+O,L.mode,F),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return F=qo(O.type,O.key,O.props,null,L.mode,F),F.ref=mi(L,null,O),F.return=L,F;case q:return O=fc(O,L.mode,F),O.return=L,O;case ke:var pe=O._init;return se(L,pe(O._payload),F)}if(ge(O)||Y(O))return O=Qn(O,L.mode,F,null),O.return=L,O;wo(L,O)}return null}function ae(L,O,F,pe){var Re=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Re!==null?null:_(L,O,""+F,pe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return F.key===Re?N(L,O,F,pe):null;case q:return F.key===Re?B(L,O,F,pe):null;case ke:return Re=F._init,ae(L,O,Re(F._payload),pe)}if(ge(F)||Y(F))return Re!==null?null:oe(L,O,F,pe,null);wo(L,F)}return null}function ye(L,O,F,pe,Re){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return L=L.get(F)||null,_(O,L,""+pe,Re);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case R:return L=L.get(pe.key===null?F:pe.key)||null,N(O,L,pe,Re);case q:return L=L.get(pe.key===null?F:pe.key)||null,B(O,L,pe,Re);case ke:var Ae=pe._init;return ye(L,O,F,Ae(pe._payload),Re)}if(ge(pe)||Y(pe))return L=L.get(F)||null,oe(O,L,pe,Re,null);wo(O,pe)}return null}function Ee(L,O,F,pe){for(var Re=null,Ae=null,Me=O,ze=O=0,Nt=null;Me!==null&&ze<F.length;ze++){Me.index>ze?(Nt=Me,Me=null):Nt=Me.sibling;var Qe=ae(L,Me,F[ze],pe);if(Qe===null){Me===null&&(Me=Nt);break}e&&Me&&Qe.alternate===null&&t(L,Me),O=p(Qe,O,ze),Ae===null?Re=Qe:Ae.sibling=Qe,Ae=Qe,Me=Nt}if(ze===F.length)return i(L,Me),ut&&Bn(L,ze),Re;if(Me===null){for(;ze<F.length;ze++)Me=se(L,F[ze],pe),Me!==null&&(O=p(Me,O,ze),Ae===null?Re=Me:Ae.sibling=Me,Ae=Me);return ut&&Bn(L,ze),Re}for(Me=l(L,Me);ze<F.length;ze++)Nt=ye(Me,L,ze,F[ze],pe),Nt!==null&&(e&&Nt.alternate!==null&&Me.delete(Nt.key===null?ze:Nt.key),O=p(Nt,O,ze),Ae===null?Re=Nt:Ae.sibling=Nt,Ae=Nt);return e&&Me.forEach(function(kn){return t(L,kn)}),ut&&Bn(L,ze),Re}function Se(L,O,F,pe){var Re=Y(F);if(typeof Re!="function")throw Error(a(150));if(F=Re.call(F),F==null)throw Error(a(151));for(var Ae=Re=null,Me=O,ze=O=0,Nt=null,Qe=F.next();Me!==null&&!Qe.done;ze++,Qe=F.next()){Me.index>ze?(Nt=Me,Me=null):Nt=Me.sibling;var kn=ae(L,Me,Qe.value,pe);if(kn===null){Me===null&&(Me=Nt);break}e&&Me&&kn.alternate===null&&t(L,Me),O=p(kn,O,ze),Ae===null?Re=kn:Ae.sibling=kn,Ae=kn,Me=Nt}if(Qe.done)return i(L,Me),ut&&Bn(L,ze),Re;if(Me===null){for(;!Qe.done;ze++,Qe=F.next())Qe=se(L,Qe.value,pe),Qe!==null&&(O=p(Qe,O,ze),Ae===null?Re=Qe:Ae.sibling=Qe,Ae=Qe);return ut&&Bn(L,ze),Re}for(Me=l(L,Me);!Qe.done;ze++,Qe=F.next())Qe=ye(Me,L,ze,Qe.value,pe),Qe!==null&&(e&&Qe.alternate!==null&&Me.delete(Qe.key===null?ze:Qe.key),O=p(Qe,O,ze),Ae===null?Re=Qe:Ae.sibling=Qe,Ae=Qe);return e&&Me.forEach(function(Zg){return t(L,Zg)}),ut&&Bn(L,ze),Re}function yt(L,O,F,pe){if(typeof F=="object"&&F!==null&&F.type===$&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case R:e:{for(var Re=F.key,Ae=O;Ae!==null;){if(Ae.key===Re){if(Re=F.type,Re===$){if(Ae.tag===7){i(L,Ae.sibling),O=d(Ae,F.props.children),O.return=L,L=O;break e}}else if(Ae.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ke&&vd(Re)===Ae.type){i(L,Ae.sibling),O=d(Ae,F.props),O.ref=mi(L,Ae,F),O.return=L,L=O;break e}i(L,Ae);break}else t(L,Ae);Ae=Ae.sibling}F.type===$?(O=Qn(F.props.children,L.mode,pe,F.key),O.return=L,L=O):(pe=qo(F.type,F.key,F.props,null,L.mode,pe),pe.ref=mi(L,O,F),pe.return=L,L=pe)}return v(L);case q:e:{for(Ae=F.key;O!==null;){if(O.key===Ae)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){i(L,O.sibling),O=d(O,F.children||[]),O.return=L,L=O;break e}else{i(L,O);break}else t(L,O);O=O.sibling}O=fc(F,L.mode,pe),O.return=L,L=O}return v(L);case ke:return Ae=F._init,yt(L,O,Ae(F._payload),pe)}if(ge(F))return Ee(L,O,F,pe);if(Y(F))return Se(L,O,F,pe);wo(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,O!==null&&O.tag===6?(i(L,O.sibling),O=d(O,F),O.return=L,L=O):(i(L,O),O=dc(F,L.mode,pe),O.return=L,L=O),v(L)):i(L,O)}return yt}var ja=yd(!0),wd=yd(!1),bo=mn(null),_o=null,ka=null,bs=null;function _s(){bs=ka=_o=null}function Es(e){var t=bo.current;ct(bo),e._currentValue=t}function js(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Sa(e,t){_o=e,bs=ka=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},ka===null){if(_o===null)throw Error(a(308));ka=e,_o.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Hn=null;function ks(e){Hn===null?Hn=[e]:Hn.push(e)}function bd(e,t,i,l){var d=t.interleaved;return d===null?(i.next=i,ks(t)):(i.next=d.next,d.next=i),t.interleaved=i,Qr(e,l)}function Qr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var xn=!1;function Ss(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Ye&2){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,Qr(e,i)}return d=l.interleaved,d===null?(t.next=t,ks(l)):(t.next=d.next,d.next=t),l.interleaved=t,Qr(e,i)}function Eo(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,zl(e,i)}}function Ed(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var v={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?d=p=v:p=p.next=v,i=i.next}while(i!==null);p===null?d=p=t:p=p.next=t}else d=p=t;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function jo(e,t,i,l){var d=e.updateQueue;xn=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var N=_,B=N.next;N.next=null,v===null?p=B:v.next=B,v=N;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,_=oe.lastBaseUpdate,_!==v&&(_===null?oe.firstBaseUpdate=B:_.next=B,oe.lastBaseUpdate=N))}if(p!==null){var se=d.baseState;v=0,oe=B=N=null,_=p;do{var ae=_.lane,ye=_.eventTime;if((l&ae)===ae){oe!==null&&(oe=oe.next={eventTime:ye,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Ee=e,Se=_;switch(ae=t,ye=i,Se.tag){case 1:if(Ee=Se.payload,typeof Ee=="function"){se=Ee.call(ye,se,ae);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Se.payload,ae=typeof Ee=="function"?Ee.call(ye,se,ae):Ee,ae==null)break e;se=ne({},se,ae);break e;case 2:xn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,ae=d.effects,ae===null?d.effects=[_]:ae.push(_))}else ye={eventTime:ye,lane:ae,tag:_.tag,payload:_.payload,callback:_.callback,next:null},oe===null?(B=oe=ye,N=se):oe=oe.next=ye,v|=ae;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;ae=_,_=ae.next,ae.next=null,d.lastBaseUpdate=ae,d.shared.pending=null}}while(!0);if(oe===null&&(N=se),d.baseState=N,d.firstBaseUpdate=B,d.lastBaseUpdate=oe,t=d.shared.interleaved,t!==null){d=t;do v|=d.lane,d=d.next;while(d!==t)}else p===null&&(d.shared.lanes=0);Vn|=v,e.lanes=v,e.memoizedState=se}}function jd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(a(191,d));d.call(l)}}}var hi={},Mr=mn(hi),gi=mn(hi),xi=mn(hi);function qn(e){if(e===hi)throw Error(a(174));return e}function Cs(e,t){switch(ot(xi,t),ot(gi,e),ot(Mr,hi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ne(t,e)}ct(Mr),ot(Mr,t)}function Ca(){ct(Mr),ct(gi),ct(xi)}function kd(e){qn(xi.current);var t=qn(Mr.current),i=Ne(t,e.type);t!==i&&(ot(gi,e),ot(Mr,i))}function Ps(e){gi.current===e&&(ct(Mr),ct(gi))}var pt=mn(0);function ko(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ns=[];function Ts(){for(var e=0;e<Ns.length;e++)Ns[e]._workInProgressVersionPrimary=null;Ns.length=0}var So=te.ReactCurrentDispatcher,Rs=te.ReactCurrentBatchConfig,Gn=0,mt=null,jt=null,Ct=null,Co=!1,vi=!1,yi=0,bg=0;function Ft(){throw Error(a(321))}function Is(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Er(e[i],t[i]))return!1;return!0}function Ds(e,t,i,l,d,p){if(Gn=p,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,So.current=e===null||e.memoizedState===null?kg:Sg,e=i(l,d),vi){p=0;do{if(vi=!1,yi=0,25<=p)throw Error(a(301));p+=1,Ct=jt=null,t.updateQueue=null,So.current=Cg,e=i(l,d)}while(vi)}if(So.current=To,t=jt!==null&&jt.next!==null,Gn=0,Ct=jt=mt=null,Co=!1,t)throw Error(a(300));return e}function Os(){var e=yi!==0;return yi=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?mt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function hr(){if(jt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Ct===null?mt.memoizedState:Ct.next;if(t!==null)Ct=t,jt=e;else{if(e===null)throw Error(a(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ct===null?mt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function wi(e,t){return typeof t=="function"?t(e):t}function As(e){var t=hr(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=jt,d=l.baseQueue,p=i.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}l.baseQueue=d=p,i.pending=null}if(d!==null){p=d.next,l=l.baseState;var _=v=null,N=null,B=p;do{var oe=B.lane;if((Gn&oe)===oe)N!==null&&(N=N.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),l=B.hasEagerState?B.eagerState:e(l,B.action);else{var se={lane:oe,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};N===null?(_=N=se,v=l):N=N.next=se,mt.lanes|=oe,Vn|=oe}B=B.next}while(B!==null&&B!==p);N===null?v=l:N.next=_,Er(l,t.memoizedState)||(Kt=!0),t.memoizedState=l,t.baseState=v,t.baseQueue=N,i.lastRenderedState=l}if(e=i.interleaved,e!==null){d=e;do p=d.lane,mt.lanes|=p,Vn|=p,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ms(e){var t=hr(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,p=t.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do p=e(p,v.action),v=v.next;while(v!==d);Er(p,t.memoizedState)||(Kt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,l]}function Sd(){}function Cd(e,t){var i=mt,l=hr(),d=t(),p=!Er(l.memoizedState,d);if(p&&(l.memoizedState=d,Kt=!0),l=l.queue,Ls(Td.bind(null,i,l,e),[e]),l.getSnapshot!==t||p||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,bi(9,Nd.bind(null,i,l,d,t),void 0,null),Pt===null)throw Error(a(349));Gn&30||Pd(i,t,d)}return d}function Pd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Nd(e,t,i,l){t.value=i,t.getSnapshot=l,Rd(t)&&Id(e)}function Td(e,t,i){return i(function(){Rd(t)&&Id(e)})}function Rd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Er(e,i)}catch{return!0}}function Id(e){var t=Qr(e,1);t!==null&&Pr(t,e,1,-1)}function Dd(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=jg.bind(null,mt,e),[t.memoizedState,e]}function bi(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function Od(){return hr().memoizedState}function Po(e,t,i,l){var d=Lr();mt.flags|=e,d.memoizedState=bi(1|t,i,void 0,l===void 0?null:l)}function No(e,t,i,l){var d=hr();l=l===void 0?null:l;var p=void 0;if(jt!==null){var v=jt.memoizedState;if(p=v.destroy,l!==null&&Is(l,v.deps)){d.memoizedState=bi(t,i,p,l);return}}mt.flags|=e,d.memoizedState=bi(1|t,i,p,l)}function Ad(e,t){return Po(8390656,8,e,t)}function Ls(e,t){return No(2048,8,e,t)}function Md(e,t){return No(4,2,e,t)}function Ld(e,t){return No(4,4,e,t)}function Ud(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fd(e,t,i){return i=i!=null?i.concat([e]):null,No(4,4,Ud.bind(null,t,e),i)}function Us(){}function zd(e,t){var i=hr();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Is(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function $d(e,t){var i=hr();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Is(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function Bd(e,t,i){return Gn&21?(Er(i,t)||(i=vu(),mt.lanes|=i,Vn|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=i)}function _g(e,t){var i=et;et=i!==0&&4>i?i:4,e(!0);var l=Rs.transition;Rs.transition={};try{e(!1),t()}finally{et=i,Rs.transition=l}}function Hd(){return hr().memoizedState}function Eg(e,t,i){var l=_n(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},qd(e))Gd(t,i);else if(i=bd(e,t,i,l),i!==null){var d=Ht();Pr(i,e,l,d),Vd(i,t,l)}}function jg(e,t,i){var l=_n(e),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Gd(t,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var v=t.lastRenderedState,_=p(v,i);if(d.hasEagerState=!0,d.eagerState=_,Er(_,v)){var N=t.interleaved;N===null?(d.next=d,ks(t)):(d.next=N.next,N.next=d),t.interleaved=d;return}}catch{}finally{}i=bd(e,t,d,l),i!==null&&(d=Ht(),Pr(i,e,l,d),Vd(i,t,l))}}function qd(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function Gd(e,t){vi=Co=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Vd(e,t,i){if(i&4194240){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,zl(e,i)}}var To={readContext:mr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},kg={readContext:mr,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:Ad,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Po(4194308,4,Ud.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var i=Lr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=Lr();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Eg.bind(null,mt,e),[l.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:Dd,useDebugValue:Us,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=Dd(!1),t=e[0];return e=_g.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=mt,d=Lr();if(ut){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Pt===null)throw Error(a(349));Gn&30||Pd(l,t,i)}d.memoizedState=i;var p={value:i,getSnapshot:t};return d.queue=p,Ad(Td.bind(null,l,p,e),[e]),l.flags|=2048,bi(9,Nd.bind(null,l,p,i,t),void 0,null),i},useId:function(){var e=Lr(),t=Pt.identifierPrefix;if(ut){var i=Yr,l=Kr;i=(l&~(1<<32-_r(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=yi++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=bg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sg={readContext:mr,useCallback:zd,useContext:mr,useEffect:Ls,useImperativeHandle:Fd,useInsertionEffect:Md,useLayoutEffect:Ld,useMemo:$d,useReducer:As,useRef:Od,useState:function(){return As(wi)},useDebugValue:Us,useDeferredValue:function(e){var t=hr();return Bd(t,jt.memoizedState,e)},useTransition:function(){var e=As(wi)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:Cd,useId:Hd,unstable_isNewReconciler:!1},Cg={readContext:mr,useCallback:zd,useContext:mr,useEffect:Ls,useImperativeHandle:Fd,useInsertionEffect:Md,useLayoutEffect:Ld,useMemo:$d,useReducer:Ms,useRef:Od,useState:function(){return Ms(wi)},useDebugValue:Us,useDeferredValue:function(e){var t=hr();return jt===null?t.memoizedState=e:Bd(t,jt.memoizedState,e)},useTransition:function(){var e=Ms(wi)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Sd,useSyncExternalStore:Cd,useId:Hd,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Fs(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:ne({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ro={isMounted:function(e){return(e=e._reactInternals)?Je(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=Ht(),d=_n(e),p=Jr(l,d);p.payload=t,i!=null&&(p.callback=i),t=vn(e,p,d),t!==null&&(Pr(t,e,d,l),Eo(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=Ht(),d=_n(e),p=Jr(l,d);p.tag=1,p.payload=t,i!=null&&(p.callback=i),t=vn(e,p,d),t!==null&&(Pr(t,e,d,l),Eo(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),l=_n(e),d=Jr(i,l);d.tag=2,t!=null&&(d.callback=t),t=vn(e,d,l),t!==null&&(Pr(t,e,l,i),Eo(t,e,l))}};function Wd(e,t,i,l,d,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,v):t.prototype&&t.prototype.isPureReactComponent?!li(i,l)||!li(d,p):!0}function Kd(e,t,i){var l=!1,d=hn,p=t.contextType;return typeof p=="object"&&p!==null?p=mr(p):(d=Wt(t)?zn:Ut.current,l=t.contextTypes,p=(l=l!=null)?wa(e,d):hn),t=new t(i,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ro,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=p),t}function Yd(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function zs(e,t,i,l){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},Ss(e);var p=t.contextType;typeof p=="object"&&p!==null?d.context=mr(p):(p=Wt(t)?zn:Ut.current,d.context=wa(e,p)),d.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(Fs(e,t,p,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Ro.enqueueReplaceState(d,d.state,null),jo(e,i,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Pa(e,t){try{var i="",l=t;do i+=me(l),l=l.return;while(l);var d=i}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:d,digest:null}}function $s(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Bs(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Pg=typeof WeakMap=="function"?WeakMap:Map;function Qd(e,t,i){i=Jr(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){Uo||(Uo=!0,nc=l),Bs(e,t)},i}function Jd(e,t,i){i=Jr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=t.value;i.payload=function(){return l(d)},i.callback=function(){Bs(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){Bs(e,t),typeof l!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),i}function Xd(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Pg;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(i)||(d.add(i),e=Bg.bind(null,e,t,i),t.then(e,e))}function Zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ef(e,t,i,l,d){return e.mode&1?(e.flags|=65536,e.lanes=d,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Jr(-1,1),t.tag=2,vn(i,t,1))),i.lanes|=1),e)}var Ng=te.ReactCurrentOwner,Kt=!1;function Bt(e,t,i,l){t.child=e===null?wd(t,null,i,l):ja(t,e.child,i,l)}function tf(e,t,i,l,d){i=i.render;var p=t.ref;return Sa(t,d),l=Ds(e,t,i,l,p,d),i=Os(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Xr(e,t,d)):(ut&&i&&gs(t),t.flags|=1,Bt(e,t,l,d),t.child)}function rf(e,t,i,l,d){if(e===null){var p=i.type;return typeof p=="function"&&!uc(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=p,nf(e,t,p,l,d)):(e=qo(i.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!(e.lanes&d)){var v=p.memoizedProps;if(i=i.compare,i=i!==null?i:li,i(v,l)&&e.ref===t.ref)return Xr(e,t,d)}return t.flags|=1,e=jn(p,l),e.ref=t.ref,e.return=t,t.child=e}function nf(e,t,i,l,d){if(e!==null){var p=e.memoizedProps;if(li(p,l)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=l=p,(e.lanes&d)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,Xr(e,t,d)}return Hs(e,t,i,l,d)}function af(e,t,i){var l=t.pendingProps,d=l.children,p=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ta,or),or|=i;else{if(!(i&1073741824))return e=p!==null?p.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(Ta,or),or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=p!==null?p.baseLanes:i,ot(Ta,or),or|=l}else p!==null?(l=p.baseLanes|i,t.memoizedState=null):l=i,ot(Ta,or),or|=l;return Bt(e,t,d,i),t.child}function of(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Hs(e,t,i,l,d){var p=Wt(i)?zn:Ut.current;return p=wa(t,p),Sa(t,d),i=Ds(e,t,i,l,p,d),l=Os(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Xr(e,t,d)):(ut&&l&&gs(t),t.flags|=1,Bt(e,t,i,d),t.child)}function lf(e,t,i,l,d){if(Wt(i)){var p=!0;ho(t)}else p=!1;if(Sa(t,d),t.stateNode===null)Do(e,t),Kd(t,i,l),zs(t,i,l,d),l=!0;else if(e===null){var v=t.stateNode,_=t.memoizedProps;v.props=_;var N=v.context,B=i.contextType;typeof B=="object"&&B!==null?B=mr(B):(B=Wt(i)?zn:Ut.current,B=wa(t,B));var oe=i.getDerivedStateFromProps,se=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function";se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==l||N!==B)&&Yd(t,v,l,B),xn=!1;var ae=t.memoizedState;v.state=ae,jo(t,l,v,d),N=t.memoizedState,_!==l||ae!==N||Vt.current||xn?(typeof oe=="function"&&(Fs(t,i,oe,l),N=t.memoizedState),(_=xn||Wd(t,i,_,l,ae,N,B))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=N),v.props=l,v.state=N,v.context=B,l=_):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{v=t.stateNode,_d(e,t),_=t.memoizedProps,B=t.type===t.elementType?_:kr(t.type,_),v.props=B,se=t.pendingProps,ae=v.context,N=i.contextType,typeof N=="object"&&N!==null?N=mr(N):(N=Wt(i)?zn:Ut.current,N=wa(t,N));var ye=i.getDerivedStateFromProps;(oe=typeof ye=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==se||ae!==N)&&Yd(t,v,l,N),xn=!1,ae=t.memoizedState,v.state=ae,jo(t,l,v,d);var Ee=t.memoizedState;_!==se||ae!==Ee||Vt.current||xn?(typeof ye=="function"&&(Fs(t,i,ye,l),Ee=t.memoizedState),(B=xn||Wd(t,i,B,l,ae,Ee,N)||!1)?(oe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,Ee,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,Ee,N)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Ee),v.props=l,v.state=Ee,v.context=N,l=B):(typeof v.componentDidUpdate!="function"||_===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return qs(e,t,i,l,p,d)}function qs(e,t,i,l,d,p){of(e,t);var v=(t.flags&128)!==0;if(!l&&!v)return d&&dd(t,i,!1),Xr(e,t,p);l=t.stateNode,Ng.current=t;var _=v&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&v?(t.child=ja(t,e.child,null,p),t.child=ja(t,null,_,p)):Bt(e,t,_,p),t.memoizedState=l.state,d&&dd(t,i,!0),t.child}function sf(e){var t=e.stateNode;t.pendingContext?cd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cd(e,t.context,!1),Cs(e,t.containerInfo)}function cf(e,t,i,l,d){return Ea(),ws(d),t.flags|=256,Bt(e,t,i,l),t.child}var Gs={dehydrated:null,treeContext:null,retryLane:0};function Vs(e){return{baseLanes:e,cachePool:null,transitions:null}}function uf(e,t,i){var l=t.pendingProps,d=pt.current,p=!1,v=(t.flags&128)!==0,_;if((_=v)||(_=e!==null&&e.memoizedState===null?!1:(d&2)!==0),_?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ot(pt,d&1),e===null)return ys(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(v=l.children,e=l.fallback,p?(l=t.mode,p=t.child,v={mode:"hidden",children:v},!(l&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Go(v,l,0,null),e=Qn(e,l,i,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=Vs(i),t.memoizedState=Gs,e):Ws(t,v));if(d=e.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return Tg(e,t,v,l,_,d,i);if(p){p=l.fallback,v=t.mode,d=e.child,_=d.sibling;var N={mode:"hidden",children:l.children};return!(v&1)&&t.child!==d?(l=t.child,l.childLanes=0,l.pendingProps=N,t.deletions=null):(l=jn(d,N),l.subtreeFlags=d.subtreeFlags&14680064),_!==null?p=jn(_,p):(p=Qn(p,v,i,null),p.flags|=2),p.return=t,l.return=t,l.sibling=p,t.child=l,l=p,p=t.child,v=e.child.memoizedState,v=v===null?Vs(i):{baseLanes:v.baseLanes|i,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=e.childLanes&~i,t.memoizedState=Gs,l}return p=e.child,e=p.sibling,l=jn(p,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function Ws(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Io(e,t,i,l){return l!==null&&ws(l),ja(t,e.child,null,i),e=Ws(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tg(e,t,i,l,d,p,v){if(i)return t.flags&256?(t.flags&=-257,l=$s(Error(a(422))),Io(e,t,v,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=l.fallback,d=t.mode,l=Go({mode:"visible",children:l.children},d,0,null),p=Qn(p,d,v,null),p.flags|=2,l.return=t,p.return=t,l.sibling=p,t.child=l,t.mode&1&&ja(t,e.child,null,v),t.child.memoizedState=Vs(v),t.memoizedState=Gs,p);if(!(t.mode&1))return Io(e,t,v,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var _=l.dgst;return l=_,p=Error(a(419)),l=$s(p,l,void 0),Io(e,t,v,l)}if(_=(v&e.childLanes)!==0,Kt||_){if(l=Pt,l!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(l.suspendedLanes|v)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Qr(e,d),Pr(l,e,d,-1))}return cc(),l=$s(Error(a(421))),Io(e,t,v,l)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Hg.bind(null,e),d._reactRetry=t,null):(e=p.treeContext,ir=pn(d.nextSibling),ar=t,ut=!0,jr=null,e!==null&&(fr[pr++]=Kr,fr[pr++]=Yr,fr[pr++]=$n,Kr=e.id,Yr=e.overflow,$n=t),t=Ws(t,l.children),t.flags|=4096,t)}function df(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),js(e.return,t,i)}function Ks(e,t,i,l,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=i,p.tailMode=d)}function ff(e,t,i){var l=t.pendingProps,d=l.revealOrder,p=l.tail;if(Bt(e,t,l.children,i),l=pt.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,i,t);else if(e.tag===19)df(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ot(pt,l),!(t.mode&1))t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&ko(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),Ks(t,!1,d,i,p);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&ko(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Ks(t,!0,i,null,p);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Do(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=jn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=jn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Rg(e,t,i){switch(t.tag){case 3:sf(t),Ea();break;case 5:kd(t);break;case 1:Wt(t.type)&&ho(t);break;case 4:Cs(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,d=t.memoizedProps.value;ot(bo,l._currentValue),l._currentValue=d;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(ot(pt,pt.current&1),t.flags|=128,null):i&t.child.childLanes?uf(e,t,i):(ot(pt,pt.current&1),e=Xr(e,t,i),e!==null?e.sibling:null);ot(pt,pt.current&1);break;case 19:if(l=(i&t.childLanes)!==0,e.flags&128){if(l)return ff(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ot(pt,pt.current),l)break;return null;case 22:case 23:return t.lanes=0,af(e,t,i)}return Xr(e,t,i)}var pf,Ys,mf,hf;pf=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ys=function(){},mf=function(e,t,i,l){var d=e.memoizedProps;if(d!==l){e=t.stateNode,qn(Mr.current);var p=null;switch(i){case"input":d=vt(e,d),l=vt(e,l),p=[];break;case"select":d=ne({},d,{value:void 0}),l=ne({},l,{value:void 0}),p=[];break;case"textarea":d=De(e,d),l=De(e,l),p=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=fo)}ur(i,l);var v;i=null;for(B in d)if(!l.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var _=d[B];for(v in _)_.hasOwnProperty(v)&&(i||(i={}),i[v]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(s.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in l){var N=l[B];if(_=d!=null?d[B]:void 0,l.hasOwnProperty(B)&&N!==_&&(N!=null||_!=null))if(B==="style")if(_){for(v in _)!_.hasOwnProperty(v)||N&&N.hasOwnProperty(v)||(i||(i={}),i[v]="");for(v in N)N.hasOwnProperty(v)&&_[v]!==N[v]&&(i||(i={}),i[v]=N[v])}else i||(p||(p=[]),p.push(B,i)),i=N;else B==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,_=_?_.__html:void 0,N!=null&&_!==N&&(p=p||[]).push(B,N)):B==="children"?typeof N!="string"&&typeof N!="number"||(p=p||[]).push(B,""+N):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(s.hasOwnProperty(B)?(N!=null&&B==="onScroll"&&st("scroll",e),p||_===N||(p=[])):(p=p||[]).push(B,N))}i&&(p=p||[]).push("style",i);var B=p;(t.updateQueue=B)&&(t.flags|=4)}},hf=function(e,t,i,l){i!==l&&(t.flags|=4)};function _i(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Ig(e,t,i){var l=t.pendingProps;switch(xs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return Wt(t.type)&&mo(),zt(t),null;case 3:return l=t.stateNode,Ca(),ct(Vt),ct(Ut),Ts(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jr!==null&&(oc(jr),jr=null))),Ys(e,t),zt(t),null;case 5:Ps(t);var d=qn(xi.current);if(i=t.type,e!==null&&t.stateNode!=null)mf(e,t,i,l,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(a(166));return zt(t),null}if(e=qn(Mr.current),yo(t)){l=t.stateNode,i=t.type;var p=t.memoizedProps;switch(l[Ar]=t,l[fi]=p,e=(t.mode&1)!==0,i){case"dialog":st("cancel",l),st("close",l);break;case"iframe":case"object":case"embed":st("load",l);break;case"video":case"audio":for(d=0;d<ci.length;d++)st(ci[d],l);break;case"source":st("error",l);break;case"img":case"image":case"link":st("error",l),st("load",l);break;case"details":st("toggle",l);break;case"input":Mt(l,p),st("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!p.multiple},st("invalid",l);break;case"textarea":I(l,p),st("invalid",l)}ur(i,p),d=null;for(var v in p)if(p.hasOwnProperty(v)){var _=p[v];v==="children"?typeof _=="string"?l.textContent!==_&&(p.suppressHydrationWarning!==!0&&uo(l.textContent,_,e),d=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(p.suppressHydrationWarning!==!0&&uo(l.textContent,_,e),d=["children",""+_]):s.hasOwnProperty(v)&&_!=null&&v==="onScroll"&&st("scroll",l)}switch(i){case"input":Ze(l),Gt(l,p,!0);break;case"textarea":Ze(l),z(l);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(l.onclick=fo)}l=d,t.updateQueue=l,l!==null&&(t.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=re(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=v.createElement(i,{is:l.is}):(e=v.createElement(i),i==="select"&&(v=e,l.multiple?v.multiple=!0:l.size&&(v.size=l.size))):e=v.createElementNS(e,i),e[Ar]=t,e[fi]=l,pf(e,t,!1,!1),t.stateNode=e;e:{switch(v=Or(i,l),i){case"dialog":st("cancel",e),st("close",e),d=l;break;case"iframe":case"object":case"embed":st("load",e),d=l;break;case"video":case"audio":for(d=0;d<ci.length;d++)st(ci[d],e);d=l;break;case"source":st("error",e),d=l;break;case"img":case"image":case"link":st("error",e),st("load",e),d=l;break;case"details":st("toggle",e),d=l;break;case"input":Mt(e,l),d=vt(e,l),st("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=ne({},l,{value:void 0}),st("invalid",e);break;case"textarea":I(e,l),d=De(e,l),st("invalid",e);break;default:d=l}ur(i,d),_=d;for(p in _)if(_.hasOwnProperty(p)){var N=_[p];p==="style"?Br(e,N):p==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&nt(e,N)):p==="children"?typeof N=="string"?(i!=="textarea"||N!=="")&&Ke(e,N):typeof N=="number"&&Ke(e,""+N):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(s.hasOwnProperty(p)?N!=null&&p==="onScroll"&&st("scroll",e):N!=null&&K(e,p,N,v))}switch(i){case"input":Ze(e),Gt(e,l,!1);break;case"textarea":Ze(e),z(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ve(l.value));break;case"select":e.multiple=!!l.multiple,p=l.value,p!=null?Ie(e,!!l.multiple,p,!1):l.defaultValue!=null&&Ie(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=fo)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zt(t),null;case 6:if(e&&t.stateNode!=null)hf(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(a(166));if(i=qn(xi.current),qn(Mr.current),yo(t)){if(l=t.stateNode,i=t.memoizedProps,l[Ar]=t,(p=l.nodeValue!==i)&&(e=ar,e!==null))switch(e.tag){case 3:uo(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uo(l.nodeValue,i,(e.mode&1)!==0)}p&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Ar]=t,t.stateNode=l}return zt(t),null;case 13:if(ct(pt),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&ir!==null&&t.mode&1&&!(t.flags&128))xd(),Ea(),t.flags|=98560,p=!1;else if(p=yo(t),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Ar]=t}else Ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zt(t),p=!1}else jr!==null&&(oc(jr),jr=null),p=!0;if(!p)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?kt===0&&(kt=3):cc())),t.updateQueue!==null&&(t.flags|=4),zt(t),null);case 4:return Ca(),Ys(e,t),e===null&&ui(t.stateNode.containerInfo),zt(t),null;case 10:return Es(t.type._context),zt(t),null;case 17:return Wt(t.type)&&mo(),zt(t),null;case 19:if(ct(pt),p=t.memoizedState,p===null)return zt(t),null;if(l=(t.flags&128)!==0,v=p.rendering,v===null)if(l)_i(p,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(v=ko(e),v!==null){for(t.flags|=128,_i(p,!1),l=v.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)p=i,e=l,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,e=v.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ot(pt,pt.current&1|2),t.child}e=e.sibling}p.tail!==null&&it()>Ra&&(t.flags|=128,l=!0,_i(p,!1),t.lanes=4194304)}else{if(!l)if(e=ko(v),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),_i(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!ut)return zt(t),null}else 2*it()-p.renderingStartTime>Ra&&i!==1073741824&&(t.flags|=128,l=!0,_i(p,!1),t.lanes=4194304);p.isBackwards?(v.sibling=t.child,t.child=v):(i=p.last,i!==null?i.sibling=v:t.child=v,p.last=v)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=it(),t.sibling=null,i=pt.current,ot(pt,l?i&1|2:i&1),t):(zt(t),null);case 22:case 23:return sc(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?or&1073741824&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Dg(e,t){switch(xs(t),t.tag){case 1:return Wt(t.type)&&mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(),ct(Vt),ct(Ut),Ts(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ps(t),null;case 13:if(ct(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(pt),null;case 4:return Ca(),null;case 10:return Es(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var Oo=!1,$t=!1,Og=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Na(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){xt(e,t,l)}else i.current=null}function Qs(e,t,i){try{i()}catch(l){xt(e,t,l)}}var gf=!1;function Ag(e,t){if(ss=Zi,e=Wu(),es(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var v=0,_=-1,N=-1,B=0,oe=0,se=e,ae=null;t:for(;;){for(var ye;se!==i||d!==0&&se.nodeType!==3||(_=v+d),se!==p||l!==0&&se.nodeType!==3||(N=v+l),se.nodeType===3&&(v+=se.nodeValue.length),(ye=se.firstChild)!==null;)ae=se,se=ye;for(;;){if(se===e)break t;if(ae===i&&++B===d&&(_=v),ae===p&&++oe===l&&(N=v),(ye=se.nextSibling)!==null)break;se=ae,ae=se.parentNode}se=ye}i=_===-1||N===-1?null:{start:_,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(cs={focusedElem:e,selectionRange:i},Zi=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var Ee=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Se=Ee.memoizedProps,yt=Ee.memoizedState,L=t.stateNode,O=L.getSnapshotBeforeUpdate(t.elementType===t.type?Se:kr(t.type,Se),yt);L.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(pe){xt(t,t.return,pe)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return Ee=gf,gf=!1,Ee}function Ei(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var p=d.destroy;d.destroy=void 0,p!==void 0&&Qs(t,i,p)}d=d.next}while(d!==l)}}function Ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function Js(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ar],delete t[fi],delete t[ps],delete t[xg],delete t[vg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vf(e){return e.tag===5||e.tag===3||e.tag===4}function yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xs(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=fo));else if(l!==4&&(e=e.child,e!==null))for(Xs(e,t,i),e=e.sibling;e!==null;)Xs(e,t,i),e=e.sibling}function Zs(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Zs(e,t,i),e=e.sibling;e!==null;)Zs(e,t,i),e=e.sibling}var Dt=null,Sr=!1;function yn(e,t,i){for(i=i.child;i!==null;)wf(e,t,i),i=i.sibling}function wf(e,t,i){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(br,i)}catch{}switch(i.tag){case 5:$t||Na(i,t);case 6:var l=Dt,d=Sr;Dt=null,yn(e,t,i),Dt=l,Sr=d,Dt!==null&&(Sr?(e=Dt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Dt.removeChild(i.stateNode));break;case 18:Dt!==null&&(Sr?(e=Dt,i=i.stateNode,e.nodeType===8?fs(e.parentNode,i):e.nodeType===1&&fs(e,i),ti(e)):fs(Dt,i.stateNode));break;case 4:l=Dt,d=Sr,Dt=i.stateNode.containerInfo,Sr=!0,yn(e,t,i),Dt=l,Sr=d;break;case 0:case 11:case 14:case 15:if(!$t&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var p=d,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Qs(i,t,v),d=d.next}while(d!==l)}yn(e,t,i);break;case 1:if(!$t&&(Na(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(_){xt(i,t,_)}yn(e,t,i);break;case 21:yn(e,t,i);break;case 22:i.mode&1?($t=(l=$t)||i.memoizedState!==null,yn(e,t,i),$t=l):yn(e,t,i);break;default:yn(e,t,i)}}function bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Og),t.forEach(function(l){var d=qg.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}}function Cr(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var p=e,v=t,_=v;e:for(;_!==null;){switch(_.tag){case 5:Dt=_.stateNode,Sr=!1;break e;case 3:Dt=_.stateNode.containerInfo,Sr=!0;break e;case 4:Dt=_.stateNode.containerInfo,Sr=!0;break e}_=_.return}if(Dt===null)throw Error(a(160));wf(p,v,d),Dt=null,Sr=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(B){xt(d,t,B)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_f(t,e),t=t.sibling}function _f(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(t,e),Ur(e),l&4){try{Ei(3,e,e.return),Ao(3,e)}catch(Se){xt(e,e.return,Se)}try{Ei(5,e,e.return)}catch(Se){xt(e,e.return,Se)}}break;case 1:Cr(t,e),Ur(e),l&512&&i!==null&&Na(i,i.return);break;case 5:if(Cr(t,e),Ur(e),l&512&&i!==null&&Na(i,i.return),e.flags&32){var d=e.stateNode;try{Ke(d,"")}catch(Se){xt(e,e.return,Se)}}if(l&4&&(d=e.stateNode,d!=null)){var p=e.memoizedProps,v=i!==null?i.memoizedProps:p,_=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{_==="input"&&p.type==="radio"&&p.name!=null&&qt(d,p),Or(_,v);var B=Or(_,p);for(v=0;v<N.length;v+=2){var oe=N[v],se=N[v+1];oe==="style"?Br(d,se):oe==="dangerouslySetInnerHTML"?nt(d,se):oe==="children"?Ke(d,se):K(d,oe,se,B)}switch(_){case"input":wt(d,p);break;case"textarea":A(d,p);break;case"select":var ae=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ye=p.value;ye!=null?Ie(d,!!p.multiple,ye,!1):ae!==!!p.multiple&&(p.defaultValue!=null?Ie(d,!!p.multiple,p.defaultValue,!0):Ie(d,!!p.multiple,p.multiple?[]:"",!1))}d[fi]=p}catch(Se){xt(e,e.return,Se)}}break;case 6:if(Cr(t,e),Ur(e),l&4){if(e.stateNode===null)throw Error(a(162));d=e.stateNode,p=e.memoizedProps;try{d.nodeValue=p}catch(Se){xt(e,e.return,Se)}}break;case 3:if(Cr(t,e),Ur(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ti(t.containerInfo)}catch(Se){xt(e,e.return,Se)}break;case 4:Cr(t,e),Ur(e);break;case 13:Cr(t,e),Ur(e),d=e.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(rc=it())),l&4&&bf(e);break;case 22:if(oe=i!==null&&i.memoizedState!==null,e.mode&1?($t=(B=$t)||oe,Cr(t,e),$t=B):Cr(t,e),Ur(e),l&8192){if(B=e.memoizedState!==null,(e.stateNode.isHidden=B)&&!oe&&e.mode&1)for(_e=e,oe=e.child;oe!==null;){for(se=_e=oe;_e!==null;){switch(ae=_e,ye=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ei(4,ae,ae.return);break;case 1:Na(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){l=ae,i=ae.return;try{t=l,Ee.props=t.memoizedProps,Ee.state=t.memoizedState,Ee.componentWillUnmount()}catch(Se){xt(l,i,Se)}}break;case 5:Na(ae,ae.return);break;case 22:if(ae.memoizedState!==null){kf(se);continue}}ye!==null?(ye.return=ae,_e=ye):kf(se)}oe=oe.sibling}e:for(oe=null,se=e;;){if(se.tag===5){if(oe===null){oe=se;try{d=se.stateNode,B?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(_=se.stateNode,N=se.memoizedProps.style,v=N!=null&&N.hasOwnProperty("display")?N.display:null,_.style.display=$r("display",v))}catch(Se){xt(e,e.return,Se)}}}else if(se.tag===6){if(oe===null)try{se.stateNode.nodeValue=B?"":se.memoizedProps}catch(Se){xt(e,e.return,Se)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===e)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===e)break e;for(;se.sibling===null;){if(se.return===null||se.return===e)break e;oe===se&&(oe=null),se=se.return}oe===se&&(oe=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Cr(t,e),Ur(e),l&4&&bf(e);break;case 21:break;default:Cr(t,e),Ur(e)}}function Ur(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(vf(i)){var l=i;break e}i=i.return}throw Error(a(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Ke(d,""),l.flags&=-33);var p=yf(e);Zs(e,p,d);break;case 3:case 4:var v=l.stateNode.containerInfo,_=yf(e);Xs(e,_,v);break;default:throw Error(a(161))}}catch(N){xt(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mg(e,t,i){_e=e,Ef(e)}function Ef(e,t,i){for(var l=(e.mode&1)!==0;_e!==null;){var d=_e,p=d.child;if(d.tag===22&&l){var v=d.memoizedState!==null||Oo;if(!v){var _=d.alternate,N=_!==null&&_.memoizedState!==null||$t;_=Oo;var B=$t;if(Oo=v,($t=N)&&!B)for(_e=d;_e!==null;)v=_e,N=v.child,v.tag===22&&v.memoizedState!==null?Sf(d):N!==null?(N.return=v,_e=N):Sf(d);for(;p!==null;)_e=p,Ef(p),p=p.sibling;_e=d,Oo=_,$t=B}jf(e)}else d.subtreeFlags&8772&&p!==null?(p.return=d,_e=p):jf(e)}}function jf(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||Ao(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!$t)if(i===null)l.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:kr(t.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&jd(t,p,l);break;case 3:var v=t.updateQueue;if(v!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}jd(t,v,i)}break;case 5:var _=t.stateNode;if(i===null&&t.flags&4){i=_;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&i.focus();break;case"img":N.src&&(i.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var B=t.alternate;if(B!==null){var oe=B.memoizedState;if(oe!==null){var se=oe.dehydrated;se!==null&&ti(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}$t||t.flags&512&&Js(t)}catch(ae){xt(t,t.return,ae)}}if(t===e){_e=null;break}if(i=t.sibling,i!==null){i.return=t.return,_e=i;break}_e=t.return}}function kf(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var i=t.sibling;if(i!==null){i.return=t.return,_e=i;break}_e=t.return}}function Sf(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ao(4,t)}catch(N){xt(t,i,N)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var d=t.return;try{l.componentDidMount()}catch(N){xt(t,d,N)}}var p=t.return;try{Js(t)}catch(N){xt(t,p,N)}break;case 5:var v=t.return;try{Js(t)}catch(N){xt(t,v,N)}}}catch(N){xt(t,t.return,N)}if(t===e){_e=null;break}var _=t.sibling;if(_!==null){_.return=t.return,_e=_;break}_e=t.return}}var Lg=Math.ceil,Mo=te.ReactCurrentDispatcher,ec=te.ReactCurrentOwner,gr=te.ReactCurrentBatchConfig,Ye=0,Pt=null,bt=null,Ot=0,or=0,Ta=mn(0),kt=0,ji=null,Vn=0,Lo=0,tc=0,ki=null,Yt=null,rc=0,Ra=1/0,Zr=null,Uo=!1,nc=null,wn=null,Fo=!1,bn=null,zo=0,Si=0,ac=null,$o=-1,Bo=0;function Ht(){return Ye&6?it():$o!==-1?$o:$o=it()}function _n(e){return e.mode&1?Ye&2&&Ot!==0?Ot&-Ot:wg.transition!==null?(Bo===0&&(Bo=vu()),Bo):(e=et,e!==0||(e=window.event,e=e===void 0?16:Cu(e.type)),e):1}function Pr(e,t,i,l){if(50<Si)throw Si=0,ac=null,Error(a(185));Qa(e,i,l),(!(Ye&2)||e!==Pt)&&(e===Pt&&(!(Ye&2)&&(Lo|=i),kt===4&&En(e,Ot)),Qt(e,l),i===1&&Ye===0&&!(t.mode&1)&&(Ra=it()+500,go&&gn()))}function Qt(e,t){var i=e.callbackNode;wh(e,t);var l=Qi(e,e===Pt?Ot:0);if(l===0)i!==null&&ca(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&ca(i),t===1)e.tag===0?yg(Pf.bind(null,e)):fd(Pf.bind(null,e)),hg(function(){!(Ye&6)&&gn()}),i=null;else{switch(yu(l)){case 1:i=Xe;break;case 4:i=Et;break;case 16:i=Gr;break;case 536870912:i=ft;break;default:i=Gr}i=Mf(i,Cf.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Cf(e,t){if($o=-1,Bo=0,Ye&6)throw Error(a(327));var i=e.callbackNode;if(Ia()&&e.callbackNode!==i)return null;var l=Qi(e,e===Pt?Ot:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Ho(e,l);else{t=l;var d=Ye;Ye|=2;var p=Tf();(Pt!==e||Ot!==t)&&(Zr=null,Ra=it()+500,Kn(e,t));do try{zg();break}catch(_){Nf(e,_)}while(!0);_s(),Mo.current=p,Ye=d,bt!==null?t=0:(Pt=null,Ot=0,t=kt)}if(t!==0){if(t===2&&(d=Ul(e),d!==0&&(l=d,t=ic(e,d))),t===1)throw i=ji,Kn(e,0),En(e,l),Qt(e,it()),i;if(t===6)En(e,l);else{if(d=e.current.alternate,!(l&30)&&!Ug(d)&&(t=Ho(e,l),t===2&&(p=Ul(e),p!==0&&(l=p,t=ic(e,p))),t===1))throw i=ji,Kn(e,0),En(e,l),Qt(e,it()),i;switch(e.finishedWork=d,e.finishedLanes=l,t){case 0:case 1:throw Error(a(345));case 2:Yn(e,Yt,Zr);break;case 3:if(En(e,l),(l&130023424)===l&&(t=rc+500-it(),10<t)){if(Qi(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){Ht(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ds(Yn.bind(null,e,Yt,Zr),t);break}Yn(e,Yt,Zr);break;case 4:if(En(e,l),(l&4194240)===l)break;for(t=e.eventTimes,d=-1;0<l;){var v=31-_r(l);p=1<<v,v=t[v],v>d&&(d=v),l&=~p}if(l=d,l=it()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Lg(l/1960))-l,10<l){e.timeoutHandle=ds(Yn.bind(null,e,Yt,Zr),l);break}Yn(e,Yt,Zr);break;case 5:Yn(e,Yt,Zr);break;default:throw Error(a(329))}}}return Qt(e,it()),e.callbackNode===i?Cf.bind(null,e):null}function ic(e,t){var i=ki;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=Ho(e,t),e!==2&&(t=Yt,Yt=i,t!==null&&oc(t)),e}function oc(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function Ug(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],p=d.getSnapshot;d=d.value;try{if(!Er(p(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~tc,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-_r(t),l=1<<i;e[i]=-1,t&=~l}}function Pf(e){if(Ye&6)throw Error(a(327));Ia();var t=Qi(e,0);if(!(t&1))return Qt(e,it()),null;var i=Ho(e,t);if(e.tag!==0&&i===2){var l=Ul(e);l!==0&&(t=l,i=ic(e,l))}if(i===1)throw i=ji,Kn(e,0),En(e,t),Qt(e,it()),i;if(i===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,Yt,Zr),Qt(e,it()),null}function lc(e,t){var i=Ye;Ye|=1;try{return e(t)}finally{Ye=i,Ye===0&&(Ra=it()+500,go&&gn())}}function Wn(e){bn!==null&&bn.tag===0&&!(Ye&6)&&Ia();var t=Ye;Ye|=1;var i=gr.transition,l=et;try{if(gr.transition=null,et=1,e)return e()}finally{et=l,gr.transition=i,Ye=t,!(Ye&6)&&gn()}}function sc(){or=Ta.current,ct(Ta)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,mg(i)),bt!==null)for(i=bt.return;i!==null;){var l=i;switch(xs(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&mo();break;case 3:Ca(),ct(Vt),ct(Ut),Ts();break;case 5:Ps(l);break;case 4:Ca();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Es(l.type._context);break;case 22:case 23:sc()}i=i.return}if(Pt=e,bt=e=jn(e.current,null),Ot=or=t,kt=0,ji=null,tc=Lo=Vn=0,Yt=ki=null,Hn!==null){for(t=0;t<Hn.length;t++)if(i=Hn[t],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,p=i.pending;if(p!==null){var v=p.next;p.next=d,l.next=v}i.pending=l}Hn=null}return e}function Nf(e,t){do{var i=bt;try{if(_s(),So.current=To,Co){for(var l=mt.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Co=!1}if(Gn=0,Ct=jt=mt=null,vi=!1,yi=0,ec.current=null,i===null||i.return===null){kt=1,ji=t,bt=null;break}e:{var p=e,v=i.return,_=i,N=t;if(t=Ot,_.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var B=N,oe=_,se=oe.tag;if(!(oe.mode&1)&&(se===0||se===11||se===15)){var ae=oe.alternate;ae?(oe.updateQueue=ae.updateQueue,oe.memoizedState=ae.memoizedState,oe.lanes=ae.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ye=Zd(v);if(ye!==null){ye.flags&=-257,ef(ye,v,_,p,t),ye.mode&1&&Xd(p,B,t),t=ye,N=B;var Ee=t.updateQueue;if(Ee===null){var Se=new Set;Se.add(N),t.updateQueue=Se}else Ee.add(N);break e}else{if(!(t&1)){Xd(p,B,t),cc();break e}N=Error(a(426))}}else if(ut&&_.mode&1){var yt=Zd(v);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),ef(yt,v,_,p,t),ws(Pa(N,_));break e}}p=N=Pa(N,_),kt!==4&&(kt=2),ki===null?ki=[p]:ki.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var L=Qd(p,N,t);Ed(p,L);break e;case 1:_=N;var O=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof O.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(wn===null||!wn.has(F)))){p.flags|=65536,t&=-t,p.lanes|=t;var pe=Jd(p,_,t);Ed(p,pe);break e}}p=p.return}while(p!==null)}If(i)}catch(Re){t=Re,bt===i&&i!==null&&(bt=i=i.return);continue}break}while(!0)}function Tf(){var e=Mo.current;return Mo.current=To,e===null?To:e}function cc(){(kt===0||kt===3||kt===2)&&(kt=4),Pt===null||!(Vn&268435455)&&!(Lo&268435455)||En(Pt,Ot)}function Ho(e,t){var i=Ye;Ye|=2;var l=Tf();(Pt!==e||Ot!==t)&&(Zr=null,Kn(e,t));do try{Fg();break}catch(d){Nf(e,d)}while(!0);if(_s(),Ye=i,Mo.current=l,bt!==null)throw Error(a(261));return Pt=null,Ot=0,kt}function Fg(){for(;bt!==null;)Rf(bt)}function zg(){for(;bt!==null&&!Ln();)Rf(bt)}function Rf(e){var t=Af(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?If(e):bt=t,ec.current=null}function If(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Dg(i,t),i!==null){i.flags&=32767,bt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,bt=null;return}}else if(i=Ig(i,t,or),i!==null){bt=i;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);kt===0&&(kt=5)}function Yn(e,t,i){var l=et,d=gr.transition;try{gr.transition=null,et=1,$g(e,t,i,l)}finally{gr.transition=d,et=l}return null}function $g(e,t,i,l){do Ia();while(bn!==null);if(Ye&6)throw Error(a(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(bh(e,p),e===Pt&&(bt=Pt=null,Ot=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Fo||(Fo=!0,Mf(Gr,function(){return Ia(),null})),p=(i.flags&15990)!==0,i.subtreeFlags&15990||p){p=gr.transition,gr.transition=null;var v=et;et=1;var _=Ye;Ye|=4,ec.current=null,Ag(e,i),_f(i,e),lg(cs),Zi=!!ss,cs=ss=null,e.current=i,Mg(i),qr(),Ye=_,et=v,gr.transition=p}else e.current=i;if(Fo&&(Fo=!1,bn=e,zo=d),p=e.pendingLanes,p===0&&(wn=null),Ll(i.stateNode),Qt(e,it()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(Uo)throw Uo=!1,e=nc,nc=null,e;return zo&1&&e.tag!==0&&Ia(),p=e.pendingLanes,p&1?e===ac?Si++:(Si=0,ac=e):Si=0,gn(),null}function Ia(){if(bn!==null){var e=yu(zo),t=gr.transition,i=et;try{if(gr.transition=null,et=16>e?16:e,bn===null)var l=!1;else{if(e=bn,bn=null,zo=0,Ye&6)throw Error(a(331));var d=Ye;for(Ye|=4,_e=e.current;_e!==null;){var p=_e,v=p.child;if(_e.flags&16){var _=p.deletions;if(_!==null){for(var N=0;N<_.length;N++){var B=_[N];for(_e=B;_e!==null;){var oe=_e;switch(oe.tag){case 0:case 11:case 15:Ei(8,oe,p)}var se=oe.child;if(se!==null)se.return=oe,_e=se;else for(;_e!==null;){oe=_e;var ae=oe.sibling,ye=oe.return;if(xf(oe),oe===B){_e=null;break}if(ae!==null){ae.return=ye,_e=ae;break}_e=ye}}}var Ee=p.alternate;if(Ee!==null){var Se=Ee.child;if(Se!==null){Ee.child=null;do{var yt=Se.sibling;Se.sibling=null,Se=yt}while(Se!==null)}}_e=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,_e=v;else e:for(;_e!==null;){if(p=_e,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Ei(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,_e=L;break e}_e=p.return}}var O=e.current;for(_e=O;_e!==null;){v=_e;var F=v.child;if(v.subtreeFlags&2064&&F!==null)F.return=v,_e=F;else e:for(v=O;_e!==null;){if(_=_e,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Ao(9,_)}}catch(Re){xt(_,_.return,Re)}if(_===v){_e=null;break e}var pe=_.sibling;if(pe!==null){pe.return=_.return,_e=pe;break e}_e=_.return}}if(Ye=d,gn(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(br,e)}catch{}l=!0}return l}finally{et=i,gr.transition=t}}return!1}function Df(e,t,i){t=Pa(i,t),t=Qd(e,t,1),e=vn(e,t,1),t=Ht(),e!==null&&(Qa(e,1,t),Qt(e,t))}function xt(e,t,i){if(e.tag===3)Df(e,e,i);else for(;t!==null;){if(t.tag===3){Df(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wn===null||!wn.has(l))){e=Pa(i,e),e=Jd(t,e,1),t=vn(t,e,1),e=Ht(),t!==null&&(Qa(t,1,e),Qt(t,e));break}}t=t.return}}function Bg(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&i,Pt===e&&(Ot&i)===i&&(kt===4||kt===3&&(Ot&130023424)===Ot&&500>it()-rc?Kn(e,0):tc|=i),Qt(e,t)}function Of(e,t){t===0&&(e.mode&1?(t=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):t=1);var i=Ht();e=Qr(e,t),e!==null&&(Qa(e,t,i),Qt(e,i))}function Hg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Of(e,i)}function qg(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(a(314))}l!==null&&l.delete(t),Of(e,i)}var Af;Af=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Kt=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Kt=!1,Rg(e,t,i);Kt=!!(e.flags&131072)}else Kt=!1,ut&&t.flags&1048576&&pd(t,vo,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Do(e,t),e=t.pendingProps;var d=wa(t,Ut.current);Sa(t,i),d=Ds(null,t,l,e,d,i);var p=Os();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(l)?(p=!0,ho(t)):p=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ss(t),d.updater=Ro,t.stateNode=d,d._reactInternals=t,zs(t,l,e,i),t=qs(null,t,l,!0,p,i)):(t.tag=0,ut&&p&&gs(t),Bt(null,t,d,i),t=t.child),t;case 16:l=t.elementType;e:{switch(Do(e,t),e=t.pendingProps,d=l._init,l=d(l._payload),t.type=l,d=t.tag=Vg(l),e=kr(l,e),d){case 0:t=Hs(null,t,l,e,i);break e;case 1:t=lf(null,t,l,e,i);break e;case 11:t=tf(null,t,l,e,i);break e;case 14:t=rf(null,t,l,kr(l.type,e),i);break e}throw Error(a(306,l,""))}return t;case 0:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:kr(l,d),Hs(e,t,l,d,i);case 1:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:kr(l,d),lf(e,t,l,d,i);case 3:e:{if(sf(t),e===null)throw Error(a(387));l=t.pendingProps,p=t.memoizedState,d=p.element,_d(e,t),jo(t,l,null,i);var v=t.memoizedState;if(l=v.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){d=Pa(Error(a(423)),t),t=cf(e,t,l,i,d);break e}else if(l!==d){d=Pa(Error(a(424)),t),t=cf(e,t,l,i,d);break e}else for(ir=pn(t.stateNode.containerInfo.firstChild),ar=t,ut=!0,jr=null,i=wd(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ea(),l===d){t=Xr(e,t,i);break e}Bt(e,t,l,i)}t=t.child}return t;case 5:return kd(t),e===null&&ys(t),l=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,v=d.children,us(l,d)?v=null:p!==null&&us(l,p)&&(t.flags|=32),of(e,t),Bt(e,t,v,i),t.child;case 6:return e===null&&ys(t),null;case 13:return uf(e,t,i);case 4:return Cs(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ja(t,null,l,i):Bt(e,t,l,i),t.child;case 11:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:kr(l,d),tf(e,t,l,d,i);case 7:return Bt(e,t,t.pendingProps,i),t.child;case 8:return Bt(e,t,t.pendingProps.children,i),t.child;case 12:return Bt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,d=t.pendingProps,p=t.memoizedProps,v=d.value,ot(bo,l._currentValue),l._currentValue=v,p!==null)if(Er(p.value,v)){if(p.children===d.children&&!Vt.current){t=Xr(e,t,i);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var _=p.dependencies;if(_!==null){v=p.child;for(var N=_.firstContext;N!==null;){if(N.context===l){if(p.tag===1){N=Jr(-1,i&-i),N.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var oe=B.pending;oe===null?N.next=N:(N.next=oe.next,oe.next=N),B.pending=N}}p.lanes|=i,N=p.alternate,N!==null&&(N.lanes|=i),js(p.return,i,t),_.lanes|=i;break}N=N.next}}else if(p.tag===10)v=p.type===t.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(a(341));v.lanes|=i,_=v.alternate,_!==null&&(_.lanes|=i),js(v,i,t),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===t){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Bt(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,l=t.pendingProps.children,Sa(t,i),d=mr(d),l=l(d),t.flags|=1,Bt(e,t,l,i),t.child;case 14:return l=t.type,d=kr(l,t.pendingProps),d=kr(l.type,d),rf(e,t,l,d,i);case 15:return nf(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:kr(l,d),Do(e,t),t.tag=1,Wt(l)?(e=!0,ho(t)):e=!1,Sa(t,i),Kd(t,l,d),zs(t,l,d,i),qs(null,t,l,!0,e,i);case 19:return ff(e,t,i);case 22:return af(e,t,i)}throw Error(a(156,t.tag))};function Mf(e,t){return tr(e,t)}function Gg(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(e,t,i,l){return new Gg(e,t,i,l)}function uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vg(e){if(typeof e=="function")return uc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===W)return 11;if(e===le)return 14}return 2}function jn(e,t){var i=e.alternate;return i===null?(i=xr(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function qo(e,t,i,l,d,p){var v=2;if(l=e,typeof e=="function")uc(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case $:return Qn(i.children,d,p,t);case V:v=8,d|=8;break;case ue:return e=xr(12,i,t,d|2),e.elementType=ue,e.lanes=p,e;case J:return e=xr(13,i,t,d),e.elementType=J,e.lanes=p,e;case ee:return e=xr(19,i,t,d),e.elementType=ee,e.lanes=p,e;case Q:return Go(i,d,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:v=10;break e;case Ce:v=9;break e;case W:v=11;break e;case le:v=14;break e;case ke:v=16,l=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=xr(v,i,t,d),t.elementType=e,t.type=l,t.lanes=p,t}function Qn(e,t,i,l){return e=xr(7,e,l,t),e.lanes=i,e}function Go(e,t,i,l){return e=xr(22,e,l,t),e.elementType=Q,e.lanes=i,e.stateNode={isHidden:!1},e}function dc(e,t,i){return e=xr(6,e,null,t),e.lanes=i,e}function fc(e,t,i){return t=xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wg(e,t,i,l,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function pc(e,t,i,l,d,p,v,_,N){return e=new Wg(e,t,i,_,N),t===1?(t=1,p===!0&&(t|=8)):t=0,p=xr(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ss(p),e}function Kg(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function Lf(e){if(!e)return hn;e=e._reactInternals;e:{if(Je(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var i=e.type;if(Wt(i))return ud(e,i,t)}return t}function Uf(e,t,i,l,d,p,v,_,N){return e=pc(i,l,!0,e,d,p,v,_,N),e.context=Lf(null),i=e.current,l=Ht(),d=_n(i),p=Jr(l,d),p.callback=t??null,vn(i,p,d),e.current.lanes=d,Qa(e,d,l),Qt(e,l),e}function Vo(e,t,i,l){var d=t.current,p=Ht(),v=_n(d);return i=Lf(i),t.context===null?t.context=i:t.pendingContext=i,t=Jr(p,v),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=vn(d,t,v),e!==null&&(Pr(e,d,v,p),Eo(e,d,v)),v}function Wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function mc(e,t){Ff(e,t),(e=e.alternate)&&Ff(e,t)}function Yg(){return null}var zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function hc(e){this._internalRoot=e}Ko.prototype.render=hc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Vo(e,t,null,null)},Ko.prototype.unmount=hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){Vo(null,e,null,null)}),t[Vr]=null}};function Ko(e){this._internalRoot=e}Ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=_u();e={blockedOn:null,target:e,priority:t};for(var i=0;i<un.length&&t!==0&&t<un[i].priority;i++);un.splice(i,0,e),i===0&&ku(e)}};function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $f(){}function Qg(e,t,i,l,d){if(d){if(typeof l=="function"){var p=l;l=function(){var B=Wo(v);p.call(B)}}var v=Uf(t,l,e,0,null,!1,!1,"",$f);return e._reactRootContainer=v,e[Vr]=v.current,ui(e.nodeType===8?e.parentNode:e),Wn(),v}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var _=l;l=function(){var B=Wo(N);_.call(B)}}var N=pc(e,0,!1,null,null,!1,!1,"",$f);return e._reactRootContainer=N,e[Vr]=N.current,ui(e.nodeType===8?e.parentNode:e),Wn(function(){Vo(t,N,i,l)}),N}function Qo(e,t,i,l,d){var p=i._reactRootContainer;if(p){var v=p;if(typeof d=="function"){var _=d;d=function(){var N=Wo(v);_.call(N)}}Vo(t,v,e,d)}else v=Qg(i,t,e,d,l);return Wo(v)}wu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Ya(t.pendingLanes);i!==0&&(zl(t,i|1),Qt(t,it()),!(Ye&6)&&(Ra=it()+500,gn()))}break;case 13:Wn(function(){var l=Qr(e,1);if(l!==null){var d=Ht();Pr(l,e,1,d)}}),mc(e,1)}},$l=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var i=Ht();Pr(t,e,134217728,i)}mc(e,134217728)}},bu=function(e){if(e.tag===13){var t=_n(e),i=Qr(e,t);if(i!==null){var l=Ht();Pr(i,e,t,l)}mc(e,t)}},_u=function(){return et},Eu=function(e,t){var i=et;try{return et=e,t()}finally{et=i}},sa=function(e,t,i){switch(t){case"input":if(wt(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var d=po(l);if(!d)throw Error(a(90));He(l),wt(l,d)}}}break;case"textarea":A(e,i);break;case"select":t=i.value,t!=null&&Ie(e,!!i.multiple,t,!1)}},Wi=lc,T=Wn;var Jg={usingClientEntryPoint:!1,Events:[pi,va,po,Mn,Vi,lc]},Ci={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xg={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=on(e),e===null?null:e.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||Yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{br=Jo.inject(Xg),rr=Jo}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg,Jt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(t))throw Error(a(200));return Kg(e,t,null,i)},Jt.createRoot=function(e,t){if(!gc(e))throw Error(a(299));var i=!1,l="",d=zf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=pc(e,1,!1,null,null,i,!1,l,d),e[Vr]=t.current,ui(e.nodeType===8?e.parentNode:e),new hc(t)},Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=on(t),e=e===null?null:e.stateNode,e},Jt.flushSync=function(e){return Wn(e)},Jt.hydrate=function(e,t,i){if(!Yo(t))throw Error(a(200));return Qo(null,e,t,!0,i)},Jt.hydrateRoot=function(e,t,i){if(!gc(e))throw Error(a(405));var l=i!=null&&i.hydratedSources||null,d=!1,p="",v=zf;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),t=Uf(t,null,e,1,i??null,d,!1,p,v),e[Vr]=t.current,ui(e),l)for(e=0;e<l.length;e++)i=l[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new Ko(t)},Jt.render=function(e,t,i){if(!Yo(t))throw Error(a(200));return Qo(null,e,t,!1,i)},Jt.unmountComponentAtNode=function(e){if(!Yo(e))throw Error(a(40));return e._reactRootContainer?(Wn(function(){Qo(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1},Jt.unstable_batchedUpdates=lc,Jt.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!Yo(i))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Qo(e,t,i,!1,l)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var Yf;function fm(){if(Yf)return yc.exports;Yf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),yc.exports=ox(),yc.exports}var Qf;function lx(){if(Qf)return Xo;Qf=1;var n=fm();return Xo.createRoot=n.createRoot,Xo.hydrateRoot=n.hydrateRoot,Xo}var sx=lx(),Ni={},Jf;function cx(){if(Jf)return Ni;Jf=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.parse=f,Ni.serialize=x;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,E){const S=new c,j=b.length;if(j<2)return S;const k=(E==null?void 0:E.decode)||g;let C=0;do{const U=b.indexOf("=",C);if(U===-1)break;const K=b.indexOf(";",C),te=K===-1?j:K;if(U>te){C=b.lastIndexOf(";",U-1)+1;continue}const R=m(b,C,U),q=h(b,U,R),$=b.slice(R,q);if(S[$]===void 0){let V=m(b,U+1,te),ue=h(b,te,V);const X=k(b.slice(V,ue));S[$]=X}C=te+1}while(C<j);return S}function m(b,E,S){do{const j=b.charCodeAt(E);if(j!==32&&j!==9)return E}while(++E<S);return S}function h(b,E,S){for(;E>S;){const j=b.charCodeAt(--E);if(j!==32&&j!==9)return E+1}return S}function x(b,E,S){const j=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const k=j(E);if(!r.test(k))throw new TypeError(`argument val is invalid: ${E}`);let C=b+"="+k;if(!S)return C;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);C+="; Max-Age="+S.maxAge}if(S.domain){if(!a.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);C+="; Domain="+S.domain}if(S.path){if(!o.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);C+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);C+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(C+="; HttpOnly"),S.secure&&(C+="; Secure"),S.partitioned&&(C+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return C}function g(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return Ni}cx();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xf="popstate";function ux(n={}){function r(s,c){let{pathname:f="/",search:m="",hash:h=""}=en(s.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),zi("",{pathname:f,search:m,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(s,c){let f=s.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let h=s.location.href,x=h.indexOf("#");m=x===-1?h:h.slice(0,x)}return m+"#"+(typeof c=="string"?c:Dn(c))}function o(s,c){Zt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return fx(r,a,o,n)}function Ve(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Zt(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function dx(){return Math.random().toString(36).substring(2,10)}function Zf(n,r){return{usr:n.state,key:n.key,idx:r}}function zi(n,r,a=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof r=="string"?en(r):r,state:a,key:r&&r.key||o||dx()}}function Dn({pathname:n="/",search:r="",hash:a=""}){return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function en(n){let r={};if(n){let a=n.indexOf("#");a>=0&&(r.hash=n.substring(a),n=n.substring(0,a));let o=n.indexOf("?");o>=0&&(r.search=n.substring(o),n=n.substring(0,o)),n&&(r.pathname=n)}return r}function fx(n,r,a,o={}){let{window:s=document.defaultView,v5Compat:c=!1}=o,f=s.history,m="POP",h=null,x=g();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function g(){return(f.state||{idx:null}).idx}function y(){m="POP";let k=g(),C=k==null?null:k-x;x=k,h&&h({action:m,location:j.location,delta:C})}function b(k,C){m="PUSH";let U=zi(j.location,k,C);a&&a(U,k),x=g()+1;let K=Zf(U,x),te=j.createHref(U);try{f.pushState(K,"",te)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(te)}c&&h&&h({action:m,location:j.location,delta:1})}function E(k,C){m="REPLACE";let U=zi(j.location,k,C);a&&a(U,k),x=g();let K=Zf(U,x),te=j.createHref(U);f.replaceState(K,"",te),c&&h&&h({action:m,location:j.location,delta:0})}function S(k){let C=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof k=="string"?k:Dn(k);return U=U.replace(/ $/,"%20"),Ve(C,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,C)}let j={get action(){return m},get location(){return n(s,f)},listen(k){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Xf,y),h=k,()=>{s.removeEventListener(Xf,y),h=null}},createHref(k){return r(s,k)},createURL:S,encodeLocation(k){let C=S(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:E,go(k){return f.go(k)}};return j}var px=new Set(["lazy","caseSensitive","path","id","index","children"]);function mx(n){return n.index===!0}function xl(n,r,a=[],o={}){return n.map((s,c)=>{let f=[...a,String(c)],m=typeof s.id=="string"?s.id:f.join("-");if(Ve(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ve(!o[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),mx(s)){let h={...s,...r(s),id:m};return o[m]=h,h}else{let h={...s,...r(s),id:m,children:void 0};return o[m]=h,s.children&&(h.children=xl(s.children,r,f,o)),h}})}function Tn(n,r,a="/"){return fl(n,r,a,!1)}function fl(n,r,a,o){let s=typeof r=="string"?en(r):r,c=Ir(s.pathname||"/",a);if(c==null)return null;let f=pm(n);gx(f);let m=null;for(let h=0;m==null&&h<f.length;++h){let x=Cx(c);m=kx(f[h],x,o)}return m}function hx(n,r){let{route:a,pathname:o,params:s}=n;return{id:a.id,pathname:o,params:s,data:r[a.id],handle:a.handle}}function pm(n,r=[],a=[],o=""){let s=(c,f,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};h.relativePath.startsWith("/")&&(Ve(h.relativePath.startsWith(o),`Absolute route path "${h.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(o.length));let x=zr([o,h.relativePath]),g=a.concat(h);c.children&&c.children.length>0&&(Ve(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),pm(c.children,r,g,x)),!(c.path==null&&!c.index)&&r.push({path:x,score:Ex(x,c.index),routesMeta:g})};return n.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))s(c,f);else for(let h of mm(c.path))s(c,f,h)}),r}function mm(n){let r=n.split("/");if(r.length===0)return[];let[a,...o]=r,s=a.endsWith("?"),c=a.replace(/\?$/,"");if(o.length===0)return s?[c,""]:[c];let f=mm(o.join("/")),m=[];return m.push(...f.map(h=>h===""?c:[c,h].join("/"))),s&&m.push(...f),m.map(h=>n.startsWith("/")&&h===""?"/":h)}function gx(n){n.sort((r,a)=>r.score!==a.score?a.score-r.score:jx(r.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}var xx=/^:[\w-]+$/,vx=3,yx=2,wx=1,bx=10,_x=-2,ep=n=>n==="*";function Ex(n,r){let a=n.split("/"),o=a.length;return a.some(ep)&&(o+=_x),r&&(o+=yx),a.filter(s=>!ep(s)).reduce((s,c)=>s+(xx.test(c)?vx:c===""?wx:bx),o)}function jx(n,r){return n.length===r.length&&n.slice(0,-1).every((o,s)=>o===r[s])?n[n.length-1]-r[r.length-1]:0}function kx(n,r,a=!1){let{routesMeta:o}=n,s={},c="/",f=[];for(let m=0;m<o.length;++m){let h=o[m],x=m===o.length-1,g=c==="/"?r:r.slice(c.length)||"/",y=vl({path:h.relativePath,caseSensitive:h.caseSensitive,end:x},g),b=h.route;if(!y&&x&&a&&!o[o.length-1].route.index&&(y=vl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),f.push({params:s,pathname:zr([c,y.pathname]),pathnameBase:Tx(zr([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=zr([c,y.pathnameBase]))}return f}function vl(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[a,o]=Sx(n.path,n.caseSensitive,n.end),s=r.match(a);if(!s)return null;let c=s[0],f=c.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:o.reduce((x,{paramName:g,isOptional:y},b)=>{if(g==="*"){let S=m[b]||"";f=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const E=m[b];return y&&!E?x[g]=void 0:x[g]=(E||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:f,pattern:n}}function Sx(n,r=!1,a=!0){Zt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,h)=>(o.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),o]}function Cx(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Zt(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),n}}function Ir(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,o=n.charAt(a);return o&&o!=="/"?null:n.slice(a)||"/"}function Px(n,r="/"){let{pathname:a,search:o="",hash:s=""}=typeof n=="string"?en(n):n;return{pathname:a?a.startsWith("/")?a:Nx(a,r):r,search:Rx(o),hash:Ix(s)}}function Nx(n,r){let a=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function _c(n,r,a,o){return`Cannot include a '${n}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hm(n){return n.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function Pl(n){let r=hm(n);return r.map((a,o)=>o===r.length-1?a.pathname:a.pathnameBase)}function Nl(n,r,a,o=!1){let s;typeof n=="string"?s=en(n):(s={...n},Ve(!s.pathname||!s.pathname.includes("?"),_c("?","pathname","search",s)),Ve(!s.pathname||!s.pathname.includes("#"),_c("#","pathname","hash",s)),Ve(!s.search||!s.search.includes("#"),_c("#","search","hash",s)));let c=n===""||s.pathname==="",f=c?"/":s.pathname,m;if(f==null)m=a;else{let y=r.length-1;if(!o&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}m=y>=0?r[y]:"/"}let h=Px(s,m),x=f&&f!=="/"&&f.endsWith("/"),g=(c||f===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(x||g)&&(h.pathname+="/"),h}var zr=n=>n.join("/").replace(/\/\/+/g,"/"),Tx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Rx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ix=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,yl=class{constructor(n,r,a,o=!1){this.status=n,this.statusText=r||"",this.internal=o,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function Tl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gm=["POST","PUT","PATCH","DELETE"],Dx=new Set(gm),Ox=["GET",...gm],Ax=new Set(Ox),Mx=new Set([301,302,303,307,308]),Lx=new Set([307,308]),Ec={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ux={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ti={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ru=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fx=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),xm="remix-router-transitions",vm=Symbol("ResetLoaderData");function zx(n){const r=n.window?n.window:typeof window<"u"?window:void 0,a=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u";Ve(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=n.mapRouteProperties||Fx,s={},c=xl(n.routes,o,void 0,s),f,m=n.basename||"/",h=n.dataStrategy||Gx,x=n.patchRoutesOnNavigation,g={...n.future},y=null,b=new Set,E=null,S=null,j=null,k=n.hydrationData!=null,C=Tn(c,n.history.location,m),U=null;if(C==null&&!x){let T=vr(404,{pathname:n.history.location.pathname}),{matches:M,route:G}=dp(c);C=M,U={[G.id]:T}}C&&!n.hydrationData&&An(C,c,n.history.location.pathname).active&&(C=null);let K;if(C)if(C.some(T=>T.route.lazy))K=!1;else if(!C.some(T=>T.route.loader))K=!0;else{let T=n.hydrationData?n.hydrationData.loaderData:null,M=n.hydrationData?n.hydrationData.errors:null;if(M){let G=C.findIndex(ie=>M[ie.route.id]!==void 0);K=C.slice(0,G+1).every(ie=>!zc(ie.route,T,M))}else K=C.every(G=>!zc(G.route,T,M))}else{K=!1,C=[];let T=An(null,c,n.history.location.pathname);T.active&&T.matches&&(C=T.matches)}let te,R={historyAction:n.history.action,location:n.history.location,matches:C,initialized:K,navigation:Ec,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||U,fetchers:new Map,blockers:new Map},q="POP",$=!1,V,ue=!1,X=new Map,Ce=null,W=!1,J=!1,ee=new Set,le=new Map,ke=0,Q=-1,H=new Map,Y=new Set,ne=new Map,P=new Map,D=new Set,Z=new Map,de,me=null;function he(){if(y=n.history.listen(({action:T,location:M,delta:G})=>{if(de){de(),de=void 0;return}Zt(Z.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Or({currentLocation:R.location,nextLocation:M,historyAction:T});if(ie&&G!=null){let be=new Promise(Te=>{de=Te});n.history.go(G*-1),ur(ie,{state:"blocked",location:M,proceed(){ur(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),be.then(()=>n.history.go(G))},reset(){let Te=new Map(R.blockers);Te.set(ie,Ti),fe({blockers:Te})}});return}return $e(T,M)}),a){rv(r,X);let T=()=>nv(r,X);r.addEventListener("pagehide",T),Ce=()=>r.removeEventListener("pagehide",T)}return R.initialized||$e("POP",R.location,{initialHydration:!0}),te}function Pe(){y&&y(),Ce&&Ce(),b.clear(),V&&V.abort(),R.fetchers.forEach((T,M)=>Oe(M)),R.blockers.forEach((T,M)=>rn(M))}function ve(T){return b.add(T),()=>b.delete(T)}function fe(T,M={}){R={...R,...T};let G=[],ie=[];R.fetchers.forEach((be,Te)=>{be.state==="idle"&&(D.has(Te)?G.push(Te):ie.push(Te))}),[...b].forEach(be=>be(R,{deletedFetchers:G,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),G.forEach(be=>Oe(be)),ie.forEach(be=>R.fetchers.delete(be))}function Le(T,M,{flushSync:G}={}){var xe,Fe;let ie=R.actionData!=null&&R.navigation.formMethod!=null&&Tr(R.navigation.formMethod)&&R.navigation.state==="loading"&&((xe=T.state)==null?void 0:xe._isRedirect)!==!0,be;M.actionData?Object.keys(M.actionData).length>0?be=M.actionData:be=null:ie?be=R.actionData:be=null;let Te=M.loaderData?cp(R.loaderData,M.loaderData,M.matches||[],M.errors):R.loaderData,Ue=R.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((Be,at)=>Ue.set(at,Ti)));let we=$===!0||R.navigation.formMethod!=null&&Tr(R.navigation.formMethod)&&((Fe=T.state)==null?void 0:Fe._isRedirect)!==!0;f&&(c=f,f=void 0),W||q==="POP"||(q==="PUSH"?n.history.push(T,T.state):q==="REPLACE"&&n.history.replace(T,T.state));let je;if(q==="POP"){let Be=X.get(R.location.pathname);Be&&Be.has(T.pathname)?je={currentLocation:R.location,nextLocation:T}:X.has(T.pathname)&&(je={currentLocation:T,nextLocation:R.location})}else if(ue){let Be=X.get(R.location.pathname);Be?Be.add(T.pathname):(Be=new Set([T.pathname]),X.set(R.location.pathname,Be)),je={currentLocation:R.location,nextLocation:T}}fe({...M,actionData:be,loaderData:Te,historyAction:q,location:T,initialized:!0,navigation:Ec,revalidation:"idle",restoreScrollPosition:Hr(T,M.matches||R.matches),preventScrollReset:we,blockers:Ue},{viewTransitionOpts:je,flushSync:G===!0}),q="POP",$=!1,ue=!1,W=!1,J=!1,me==null||me.resolve(),me=null}async function Ze(T,M){if(typeof T=="number"){n.history.go(T);return}let G=Fc(R.location,R.matches,m,T,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:ie,submission:be,error:Te}=tp(!1,G,M),Ue=R.location,we=zi(R.location,ie,M&&M.state);we={...we,...n.history.encodeLocation(we)};let je=M&&M.replace!=null?M.replace:void 0,xe="PUSH";je===!0?xe="REPLACE":je===!1||be!=null&&Tr(be.formMethod)&&be.formAction===R.location.pathname+R.location.search&&(xe="REPLACE");let Fe=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Be=(M&&M.flushSync)===!0,at=Or({currentLocation:Ue,nextLocation:we,historyAction:xe});if(at){ur(at,{state:"blocked",location:we,proceed(){ur(at,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),Ze(T,M)},reset(){let _t=new Map(R.blockers);_t.set(at,Ti),fe({blockers:_t})}});return}await $e(xe,we,{submission:be,pendingError:Te,preventScrollReset:Fe,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:Be})}function He(){me||(me=av()),A(),fe({revalidation:"loading"});let T=me.promise;return R.navigation.state==="submitting"?T:R.navigation.state==="idle"?($e(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),T):($e(q||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:ue===!0}),T)}async function $e(T,M,G){V&&V.abort(),V=null,q=T,W=(G&&G.startUninterruptedRevalidation)===!0,nn(R.location,R.matches),$=(G&&G.preventScrollReset)===!0,ue=(G&&G.enableViewTransition)===!0;let ie=f||c,be=G&&G.overrideNavigation,Te=Tn(ie,M,m),Ue=(G&&G.flushSync)===!0,we=An(Te,ie,M.pathname);if(we.active&&we.matches&&(Te=we.matches),!Te){let{error:Je,notFoundMatches:tt,route:gt}=wr(M.pathname);Le(M,{matches:tt,loaderData:{},errors:{[gt.id]:Je}},{flushSync:Ue});return}if(R.initialized&&!J&&Jx(R.location,M)&&!(G&&G.submission&&Tr(G.submission.formMethod))){Le(M,{matches:Te},{flushSync:Ue});return}V=new AbortController;let je=Da(n.history,M,V.signal,G&&G.submission),xe;if(G&&G.pendingError)xe=[ea(Te).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Tr(G.submission.formMethod)){let Je=await vt(je,M,G.submission,Te,we.active,{replace:G.replace,flushSync:Ue});if(Je.shortCircuited)return;if(Je.pendingActionResult){let[tt,gt]=Je.pendingActionResult;if(sr(gt)&&Tl(gt.error)&&gt.error.status===404){V=null,Le(M,{matches:Je.matches,loaderData:{},errors:{[tt]:gt.error}});return}}Te=Je.matches||Te,xe=Je.pendingActionResult,be=jc(M,G.submission),Ue=!1,we.active=!1,je=Da(n.history,je.url,je.signal)}let{shortCircuited:Fe,matches:Be,loaderData:at,errors:_t}=await Mt(je,M,Te,we.active,be,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Ue,xe);Fe||(V=null,Le(M,{matches:Be||Te,...up(xe),loaderData:at,errors:_t}))}async function vt(T,M,G,ie,be,Te={}){A();let Ue=ev(M,G);if(fe({navigation:Ue},{flushSync:Te.flushSync===!0}),be){let xe=await Mn(ie,M.pathname,T.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let Fe=ea(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[Fe,{type:"error",error:xe.error}]}}else if(xe.matches)ie=xe.matches;else{let{notFoundMatches:Fe,error:Be,route:at}=wr(M.pathname);return{matches:Fe,pendingActionResult:[at.id,{type:"error",error:Be}]}}}let we,je=Mi(ie,M);if(!je.route.action&&!je.route.lazy)we={type:"error",error:vr(405,{method:T.method,pathname:M.pathname,routeId:je.route.id})};else if(we=(await De("action",R,T,[je],ie,null))[je.route.id],T.signal.aborted)return{shortCircuited:!0};if(na(we)){let xe;return Te&&Te.replace!=null?xe=Te.replace:xe=op(we.response.headers.get("Location"),new URL(T.url),m)===R.location.pathname+R.location.search,await Ie(T,we,!0,{submission:G,replace:xe}),{shortCircuited:!0}}if(sr(we)){let xe=ea(ie,je.route.id);return(Te&&Te.replace)!==!0&&(q="PUSH"),{matches:ie,pendingActionResult:[xe.route.id,we]}}return{matches:ie,pendingActionResult:[je.route.id,we]}}async function Mt(T,M,G,ie,be,Te,Ue,we,je,xe,Fe){let Be=be||jc(M,Te),at=Te||Ue||pp(Be),_t=!W&&!je;if(ie){if(_t){let Et=qt(Fe);fe({navigation:Be,...Et!==void 0?{actionData:Et}:{}},{flushSync:xe})}let Xe=await Mn(G,M.pathname,T.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let Et=ea(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[Et]:Xe.error}}}else if(Xe.matches)G=Xe.matches;else{let{error:Et,notFoundMatches:Gr,route:Un}=wr(M.pathname);return{matches:Gr,loaderData:{},errors:{[Un.id]:Et}}}}let Je=f||c,[tt,gt]=np(n.history,R,G,at,M,je===!0,J,ee,D,ne,Y,Je,m,Fe);if(Q=++ke,tt.length===0&&gt.length===0){let Xe=tn();return Le(M,{matches:G,loaderData:{},errors:Fe&&sr(Fe[1])?{[Fe[0]]:Fe[1].error}:null,...up(Fe),...Xe?{fetchers:new Map(R.fetchers)}:{}},{flushSync:xe}),{shortCircuited:!0}}if(_t){let Xe={};if(!ie){Xe.navigation=Be;let Et=qt(Fe);Et!==void 0&&(Xe.actionData=Et)}gt.length>0&&(Xe.fetchers=wt(gt)),fe(Xe,{flushSync:xe})}gt.forEach(Xe=>{Ke(Xe.key),Xe.controller&&le.set(Xe.key,Xe.controller)});let an=()=>gt.forEach(Xe=>Ke(Xe.key));V&&V.signal.addEventListener("abort",an);let{loaderResults:on,fetcherResults:dr}=await I(R,G,tt,gt,T);if(T.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",an),gt.forEach(Xe=>le.delete(Xe.key));let tr=Zo(on);if(tr)return await Ie(T,tr.result,!0,{replace:we}),{shortCircuited:!0};if(tr=Zo(dr),tr)return Y.add(tr.key),await Ie(T,tr.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:ca,errors:Ln}=sp(R,G,on,Fe,gt,dr);je&&R.errors&&(Ln={...R.errors,...Ln});let qr=tn(),it=$r(Q),ua=qr||it||gt.length>0;return{matches:G,loaderData:ca,errors:Ln,...ua?{fetchers:new Map(R.fetchers)}:{}}}function qt(T){if(T&&!sr(T[1]))return{[T[0]]:T[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function wt(T){return T.forEach(M=>{let G=R.fetchers.get(M.key),ie=Ri(void 0,G?G.data:void 0);R.fetchers.set(M.key,ie)}),new Map(R.fetchers)}async function Gt(T,M,G,ie){Ke(T);let be=(ie&&ie.flushSync)===!0,Te=f||c,Ue=Fc(R.location,R.matches,m,G,M,ie==null?void 0:ie.relative),we=Tn(Te,Ue,m),je=An(we,Te,Ue);if(je.active&&je.matches&&(we=je.matches),!we){re(T,M,vr(404,{pathname:Ue}),{flushSync:be});return}let{path:xe,submission:Fe,error:Be}=tp(!0,Ue,ie);if(Be){re(T,M,Be,{flushSync:be});return}let at=Mi(we,xe),_t=(ie&&ie.preventScrollReset)===!0;if(Fe&&Tr(Fe.formMethod)){await Lt(T,M,xe,at,we,je.active,be,_t,Fe);return}ne.set(T,{routeId:M,path:xe}),await ge(T,M,xe,at,we,je.active,be,_t,Fe)}async function Lt(T,M,G,ie,be,Te,Ue,we,je){A(),ne.delete(T);function xe(ft){if(!ft.route.action&&!ft.route.lazy){let br=vr(405,{method:je.formMethod,pathname:G,routeId:M});return re(T,M,br,{flushSync:Ue}),!0}return!1}if(!Te&&xe(ie))return;let Fe=R.fetchers.get(T);z(T,tv(je,Fe),{flushSync:Ue});let Be=new AbortController,at=Da(n.history,G,Be.signal,je);if(Te){let ft=await Mn(be,G,at.signal);if(ft.type==="aborted")return;if(ft.type==="error"){re(T,M,ft.error,{flushSync:Ue});return}else if(ft.matches){if(be=ft.matches,ie=Mi(be,G),xe(ie))return}else{re(T,M,vr(404,{pathname:G}),{flushSync:Ue});return}}le.set(T,Be);let _t=ke,tt=(await De("action",R,at,[ie],be,T))[ie.route.id];if(at.signal.aborted){le.get(T)===Be&&le.delete(T);return}if(D.has(T)){if(na(tt)||sr(tt)){z(T,Sn(void 0));return}}else{if(na(tt))if(le.delete(T),Q>_t){z(T,Sn(void 0));return}else return Y.add(T),z(T,Ri(je)),Ie(at,tt,!1,{fetcherSubmission:je,preventScrollReset:we});if(sr(tt)){re(T,M,tt.error);return}}let gt=R.navigation.location||R.location,an=Da(n.history,gt,Be.signal),on=f||c,dr=R.navigation.state!=="idle"?Tn(on,R.navigation.location,m):R.matches;Ve(dr,"Didn't find any matches after fetcher action");let tr=++ke;H.set(T,tr);let ca=Ri(je,tt.data);R.fetchers.set(T,ca);let[Ln,qr]=np(n.history,R,dr,je,gt,!1,J,ee,D,ne,Y,on,m,[ie.route.id,tt]);qr.filter(ft=>ft.key!==T).forEach(ft=>{let br=ft.key,rr=R.fetchers.get(br),Ll=Ri(void 0,rr?rr.data:void 0);R.fetchers.set(br,Ll),Ke(br),ft.controller&&le.set(br,ft.controller)}),fe({fetchers:new Map(R.fetchers)});let it=()=>qr.forEach(ft=>Ke(ft.key));Be.signal.addEventListener("abort",it);let{loaderResults:ua,fetcherResults:Xe}=await I(R,dr,Ln,qr,an);if(Be.signal.aborted)return;Be.signal.removeEventListener("abort",it),H.delete(T),le.delete(T),qr.forEach(ft=>le.delete(ft.key));let Et=Zo(ua);if(Et)return Ie(an,Et.result,!1,{preventScrollReset:we});if(Et=Zo(Xe),Et)return Y.add(Et.key),Ie(an,Et.result,!1,{preventScrollReset:we});let{loaderData:Gr,errors:Un}=sp(R,dr,ua,void 0,qr,Xe);if(R.fetchers.has(T)){let ft=Sn(tt.data);R.fetchers.set(T,ft)}$r(tr),R.navigation.state==="loading"&&tr>Q?(Ve(q,"Expected pending action"),V&&V.abort(),Le(R.navigation.location,{matches:dr,loaderData:Gr,errors:Un,fetchers:new Map(R.fetchers)})):(fe({errors:Un,loaderData:cp(R.loaderData,Gr,dr,Un),fetchers:new Map(R.fetchers)}),J=!1)}async function ge(T,M,G,ie,be,Te,Ue,we,je){let xe=R.fetchers.get(T);z(T,Ri(je,xe?xe.data:void 0),{flushSync:Ue});let Fe=new AbortController,Be=Da(n.history,G,Fe.signal);if(Te){let tt=await Mn(be,G,Be.signal);if(tt.type==="aborted")return;if(tt.type==="error"){re(T,M,tt.error,{flushSync:Ue});return}else if(tt.matches)be=tt.matches,ie=Mi(be,G);else{re(T,M,vr(404,{pathname:G}),{flushSync:Ue});return}}le.set(T,Fe);let at=ke,Je=(await De("loader",R,Be,[ie],be,T))[ie.route.id];if(le.get(T)===Fe&&le.delete(T),!Be.signal.aborted){if(D.has(T)){z(T,Sn(void 0));return}if(na(Je))if(Q>at){z(T,Sn(void 0));return}else{Y.add(T),await Ie(Be,Je,!1,{preventScrollReset:we});return}if(sr(Je)){re(T,M,Je.error);return}z(T,Sn(Je.data))}}async function Ie(T,M,G,{submission:ie,fetcherSubmission:be,preventScrollReset:Te,replace:Ue}={}){M.response.headers.has("X-Remix-Revalidate")&&(J=!0);let we=M.response.headers.get("Location");Ve(we,"Expected a Location header on the redirect Response"),we=op(we,new URL(T.url),m);let je=zi(R.location,we,{_isRedirect:!0});if(a){let Je=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Je=!0;else if(ru.test(we)){const tt=n.history.createURL(we);Je=tt.origin!==r.location.origin||Ir(tt.pathname,m)==null}if(Je){Ue?r.location.replace(we):r.location.assign(we);return}}V=null;let xe=Ue===!0||M.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Fe,formAction:Be,formEncType:at}=R.navigation;!ie&&!be&&Fe&&Be&&at&&(ie=pp(R.navigation));let _t=ie||be;if(Lx.has(M.response.status)&&_t&&Tr(_t.formMethod))await $e(xe,je,{submission:{..._t,formAction:we},preventScrollReset:Te||$,enableViewTransition:G?ue:void 0});else{let Je=jc(je,ie);await $e(xe,je,{overrideNavigation:Je,fetcherSubmission:be,preventScrollReset:Te||$,enableViewTransition:G?ue:void 0})}}async function De(T,M,G,ie,be,Te){let Ue,we={};try{Ue=await Vx(h,T,M,G,ie,be,Te,s,o)}catch(je){return ie.forEach(xe=>{we[xe.route.id]={type:"error",error:je}}),we}for(let[je,xe]of Object.entries(Ue))if(Xx(xe)){let Fe=xe.result;we[je]={type:"redirect",response:Yx(Fe,G,je,be,m)}}else we[je]=await Kx(xe);return we}async function I(T,M,G,ie,be){let Te=De("loader",T,be,G,M,null),Ue=Promise.all(ie.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let Be=(await De("loader",T,Da(n.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:Be}}else return Promise.resolve({[xe.key]:{type:"error",error:vr(404,{pathname:xe.path})}})})),we=await Te,je=(await Ue).reduce((xe,Fe)=>Object.assign(xe,Fe),{});return{loaderResults:we,fetcherResults:je}}function A(){J=!0,ne.forEach((T,M)=>{le.has(M)&&ee.add(M),Ke(M)})}function z(T,M,G={}){R.fetchers.set(T,M),fe({fetchers:new Map(R.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function re(T,M,G,ie={}){let be=ea(R.matches,M);Oe(T),fe({errors:{[be.route.id]:G},fetchers:new Map(R.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Ne(T){return P.set(T,(P.get(T)||0)+1),D.has(T)&&D.delete(T),R.fetchers.get(T)||Ux}function Oe(T){let M=R.fetchers.get(T);le.has(T)&&!(M&&M.state==="loading"&&H.has(T))&&Ke(T),ne.delete(T),H.delete(T),Y.delete(T),D.delete(T),ee.delete(T),R.fetchers.delete(T)}function nt(T){let M=(P.get(T)||0)-1;M<=0?(P.delete(T),D.add(T)):P.set(T,M),fe({fetchers:new Map(R.fetchers)})}function Ke(T){let M=le.get(T);M&&(M.abort(),le.delete(T))}function St(T){for(let M of T){let G=Ne(M),ie=Sn(G.data);R.fetchers.set(M,ie)}}function tn(){let T=[],M=!1;for(let G of Y){let ie=R.fetchers.get(G);Ve(ie,`Expected fetcher: ${G}`),ie.state==="loading"&&(Y.delete(G),T.push(G),M=!0)}return St(T),M}function $r(T){let M=[];for(let[G,ie]of H)if(ie<T){let be=R.fetchers.get(G);Ve(be,`Expected fetcher: ${G}`),be.state==="loading"&&(Ke(G),H.delete(G),M.push(G))}return St(M),M.length>0}function Br(T,M){let G=R.blockers.get(T)||Ti;return Z.get(T)!==M&&Z.set(T,M),G}function rn(T){R.blockers.delete(T),Z.delete(T)}function ur(T,M){let G=R.blockers.get(T)||Ti;Ve(G.state==="unblocked"&&M.state==="blocked"||G.state==="blocked"&&M.state==="blocked"||G.state==="blocked"&&M.state==="proceeding"||G.state==="blocked"&&M.state==="unblocked"||G.state==="proceeding"&&M.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${M.state}`);let ie=new Map(R.blockers);ie.set(T,M),fe({blockers:ie})}function Or({currentLocation:T,nextLocation:M,historyAction:G}){if(Z.size===0)return;Z.size>1&&Zt(!1,"A router only supports one blocker at a time");let ie=Array.from(Z.entries()),[be,Te]=ie[ie.length-1],Ue=R.blockers.get(be);if(!(Ue&&Ue.state==="proceeding")&&Te({currentLocation:T,nextLocation:M,historyAction:G}))return be}function wr(T){let M=vr(404,{pathname:T}),G=f||c,{matches:ie,route:be}=dp(G);return{notFoundMatches:ie,route:be,error:M}}function On(T,M,G){if(E=T,j=M,S=G||null,!k&&R.navigation===Ec){k=!0;let ie=Hr(R.location,R.matches);ie!=null&&fe({restoreScrollPosition:ie})}return()=>{E=null,j=null,S=null}}function sa(T,M){return S&&S(T,M.map(ie=>hx(ie,R.loaderData)))||T.key}function nn(T,M){if(E&&j){let G=sa(T,M);E[G]=j()}}function Hr(T,M){if(E){let G=sa(T,M),ie=E[G];if(typeof ie=="number")return ie}return null}function An(T,M,G){if(x)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:fl(M,G,m,!0)}}else return{active:!0,matches:fl(M,G,m,!0)||[]};return{active:!1,matches:null}}async function Mn(T,M,G){if(!x)return{type:"success",matches:T};let ie=T;for(;;){let be=f==null,Te=f||c,Ue=s;try{await x({path:M,matches:ie,patch:(xe,Fe)=>{G.aborted||ip(xe,Fe,Te,Ue,o)}})}catch(xe){return{type:"error",error:xe,partialMatches:ie}}finally{be&&!G.aborted&&(c=[...c])}if(G.aborted)return{type:"aborted"};let we=Tn(Te,M,m);if(we)return{type:"success",matches:we};let je=fl(Te,M,m,!0);if(!je||ie.length===je.length&&ie.every((xe,Fe)=>xe.route.id===je[Fe].route.id))return{type:"success",matches:null};ie=je}}function Vi(T){s={},f=xl(T,o,void 0,s)}function Wi(T,M){let G=f==null;ip(T,M,f||c,s,o),G&&(c=[...c],fe({}))}return te={get basename(){return m},get future(){return g},get state(){return R},get routes(){return c},get window(){return r},initialize:he,subscribe:ve,enableScrollRestoration:On,navigate:Ze,fetch:Gt,revalidate:He,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:Ne,deleteFetcher:nt,dispose:Pe,getBlocker:Br,deleteBlocker:rn,patchRoutes:Wi,_internalFetchControllers:le,_internalSetRoutes:Vi},te}function $x(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Fc(n,r,a,o,s,c){let f,m;if(s){f=[];for(let x of r)if(f.push(x),x.route.id===s){m=x;break}}else f=r,m=r[r.length-1];let h=Nl(o||".",Pl(f),Ir(n.pathname,a)||n.pathname,c==="path");if(o==null&&(h.search=n.search,h.hash=n.hash),(o==null||o===""||o===".")&&m){let x=nu(h.search);if(m.route.index&&!x)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&x){let g=new URLSearchParams(h.search),y=g.getAll("index");g.delete("index"),y.filter(E=>E).forEach(E=>g.append("index",E));let b=g.toString();h.search=b?`?${b}`:""}}return a!=="/"&&(h.pathname=h.pathname==="/"?a:zr([a,h.pathname])),Dn(h)}function tp(n,r,a){if(!a||!$x(a))return{path:r};if(a.formMethod&&!Zx(a.formMethod))return{path:r,error:vr(405,{method:a.formMethod})};let o=()=>({path:r,error:vr(400,{type:"invalid-body"})}),c=(a.formMethod||"get").toUpperCase(),f=wm(r);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Tr(c))return o();let y=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((b,[E,S])=>`${b}${E}=${S}
`,""):String(a.body);return{path:r,submission:{formMethod:c,formAction:f,formEncType:a.formEncType,formData:void 0,json:void 0,text:y}}}else if(a.formEncType==="application/json"){if(!Tr(c))return o();try{let y=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:c,formAction:f,formEncType:a.formEncType,formData:void 0,json:y,text:void 0}}}catch{return o()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let m,h;if(a.formData)m=$c(a.formData),h=a.formData;else if(a.body instanceof FormData)m=$c(a.body),h=a.body;else if(a.body instanceof URLSearchParams)m=a.body,h=lp(m);else if(a.body==null)m=new URLSearchParams,h=new FormData;else try{m=new URLSearchParams(a.body),h=lp(m)}catch{return o()}let x={formMethod:c,formAction:f,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Tr(x.formMethod))return{path:r,submission:x};let g=en(r);return n&&g.search&&nu(g.search)&&m.append("index",""),g.search=`?${m}`,{path:Dn(g),submission:x}}function rp(n,r,a=!1){let o=n.findIndex(s=>s.route.id===r);return o>=0?n.slice(0,a?o+1:o):n}function np(n,r,a,o,s,c,f,m,h,x,g,y,b,E){let S=E?sr(E[1])?E[1].error:E[1].data:void 0,j=n.createURL(r.location),k=n.createURL(s),C=a;c&&r.errors?C=rp(a,Object.keys(r.errors)[0],!0):E&&sr(E[1])&&(C=rp(a,E[0]));let U=E?E[1].statusCode:void 0,K=U&&U>=400,te=C.filter((q,$)=>{let{route:V}=q;if(V.lazy)return!0;if(V.loader==null)return!1;if(c)return zc(V,r.loaderData,r.errors);if(Bx(r.loaderData,r.matches[$],q))return!0;let ue=r.matches[$],X=q;return ap(q,{currentUrl:j,currentParams:ue.params,nextUrl:k,nextParams:X.params,...o,actionResult:S,actionStatus:U,defaultShouldRevalidate:K?!1:f||j.pathname+j.search===k.pathname+k.search||j.search!==k.search||Hx(ue,X)})}),R=[];return x.forEach((q,$)=>{if(c||!a.some(W=>W.route.id===q.routeId)||h.has($))return;let V=Tn(y,q.path,b);if(!V){R.push({key:$,routeId:q.routeId,path:q.path,matches:null,match:null,controller:null});return}let ue=r.fetchers.get($),X=Mi(V,q.path),Ce=!1;g.has($)?Ce=!1:m.has($)?(m.delete($),Ce=!0):ue&&ue.state!=="idle"&&ue.data===void 0?Ce=f:Ce=ap(X,{currentUrl:j,currentParams:r.matches[r.matches.length-1].params,nextUrl:k,nextParams:a[a.length-1].params,...o,actionResult:S,actionStatus:U,defaultShouldRevalidate:K?!1:f}),Ce&&R.push({key:$,routeId:q.routeId,path:q.path,matches:V,match:X,controller:new AbortController})}),[te,R]}function zc(n,r,a){if(n.lazy)return!0;if(!n.loader)return!1;let o=r!=null&&r[n.id]!==void 0,s=a!=null&&a[n.id]!==void 0;return!o&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!o&&!s}function Bx(n,r,a){let o=!r||a.route.id!==r.route.id,s=!n.hasOwnProperty(a.route.id);return o||s}function Hx(n,r){let a=n.route.path;return n.pathname!==r.pathname||a!=null&&a.endsWith("*")&&n.params["*"]!==r.params["*"]}function ap(n,r){if(n.route.shouldRevalidate){let a=n.route.shouldRevalidate(r);if(typeof a=="boolean")return a}return r.defaultShouldRevalidate}function ip(n,r,a,o,s){let c;if(n){let h=o[n];Ve(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),c=h.children}else c=a;let f=r.filter(h=>!c.some(x=>ym(h,x))),m=xl(f,s,[n||"_","patch",String((c==null?void 0:c.length)||"0")],o);c.push(...m)}function ym(n,r){return"id"in n&&"id"in r&&n.id===r.id?!0:n.index===r.index&&n.path===r.path&&n.caseSensitive===r.caseSensitive?(!n.children||n.children.length===0)&&(!r.children||r.children.length===0)?!0:n.children.every((a,o)=>{var s;return(s=r.children)==null?void 0:s.some(c=>ym(a,c))}):!1}async function qx(n,r,a){if(!n.lazy)return;let o=await n.lazy();if(!n.lazy)return;let s=a[n.id];Ve(s,"No route found in manifest");let c={};for(let f in o){let h=s[f]!==void 0&&f!=="hasErrorBoundary";Zt(!h,`Route "${s.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!h&&!px.has(f)&&(c[f]=o[f])}Object.assign(s,c),Object.assign(s,{...r(s),lazy:void 0})}async function Gx({matches:n}){let r=n.filter(o=>o.shouldLoad);return(await Promise.all(r.map(o=>o.resolve()))).reduce((o,s,c)=>Object.assign(o,{[r[c].route.id]:s}),{})}async function Vx(n,r,a,o,s,c,f,m,h,x){let g=c.map(E=>E.route.lazy?qx(E.route,h,m):void 0),y=c.map((E,S)=>{let j=g[S],k=s.some(U=>U.route.id===E.route.id);return{...E,shouldLoad:k,resolve:async U=>(U&&o.method==="GET"&&(E.route.lazy||E.route.loader)&&(k=!0),k?Wx(r,o,E,j,U,x):Promise.resolve({type:"data",result:void 0}))}}),b=await n({matches:y,request:o,params:c[0].params,fetcherKey:f,context:x});try{await Promise.all(g)}catch{}return b}async function Wx(n,r,a,o,s,c){let f,m,h=x=>{let g,y=new Promise((S,j)=>g=j);m=()=>g(),r.signal.addEventListener("abort",m);let b=S=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${a.route.id}]`)):x({request:r,params:a.params,context:c},...S!==void 0?[S]:[]),E=(async()=>{try{return{type:"data",result:await(s?s(j=>b(j)):b())}}catch(S){return{type:"error",result:S}}})();return Promise.race([E,y])};try{let x=a.route[n];if(o)if(x){let g,[y]=await Promise.all([h(x).catch(b=>{g=b}),o]);if(g!==void 0)throw g;f=y}else if(await o,x=a.route[n],x)f=await h(x);else if(n==="action"){let g=new URL(r.url),y=g.pathname+g.search;throw vr(405,{method:r.method,pathname:y,routeId:a.route.id})}else return{type:"data",result:void 0};else if(x)f=await h(x);else{let g=new URL(r.url),y=g.pathname+g.search;throw vr(404,{pathname:y})}}catch(x){return{type:"error",result:x}}finally{m&&r.signal.removeEventListener("abort",m)}return f}async function Kx(n){var o,s,c,f;let{result:r,type:a}=n;if(bm(r)){let m;try{let h=r.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?r.body==null?m=null:m=await r.json():m=await r.text()}catch(h){return{type:"error",error:h}}return a==="error"?{type:"error",error:new yl(r.status,r.statusText,m),statusCode:r.status,headers:r.headers}:{type:"data",data:m,statusCode:r.status,headers:r.headers}}if(a==="error"){if(fp(r)){if(r.data instanceof Error)return{type:"error",error:r.data,statusCode:(o=r.init)==null?void 0:o.status};r=new yl(((s=r.init)==null?void 0:s.status)||500,void 0,r.data)}return{type:"error",error:r,statusCode:Tl(r)?r.status:void 0}}return fp(r)?{type:"data",data:r.data,statusCode:(c=r.init)==null?void 0:c.status,headers:(f=r.init)!=null&&f.headers?new Headers(r.init.headers):void 0}:{type:"data",data:r}}function Yx(n,r,a,o,s){let c=n.headers.get("Location");if(Ve(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!ru.test(c)){let f=o.slice(0,o.findIndex(m=>m.route.id===a)+1);c=Fc(new URL(r.url),f,s,c),n.headers.set("Location",c)}return n}function op(n,r,a){if(ru.test(n)){let o=n,s=o.startsWith("//")?new URL(r.protocol+o):new URL(o),c=Ir(s.pathname,a)!=null;if(s.origin===r.origin&&c)return s.pathname+s.search+s.hash}return n}function Da(n,r,a,o){let s=n.createURL(wm(r)).toString(),c={signal:a};if(o&&Tr(o.formMethod)){let{formMethod:f,formEncType:m}=o;c.method=f.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(o.json)):m==="text/plain"?c.body=o.text:m==="application/x-www-form-urlencoded"&&o.formData?c.body=$c(o.formData):c.body=o.formData}return new Request(s,c)}function $c(n){let r=new URLSearchParams;for(let[a,o]of n.entries())r.append(a,typeof o=="string"?o:o.name);return r}function lp(n){let r=new FormData;for(let[a,o]of n.entries())r.append(a,o);return r}function Qx(n,r,a,o=!1,s=!1){let c={},f=null,m,h=!1,x={},g=a&&sr(a[1])?a[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in r))return;let b=y.route.id,E=r[b];if(Ve(!na(E),"Cannot handle redirect results in processLoaderData"),sr(E)){let S=E.error;if(g!==void 0&&(S=g,g=void 0),f=f||{},s)f[b]=S;else{let j=ea(n,b);f[j.route.id]==null&&(f[j.route.id]=S)}o||(c[b]=vm),h||(h=!0,m=Tl(E.error)?E.error.status:500),E.headers&&(x[b]=E.headers)}else c[b]=E.data,E.statusCode&&E.statusCode!==200&&!h&&(m=E.statusCode),E.headers&&(x[b]=E.headers)}),g!==void 0&&a&&(f={[a[0]]:g},c[a[0]]=void 0),{loaderData:c,errors:f,statusCode:m||200,loaderHeaders:x}}function sp(n,r,a,o,s,c){let{loaderData:f,errors:m}=Qx(r,a,o);return s.forEach(h=>{let{key:x,match:g,controller:y}=h,b=c[x];if(Ve(b,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(sr(b)){let E=ea(n.matches,g==null?void 0:g.route.id);m&&m[E.route.id]||(m={...m,[E.route.id]:b.error}),n.fetchers.delete(x)}else if(na(b))Ve(!1,"Unhandled fetcher revalidation redirect");else{let E=Sn(b.data);n.fetchers.set(x,E)}}),{loaderData:f,errors:m}}function cp(n,r,a,o){let s=Object.entries(r).filter(([,c])=>c!==vm).reduce((c,[f,m])=>(c[f]=m,c),{});for(let c of a){let f=c.route.id;if(!r.hasOwnProperty(f)&&n.hasOwnProperty(f)&&c.route.loader&&(s[f]=n[f]),o&&o.hasOwnProperty(f))break}return s}function up(n){return n?sr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ea(n,r){return(r?n.slice(0,n.findIndex(o=>o.route.id===r)+1):[...n]).reverse().find(o=>o.route.hasErrorBoundary===!0)||n[0]}function dp(n){let r=n.length===1?n[0]:n.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function vr(n,{pathname:r,routeId:a,method:o,type:s,message:c}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(f="Bad Request",o&&r&&a?m=`You made a ${o} request to "${r}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:s==="invalid-body"&&(m="Unable to encode submission body")):n===403?(f="Forbidden",m=`Route "${a}" does not match URL "${r}"`):n===404?(f="Not Found",m=`No route matches URL "${r}"`):n===405&&(f="Method Not Allowed",o&&r&&a?m=`You made a ${o.toUpperCase()} request to "${r}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:o&&(m=`Invalid request method "${o.toUpperCase()}"`)),new yl(n||500,f,new Error(m),!0)}function Zo(n){let r=Object.entries(n);for(let a=r.length-1;a>=0;a--){let[o,s]=r[a];if(na(s))return{key:o,result:s}}}function wm(n){let r=typeof n=="string"?en(n):n;return Dn({...r,hash:""})}function Jx(n,r){return n.pathname!==r.pathname||n.search!==r.search?!1:n.hash===""?r.hash!=="":n.hash===r.hash?!0:r.hash!==""}function Xx(n){return bm(n.result)&&Mx.has(n.result.status)}function sr(n){return n.type==="error"}function na(n){return(n&&n.type)==="redirect"}function fp(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function bm(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Zx(n){return Ax.has(n.toUpperCase())}function Tr(n){return Dx.has(n.toUpperCase())}function nu(n){return new URLSearchParams(n).getAll("index").some(r=>r==="")}function Mi(n,r){let a=typeof r=="string"?en(r).search:r.search;if(n[n.length-1].route.index&&nu(a||""))return n[n.length-1];let o=hm(n);return o[o.length-1]}function pp(n){let{formMethod:r,formAction:a,formEncType:o,text:s,formData:c,json:f}=n;if(!(!r||!a||!o)){if(s!=null)return{formMethod:r,formAction:a,formEncType:o,formData:void 0,json:void 0,text:s};if(c!=null)return{formMethod:r,formAction:a,formEncType:o,formData:c,json:void 0,text:void 0};if(f!==void 0)return{formMethod:r,formAction:a,formEncType:o,formData:void 0,json:f,text:void 0}}}function jc(n,r){return r?{state:"loading",location:n,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ev(n,r){return{state:"submitting",location:n,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Ri(n,r){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function tv(n,r){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:r?r.data:void 0}}function Sn(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function rv(n,r){try{let a=n.sessionStorage.getItem(xm);if(a){let o=JSON.parse(a);for(let[s,c]of Object.entries(o||{}))c&&Array.isArray(c)&&r.set(s,new Set(c||[]))}}catch{}}function nv(n,r){if(r.size>0){let a={};for(let[o,s]of r)a[o]=[...s];try{n.sessionStorage.setItem(xm,JSON.stringify(a))}catch(o){Zt(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function av(){let n,r,a=new Promise((o,s)=>{n=async c=>{o(c);try{await a}catch{}},r=async c=>{s(c);try{await a}catch{}}});return{promise:a,resolve:n,reject:r}}var aa=w.createContext(null);aa.displayName="DataRouter";var Hi=w.createContext(null);Hi.displayName="DataRouterState";var au=w.createContext({isTransitioning:!1});au.displayName="ViewTransition";var _m=w.createContext(new Map);_m.displayName="Fetchers";var iv=w.createContext(null);iv.displayName="Await";var Dr=w.createContext(null);Dr.displayName="Navigation";var Rl=w.createContext(null);Rl.displayName="Location";var yr=w.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var iu=w.createContext(null);iu.displayName="RouteError";function ov(n,{relative:r}={}){Ve(Wa(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=w.useContext(Dr),{hash:s,pathname:c,search:f}=qi(n,{relative:r}),m=c;return a!=="/"&&(m=c==="/"?a:zr([a,c])),o.createHref({pathname:m,search:f,hash:s})}function Wa(){return w.useContext(Rl)!=null}function er(){return Ve(Wa(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Rl).location}var Em="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jm(n){w.useContext(Dr).static||w.useLayoutEffect(n)}function It(){let{isDataRoute:n}=w.useContext(yr);return n?bv():lv()}function lv(){Ve(Wa(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(aa),{basename:r,navigator:a}=w.useContext(Dr),{matches:o}=w.useContext(yr),{pathname:s}=er(),c=JSON.stringify(Pl(o)),f=w.useRef(!1);return jm(()=>{f.current=!0}),w.useCallback((h,x={})=>{if(Zt(f.current,Em),!f.current)return;if(typeof h=="number"){a.go(h);return}let g=Nl(h,JSON.parse(c),s,x.relative==="path");n==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:zr([r,g.pathname])),(x.replace?a.replace:a.push)(g,x.state,x)},[r,a,c,s,n])}var sv=w.createContext(null);function cv(n){let r=w.useContext(yr).outlet;return r&&w.createElement(sv.Provider,{value:n},r)}function km(){let{matches:n}=w.useContext(yr),r=n[n.length-1];return r?r.params:{}}function qi(n,{relative:r}={}){let{matches:a}=w.useContext(yr),{pathname:o}=er(),s=JSON.stringify(Pl(a));return w.useMemo(()=>Nl(n,JSON.parse(s),o,r==="path"),[n,s,o,r])}function uv(n,r,a,o){Ve(Wa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(Dr),{matches:c}=w.useContext(yr),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let h=f?f.pathnameBase:"/";f&&f.route;let x=er(),g;g=x;let y=g.pathname||"/",b=y;if(h!=="/"){let j=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=Tn(n,{pathname:b});return hv(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:zr([h,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:zr([h,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,a,o)}function dv(){let n=wv(),r=Tl(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),a=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),a?w.createElement("pre",{style:s},a):null,null)}var fv=w.createElement(dv,null),pv=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?w.createElement(yr.Provider,{value:this.props.routeContext},w.createElement(iu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mv({routeContext:n,match:r,children:a}){let o=w.useContext(aa);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(yr.Provider,{value:n},a)}function hv(n,r=[],a=null,o=null){if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let s=n,c=a==null?void 0:a.errors;if(c!=null){let h=s.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);Ve(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let f=!1,m=-1;if(a)for(let h=0;h<s.length;h++){let x=s[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=h),x.route.id){let{loaderData:g,errors:y}=a,b=x.route.loader&&!g.hasOwnProperty(x.route.id)&&(!y||y[x.route.id]===void 0);if(x.route.lazy||b){f=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((h,x,g)=>{let y,b=!1,E=null,S=null;a&&(y=c&&x.route.id?c[x.route.id]:void 0,E=x.route.errorElement||fv,f&&(m<0&&g===0?(_v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):m===g&&(b=!0,S=x.route.hydrateFallbackElement||null)));let j=r.concat(s.slice(0,g+1)),k=()=>{let C;return y?C=E:b?C=S:x.route.Component?C=w.createElement(x.route.Component,null):x.route.element?C=x.route.element:C=h,w.createElement(mv,{match:x,routeContext:{outlet:h,matches:j,isDataRoute:a!=null},children:C})};return a&&(x.route.ErrorBoundary||x.route.errorElement||g===0)?w.createElement(pv,{location:a.location,revalidation:a.revalidation,component:E,error:y,children:k(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):k()},null)}function ou(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gv(n){let r=w.useContext(aa);return Ve(r,ou(n)),r}function xv(n){let r=w.useContext(Hi);return Ve(r,ou(n)),r}function vv(n){let r=w.useContext(yr);return Ve(r,ou(n)),r}function lu(n){let r=vv(n),a=r.matches[r.matches.length-1];return Ve(a.route.id,`${n} can only be used on routes that contain a unique "id"`),a.route.id}function yv(){return lu("useRouteId")}function wv(){var o;let n=w.useContext(iu),r=xv("useRouteError"),a=lu("useRouteError");return n!==void 0?n:(o=r.errors)==null?void 0:o[a]}function bv(){let{router:n}=gv("useNavigate"),r=lu("useNavigate"),a=w.useRef(!1);return jm(()=>{a.current=!0}),w.useCallback(async(s,c={})=>{Zt(a.current,Em),a.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:r,...c}))},[n,r])}var mp={};function _v(n,r,a){mp[n]||(mp[n]=!0,Zt(!1,a))}var hp={};function gp(n,r){!n&&!hp[r]&&(hp[r]=!0,console.warn(r))}function Ev(n){let r={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(r,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(r,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),r}var jv=class{constructor(){this.status="pending",this.promise=new Promise((r,a)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",r(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",a(o))}})}};function kv({router:n,flushSync:r}){let[a,o]=w.useState(n.state),[s,c]=w.useState(),[f,m]=w.useState({isTransitioning:!1}),[h,x]=w.useState(),[g,y]=w.useState(),[b,E]=w.useState(),S=w.useRef(new Map),j=w.useCallback((K,{deletedFetchers:te,flushSync:R,viewTransitionOpts:q})=>{te.forEach(V=>S.current.delete(V)),K.fetchers.forEach((V,ue)=>{V.data!==void 0&&S.current.set(ue,V.data)}),gp(R===!1||r!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let $=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(gp(q==null||$,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!q||!$){r&&R?r(()=>o(K)):w.startTransition(()=>o(K));return}if(r&&R){r(()=>{g&&(h&&h.resolve(),g.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let V=n.window.document.startViewTransition(()=>{r(()=>o(K))});V.finished.finally(()=>{r(()=>{x(void 0),y(void 0),c(void 0),m({isTransitioning:!1})})}),r(()=>y(V));return}g?(h&&h.resolve(),g.skipTransition(),E({state:K,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(c(K),m({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[n.window,r,g,h]);w.useLayoutEffect(()=>n.subscribe(j),[n,j]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&x(new jv)},[f]),w.useEffect(()=>{if(h&&s&&n.window){let K=s,te=h.promise,R=n.window.document.startViewTransition(async()=>{w.startTransition(()=>o(K)),await te});R.finished.finally(()=>{x(void 0),y(void 0),c(void 0),m({isTransitioning:!1})}),y(R)}},[s,h,n.window]),w.useEffect(()=>{h&&s&&a.location.key===s.location.key&&h.resolve()},[h,g,a.location,s]),w.useEffect(()=>{!f.isTransitioning&&b&&(c(b.state),m({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),E(void 0))},[f.isTransitioning,b]);let k=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:K=>n.navigate(K),push:(K,te,R)=>n.navigate(K,{state:te,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(K,te,R)=>n.navigate(K,{replace:!0,state:te,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),C=n.basename||"/",U=w.useMemo(()=>({router:n,navigator:k,static:!1,basename:C}),[n,k,C]);return w.createElement(w.Fragment,null,w.createElement(aa.Provider,{value:U},w.createElement(Hi.Provider,{value:a},w.createElement(_m.Provider,{value:S.current},w.createElement(au.Provider,{value:f},w.createElement(Pv,{basename:C,location:a.location,navigationType:a.historyAction,navigator:k},w.createElement(Sv,{routes:n.routes,future:n.future,state:a})))))),null)}var Sv=w.memo(Cv);function Cv({routes:n,future:r,state:a}){return uv(n,void 0,a,r)}function Sm({to:n,replace:r,state:a,relative:o}){Ve(Wa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(Dr);Zt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=w.useContext(yr),{pathname:f}=er(),m=It(),h=Nl(n,Pl(c),f,o==="path"),x=JSON.stringify(h);return w.useEffect(()=>{m(JSON.parse(x),{replace:r,state:a,relative:o})},[m,x,o,r,a]),null}function Cm(n){return cv(n.context)}function Pv({basename:n="/",children:r=null,location:a,navigationType:o="POP",navigator:s,static:c=!1}){Ve(!Wa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:f,navigator:s,static:c,future:{}}),[f,s,c]);typeof a=="string"&&(a=en(a));let{pathname:h="/",search:x="",hash:g="",state:y=null,key:b="default"}=a,E=w.useMemo(()=>{let S=Ir(h,f);return S==null?null:{location:{pathname:S,search:x,hash:g,state:y,key:b},navigationType:o}},[f,h,x,g,y,b,o]);return Zt(E!=null,`<Router basename="${f}"> is not able to match the URL "${h}${x}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(Dr.Provider,{value:m},w.createElement(Rl.Provider,{children:r,value:E}))}var pl="get",ml="application/x-www-form-urlencoded";function Il(n){return n!=null&&typeof n.tagName=="string"}function Nv(n){return Il(n)&&n.tagName.toLowerCase()==="button"}function Tv(n){return Il(n)&&n.tagName.toLowerCase()==="form"}function Rv(n){return Il(n)&&n.tagName.toLowerCase()==="input"}function Iv(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Dv(n,r){return n.button===0&&(!r||r==="_self")&&!Iv(n)}var el=null;function Ov(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var Av=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kc(n){return n!=null&&!Av.has(n)?(Zt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ml}"`),null):n}function Mv(n,r){let a,o,s,c,f;if(Tv(n)){let m=n.getAttribute("action");o=m?Ir(m,r):null,a=n.getAttribute("method")||pl,s=kc(n.getAttribute("enctype"))||ml,c=new FormData(n)}else if(Nv(n)||Rv(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||m.getAttribute("action");if(o=h?Ir(h,r):null,a=n.getAttribute("formmethod")||m.getAttribute("method")||pl,s=kc(n.getAttribute("formenctype"))||kc(m.getAttribute("enctype"))||ml,c=new FormData(m,n),!Ov()){let{name:x,type:g,value:y}=n;if(g==="image"){let b=x?`${x}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else x&&c.append(x,y)}}else{if(Il(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=pl,o=null,s=ml,f=n}return c&&s==="text/plain"&&(f=c,c=void 0),{action:o,method:a.toLowerCase(),encType:s,formData:c,body:f}}function su(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}async function Lv(n,r){if(n.id in r)return r[n.id];try{let a=await import(n.module);return r[n.id]=a,a}catch(a){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Uv(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Fv(n,r,a){let o=await Promise.all(n.map(async s=>{let c=r.routes[s.route.id];if(c){let f=await Lv(c,a);return f.links?f.links():[]}return[]}));return Hv(o.flat(1).filter(Uv).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function xp(n,r,a,o,s,c){let f=(h,x)=>a[x]?h.route.id!==a[x].route.id:!0,m=(h,x)=>{var g;return a[x].pathname!==h.pathname||((g=a[x].route.path)==null?void 0:g.endsWith("*"))&&a[x].params["*"]!==h.params["*"]};return c==="assets"?r.filter((h,x)=>f(h,x)||m(h,x)):c==="data"?r.filter((h,x)=>{var y;let g=o.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(f(h,x)||m(h,x))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=a[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function zv(n,r){return $v(n.map(a=>{let o=r.routes[a.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function $v(n){return[...new Set(n)]}function Bv(n){let r={},a=Object.keys(n).sort();for(let o of a)r[o]=n[o];return r}function Hv(n,r){let a=new Set;return new Set(r),n.reduce((o,s)=>{let c=JSON.stringify(Bv(s));return a.has(c)||(a.add(c),o.push({key:c,link:s})),o},[])}function qv(n){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname="_root.data":r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Gv(){let n=w.useContext(aa);return su(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Vv(){let n=w.useContext(Hi);return su(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cu=w.createContext(void 0);cu.displayName="FrameworkContext";function Pm(){let n=w.useContext(cu);return su(n,"You must render this element inside a <HydratedRouter> element"),n}function Wv(n,r){let a=w.useContext(cu),[o,s]=w.useState(!1),[c,f]=w.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:x,onMouseLeave:g,onTouchStart:y}=r,b=w.useRef(null);w.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let j=C=>{C.forEach(U=>{f(U.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),w.useEffect(()=>{if(o){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[o]);let E=()=>{s(!0)},S=()=>{s(!1),f(!1)};return a?n!=="intent"?[c,b,{}]:[c,b,{onFocus:Ii(m,E),onBlur:Ii(h,S),onMouseEnter:Ii(x,E),onMouseLeave:Ii(g,S),onTouchStart:Ii(y,E)}]:[!1,b,{}]}function Ii(n,r){return a=>{n&&n(a),a.defaultPrevented||r(a)}}function Kv({page:n,...r}){let{router:a}=Gv(),o=w.useMemo(()=>Tn(a.routes,n,a.basename),[a.routes,n,a.basename]);return o?w.createElement(Qv,{page:n,matches:o,...r}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function Yv(n){let{manifest:r,routeModules:a}=Pm(),[o,s]=w.useState([]);return w.useEffect(()=>{let c=!1;return Fv(n,r,a).then(f=>{c||s(f)}),()=>{c=!0}},[n,r,a]),o}function Qv({page:n,matches:r,...a}){let o=er(),{manifest:s,routeModules:c}=Pm(),{loaderData:f,matches:m}=Vv(),h=w.useMemo(()=>xp(n,r,m,s,o,"data"),[n,r,m,s,o]),x=w.useMemo(()=>xp(n,r,m,s,o,"assets"),[n,r,m,s,o]),g=w.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let E=new Set,S=!1;if(r.forEach(k=>{var U;let C=s.routes[k.route.id];!C||!C.hasLoader||(!h.some(K=>K.route.id===k.route.id)&&k.route.id in f&&((U=c[k.route.id])!=null&&U.shouldRevalidate)||C.hasClientLoader?S=!0:E.add(k.route.id))}),E.size===0)return[];let j=qv(n);return S&&E.size>0&&j.searchParams.set("_routes",r.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[f,o,s,h,r,n,c]),y=w.useMemo(()=>zv(x,s),[x,s]),b=Yv(x);return w.createElement(w.Fragment,null,g.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...a})),y.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...a})),b.map(({key:E,link:S})=>w.createElement("link",{key:E,...S})))}function Jv(...n){return r=>{n.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var Nm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nm&&(window.__reactRouterVersion="7.0.1")}catch{}function Xv(n,r){return zx({basename:r==null?void 0:r.basename,future:r==null?void 0:r.future,history:ux({window:r==null?void 0:r.window}),hydrationData:Zv(),routes:n,mapRouteProperties:Ev,dataStrategy:r==null?void 0:r.dataStrategy,patchRoutesOnNavigation:r==null?void 0:r.patchRoutesOnNavigation,window:r==null?void 0:r.window}).initialize()}function Zv(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:ey(n.errors)}),n}function ey(n){if(!n)return null;let r=Object.entries(n),a={};for(let[o,s]of r)if(s&&s.__type==="RouteErrorResponse")a[o]=new yl(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let c=window[s.__subType];if(typeof c=="function")try{let f=new c(s.message);f.stack="",a[o]=f}catch{}}if(a[o]==null){let c=new Error(s.message);c.stack="",a[o]=c}}else a[o]=s;return a}var Tm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rm=w.forwardRef(function({onClick:r,discover:a="render",prefetch:o="none",relative:s,reloadDocument:c,replace:f,state:m,target:h,to:x,preventScrollReset:g,viewTransition:y,...b},E){let{basename:S}=w.useContext(Dr),j=typeof x=="string"&&Tm.test(x),k,C=!1;if(typeof x=="string"&&j&&(k=x,Nm))try{let ue=new URL(window.location.href),X=x.startsWith("//")?new URL(ue.protocol+x):new URL(x),Ce=Ir(X.pathname,S);X.origin===ue.origin&&Ce!=null?x=Ce+X.search+X.hash:C=!0}catch{Zt(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=ov(x,{relative:s}),[K,te,R]=Wv(o,b),q=ay(x,{replace:f,state:m,target:h,preventScrollReset:g,relative:s,viewTransition:y});function $(ue){r&&r(ue),ue.defaultPrevented||q(ue)}let V=w.createElement("a",{...b,...R,href:k||U,onClick:C||c?r:$,ref:Jv(E,te),target:h,"data-discover":!j&&a==="render"?"true":void 0});return K&&!j?w.createElement(w.Fragment,null,V,w.createElement(Kv,{page:U})):V});Rm.displayName="Link";var ty=w.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:o="",end:s=!1,style:c,to:f,viewTransition:m,children:h,...x},g){let y=qi(f,{relative:x.relative}),b=er(),E=w.useContext(Hi),{navigator:S,basename:j}=w.useContext(Dr),k=E!=null&&cy(y)&&m===!0,C=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,U=b.pathname,K=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;a||(U=U.toLowerCase(),K=K?K.toLowerCase():null,C=C.toLowerCase()),K&&j&&(K=Ir(K,j)||K);const te=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=U===C||!s&&U.startsWith(C)&&U.charAt(te)==="/",q=K!=null&&(K===C||!s&&K.startsWith(C)&&K.charAt(C.length)==="/"),$={isActive:R,isPending:q,isTransitioning:k},V=R?r:void 0,ue;typeof o=="function"?ue=o($):ue=[o,R?"active":null,q?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let X=typeof c=="function"?c($):c;return w.createElement(Rm,{...x,"aria-current":V,className:ue,ref:g,style:X,to:f,viewTransition:m},typeof h=="function"?h($):h)});ty.displayName="NavLink";var ry=w.forwardRef(({discover:n="render",fetcherKey:r,navigate:a,reloadDocument:o,replace:s,state:c,method:f=pl,action:m,onSubmit:h,relative:x,preventScrollReset:g,viewTransition:y,...b},E)=>{let S=ly(),j=sy(m,{relative:x}),k=f.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&Tm.test(m),U=K=>{if(h&&h(K),K.defaultPrevented)return;K.preventDefault();let te=K.nativeEvent.submitter,R=(te==null?void 0:te.getAttribute("formmethod"))||f;S(te||K.currentTarget,{fetcherKey:r,method:R,navigate:a,replace:s,state:c,relative:x,preventScrollReset:g,viewTransition:y})};return w.createElement("form",{ref:E,method:k,action:j,onSubmit:o?h:U,...b,"data-discover":!C&&n==="render"?"true":void 0})});ry.displayName="Form";function ny(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Im(n){let r=w.useContext(aa);return Ve(r,ny(n)),r}function ay(n,{target:r,replace:a,state:o,preventScrollReset:s,relative:c,viewTransition:f}={}){let m=It(),h=er(),x=qi(n,{relative:c});return w.useCallback(g=>{if(Dv(g,r)){g.preventDefault();let y=a!==void 0?a:Dn(h)===Dn(x);m(n,{replace:y,state:o,preventScrollReset:s,relative:c,viewTransition:f})}},[h,m,x,a,o,r,n,s,c,f])}var iy=0,oy=()=>`__${String(++iy)}__`;function ly(){let{router:n}=Im("useSubmit"),{basename:r}=w.useContext(Dr),a=yv();return w.useCallback(async(o,s={})=>{let{action:c,method:f,encType:m,formData:h,body:x}=Mv(o,r);if(s.navigate===!1){let g=s.fetcherKey||oy();await n.fetch(g,a,s.action||c,{preventScrollReset:s.preventScrollReset,formData:h,body:x,formMethod:s.method||f,formEncType:s.encType||m,flushSync:s.flushSync})}else await n.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:h,body:x,formMethod:s.method||f,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,r,a])}function sy(n,{relative:r}={}){let{basename:a}=w.useContext(Dr),o=w.useContext(yr);Ve(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),c={...qi(n||".",{relative:r})},f=er();if(n==null){c.search=f.search;let m=new URLSearchParams(c.search),h=m.getAll("index");if(h.some(g=>g==="")){m.delete("index"),h.filter(y=>y).forEach(y=>m.append("index",y));let g=m.toString();c.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:zr([a,c.pathname])),Dn(c)}function cy(n,r={}){let a=w.useContext(au);Ve(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Im("useViewTransitionState"),s=qi(n,{relative:r.relative});if(!a.isTransitioning)return!1;let c=Ir(a.currentLocation.pathname,o)||a.currentLocation.pathname,f=Ir(a.nextLocation.pathname,o)||a.nextLocation.pathname;return vl(s.pathname,f)!=null||vl(s.pathname,c)!=null}new TextEncoder;var uy=fm();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dy(n){return w.createElement(kv,{flushSync:uy.flushSync,...n})}const Dm=w.createContext(void 0),fy=({children:n})=>{const[r,a]=w.useState(()=>{const me=localStorage.getItem("isLoggedIn");return me?JSON.parse(me):!1}),[o,s]=w.useState(()=>{const me=localStorage.getItem("isAdminLoggedIn");return me?JSON.parse(me):!1}),[c,f]=w.useState("All Categories"),[m,h]=w.useState("");w.useEffect(()=>{localStorage.setItem("isLoggedIn",JSON.stringify(r)),localStorage.setItem("isAdminLoggedIn",JSON.stringify(o))},[r,o]);const[x,g]=w.useState(()=>{const me=localStorage.getItem("user");return me?JSON.parse(me):null}),[y,b]=w.useState(()=>{const me=localStorage.getItem("emp");return me?JSON.parse(me):null});w.useEffect(()=>{y?localStorage.setItem("emp",JSON.stringify(y)):localStorage.removeItem("emp")},[y]);const[E,S]=w.useState(!1);w.useEffect(()=>{x?localStorage.setItem("user",JSON.stringify(x)):localStorage.removeItem("user")},[x]);const[j,k]=w.useState(null),[C,U]=w.useState([]),[K,te]=w.useState(!1),[R,q]=w.useState(!1),[$,V]=w.useState([]),[ue,X]=w.useState([]),[Ce,W]=w.useState([]),[J,ee]=w.useState([]),[le,ke]=w.useState([]),[Q,H]=w.useState(0),[Y,ne]=w.useState(null),[P,D]=w.useState([]),[Z,de]=w.useState([]);return u.jsx(Dm.Provider,{value:{isLoggedIn:r,setIsLoggedIn:a,isAdminLoggedIn:o,setIsAdminLoggedIn:s,selectedCategory:c,setSelectedCategory:f,user:x,setUser:g,userList:ue,setUserList:X,emp:y,setEmp:b,empList:Ce,setEmpList:W,isFetched:E,setIsFetched:S,cartProd:j,setCartProd:k,cart:C,setCart:U,isLoading:K,setIsLoading:te,searchState:m,setSearchState:h,isCodeSent:R,setIsCodeSent:q,issues:$,setIssues:V,taxes:J,setTaxes:ee,prodList:le,setProdList:ke,totalAmount:Q,setTotalAmount:H,checkoutProd:Y,setCheckoutProd:ne,checkoutProds:P,setCheckoutProds:D,userPayment:Z,setUserPayment:de},children:n})},dt=()=>{const n=w.useContext(Dm);if(!n)throw new Error("useAuthContext must be used within an AuthProvider");return n},py="modulepreload",my=function(n){return"/trailmarket/"+n},vp={},qa=function(r,a,o){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));s=Promise.allSettled(a.map(h=>{if(h=my(h),h in vp)return;vp[h]=!0;const x=h.endsWith(".css"),g=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=x?"stylesheet":py,x||(y.as="script"),y.crossOrigin="",y.href=h,m&&y.setAttribute("nonce",m),document.head.appendChild(y),x)return new Promise((b,E)=>{y.addEventListener("load",b),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return s.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return r().catch(c)})},hy=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...a)=>qa(async()=>{const{default:o}=await Promise.resolve().then(()=>Ka);return{default:o}},[]).then(({default:o})=>o(...a)):r=fetch,(...a)=>r(...a)};class uu extends Error{constructor(r,a="FunctionsError",o){super(r),this.name=a,this.context=o}}class gy extends uu{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class xy extends uu{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class vy extends uu{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Bc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Bc||(Bc={}));var yy=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};class wy{constructor(r,{headers:a={},customFetch:o,region:s=Bc.Any}={}){this.url=r,this.headers=a,this.region=s,this.fetch=hy(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,a={}){var o;return yy(this,void 0,void 0,function*(){try{const{headers:s,method:c,body:f}=a;let m={},{region:h}=a;h||(h=this.region),h&&h!=="any"&&(m["x-region"]=h);let x;f&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(m["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(m["Content-Type"]="application/json",x=JSON.stringify(f)));const g=yield this.fetch(`${this.url}/${r}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),s),body:x}).catch(S=>{throw new gy(S)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new xy(g);if(!g.ok)throw new vy(g);let b=((o=g.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield g.json():b==="application/octet-stream"?E=yield g.blob():b==="text/event-stream"?E=g:b==="multipart/form-data"?E=yield g.formData():E=yield g.text(),{data:E,error:null}}catch(s){return{data:null,error:s}}})}}var Tt={},Oa={},Aa={},Ma={},La={},Ua={},by=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ga=by();const _y=Ga.fetch,Om=Ga.fetch.bind(Ga),Am=Ga.Headers,Ey=Ga.Request,jy=Ga.Response,Ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:Am,Request:Ey,Response:jy,default:Om,fetch:_y},Symbol.toStringTag,{value:"Module"})),ky=ex(Ka);var tl={},yp;function Mm(){if(yp)return tl;yp=1,Object.defineProperty(tl,"__esModule",{value:!0});let n=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}};return tl.default=n,tl}var wp;function Lm(){if(wp)return Ua;wp=1;var n=Ua&&Ua.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ua,"__esModule",{value:!0});const r=n(ky),a=n(Mm());class o{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let h=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var g,y,b;let E=null,S=null,j=null,k=x.status,C=x.statusText;if(x.ok){if(this.method!=="HEAD"){const R=await x.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=R:S=JSON.parse(R))}const K=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),te=(y=x.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");K&&te&&te.length>1&&(j=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(E={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,k=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const K=await x.text();try{E=JSON.parse(K),Array.isArray(E)&&x.status===404&&(S=[],E=null,k=200,C="OK")}catch{x.status===404&&K===""?(k=204,C="No Content"):E={message:K}}if(E&&this.isMaybeSingle&&(!((b=E==null?void 0:E.details)===null||b===void 0)&&b.includes("0 rows"))&&(E=null,k=200,C="OK"),E&&this.shouldThrowOnError)throw new a.default(E)}return{error:E,data:S,count:j,status:k,statusText:C}});return this.shouldThrowOnError||(h=h.catch(x=>{var g,y,b;return{error:{message:`${(g=x==null?void 0:x.name)!==null&&g!==void 0?g:"FetchError"}: ${x==null?void 0:x.message}`,details:`${(y=x==null?void 0:x.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=x==null?void 0:x.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(c,f)}}return Ua.default=o,Ua}var bp;function Um(){if(bp)return La;bp=1;var n=La&&La.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(La,"__esModule",{value:!0});const r=n(Lm());class a extends r.default{select(s){let c=!1;const f=(s??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:c=!0,nullsFirst:f,foreignTable:m,referencedTable:h=m}={}){const x=h?`${h}.order`:"order",g=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${g?`${g},`:""}${s}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${s}`),this}range(s,c,{foreignTable:f,referencedTable:m=f}={}){const h=typeof m>"u"?"offset":`${m}.offset`,x=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(x,`${c-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:c=!1,settings:f=!1,buffers:m=!1,wal:h=!1,format:x="text"}={}){var g;const y=[s?"analyze":null,c?"verbose":null,f?"settings":null,m?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${x}; for="${b}"; options=${y};`,x==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return La.default=a,La}var _p;function du(){if(_p)return Ma;_p=1;var n=Ma&&Ma.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ma,"__esModule",{value:!0});const r=n(Um());class a extends r.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}in(s,c){const f=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(s,`in.(${f})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:f,type:m}={}){let h="";m==="plain"?h="pl":m==="phrase"?h="ph":m==="websearch"&&(h="w");const x=f===void 0?"":`(${f})`;return this.url.searchParams.append(s,`${h}fts${x}.${c}`),this}match(s){return Object.entries(s).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(s,c,f){return this.url.searchParams.append(s,`not.${c}.${f}`),this}or(s,{foreignTable:c,referencedTable:f=c}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${s})`),this}filter(s,c,f){return this.url.searchParams.append(s,`${c}.${f}`),this}}return Ma.default=a,Ma}var Ep;function Fm(){if(Ep)return Aa;Ep=1;var n=Aa&&Aa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Aa,"__esModule",{value:!0});const r=n(du());class a{constructor(s,{headers:c={},schema:f,fetch:m}){this.url=s,this.headers=c,this.schema=f,this.fetch=m}select(s,{head:c=!1,count:f}={}){const m=c?"HEAD":"GET";let h=!1;const x=(s??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",x),f&&(this.headers.Prefer=`count=${f}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:c,defaultToNull:f=!0}={}){const m="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),f||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(s)){const x=s.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(x.length>0){const g=[...new Set(x)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:c,ignoreDuplicates:f=!1,count:m,defaultToNull:h=!0}={}){const x="POST",g=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&g.push(this.headers.Prefer),m&&g.push(`count=${m}`),h||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const y=s.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(y.length>0){const b=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:c}={}){const f="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),this.headers.Prefer=m.join(","),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const c="DELETE",f=[];return s&&f.push(`count=${s}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Aa.default=a,Aa}var Di={},Oi={},jp;function Sy(){return jp||(jp=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.version=void 0,Oi.version="0.0.0-automated"),Oi}var kp;function Cy(){if(kp)return Di;kp=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.DEFAULT_HEADERS=void 0;const n=Sy();return Di.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Di}var Sp;function Py(){if(Sp)return Oa;Sp=1;var n=Oa&&Oa.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Oa,"__esModule",{value:!0});const r=n(Fm()),a=n(du()),o=Cy();class s{constructor(f,{headers:m={},schema:h,fetch:x}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),m),this.schemaName=h,this.fetch=x}from(f){const m=new URL(`${this.url}/${f}`);return new r.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new s(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,m={},{head:h=!1,get:x=!1,count:g}={}){let y;const b=new URL(`${this.url}/rpc/${f}`);let E;h||x?(y=h?"HEAD":"GET",Object.entries(m).filter(([j,k])=>k!==void 0).map(([j,k])=>[j,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([j,k])=>{b.searchParams.append(j,k)})):(y="POST",E=m);const S=Object.assign({},this.headers);return g&&(S.Prefer=`count=${g}`),new a.default({method:y,url:b,headers:S,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return Oa.default=s,Oa}var Cp;function Ny(){if(Cp)return Tt;Cp=1;var n=Tt&&Tt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const r=n(Py());Tt.PostgrestClient=r.default;const a=n(Fm());Tt.PostgrestQueryBuilder=a.default;const o=n(du());Tt.PostgrestFilterBuilder=o.default;const s=n(Um());Tt.PostgrestTransformBuilder=s.default;const c=n(Lm());Tt.PostgrestBuilder=c.default;const f=n(Mm());return Tt.PostgrestError=f.default,Tt.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:c.default,PostgrestError:f.default},Tt}var Ty=Ny();const Ry=Cl(Ty),{PostgrestClient:Iy,PostgrestQueryBuilder:Kb,PostgrestFilterBuilder:Yb,PostgrestTransformBuilder:Qb,PostgrestBuilder:Jb}=Ry,Dy="2.10.9",Oy={"X-Client-Info":`realtime-js/${Dy}`},Ay="1.0.0",zm=1e4,My=1e3;var Ba;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ba||(Ba={}));var lr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(lr||(lr={}));var Rr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Rr||(Rr={}));var Hc;(function(n){n.websocket="websocket"})(Hc||(Hc={}));var ta;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ta||(ta={}));class Ly{constructor(){this.HEADER_LENGTH=1}decode(r,a){return r.constructor===ArrayBuffer?a(this._binaryDecode(r)):a(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const a=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,a,o)}_decodeBroadcast(r,a,o){const s=a.getUint8(1),c=a.getUint8(2);let f=this.HEADER_LENGTH+2;const m=o.decode(r.slice(f,f+s));f=f+s;const h=o.decode(r.slice(f,f+c));f=f+c;const x=JSON.parse(o.decode(r.slice(f,r.byteLength)));return{ref:null,topic:m,event:h,payload:x}}}class $m{constructor(r,a){this.callback=r,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(lt||(lt={}));const Pp=(n,r,a={})=>{var o;const s=(o=a.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((c,f)=>(c[f]=Uy(f,n,r,s),c),{})},Uy=(n,r,a,o)=>{const s=r.find(m=>m.name===n),c=s==null?void 0:s.type,f=a[n];return c&&!o.includes(c)?Bm(c,f):qc(f)},Bm=(n,r)=>{if(n.charAt(0)==="_"){const a=n.slice(1,n.length);return By(r,a)}switch(n){case lt.bool:return Fy(r);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return zy(r);case lt.json:case lt.jsonb:return $y(r);case lt.timestamp:return Hy(r);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return qc(r);default:return qc(r)}},qc=n=>n,Fy=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},zy=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},$y=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(r){return console.log(`JSON parse error: ${r}`),n}return n},By=(n,r)=>{if(typeof n!="string")return n;const a=n.length-1,o=n[a];if(n[0]==="{"&&o==="}"){let c;const f=n.slice(1,a);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>Bm(r,m))}return n},Hy=n=>typeof n=="string"?n.replace(" ","T"):n,Hm=n=>{let r=n;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class Sc{constructor(r,a,o={},s=zm){this.channel=r,this.event=a,this.payload=o,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,a){var o;return this._hasReceived(r)&&a((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:a}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(a))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Np;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Np||(Np={}));class Ui{constructor(r,a){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},s=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ui.syncState(this.state,s,c,f),this.pendingDiffs.forEach(h=>{this.state=Ui.syncDiff(this.state,h,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},s=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ui.syncDiff(this.state,s,c,f),m())}),this.onJoin((s,c,f)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:c,newPresences:f})}),this.onLeave((s,c,f)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,a,o,s){const c=this.cloneDeep(r),f=this.transformState(a),m={},h={};return this.map(c,(x,g)=>{f[x]||(h[x]=g)}),this.map(f,(x,g)=>{const y=c[x];if(y){const b=g.map(k=>k.presence_ref),E=y.map(k=>k.presence_ref),S=g.filter(k=>E.indexOf(k.presence_ref)<0),j=y.filter(k=>b.indexOf(k.presence_ref)<0);S.length>0&&(m[x]=S),j.length>0&&(h[x]=j)}else m[x]=g}),this.syncDiff(c,{joins:m,leaves:h},o,s)}static syncDiff(r,a,o,s){const{joins:c,leaves:f}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return o||(o=()=>{}),s||(s=()=>{}),this.map(c,(m,h)=>{var x;const g=(x=r[m])!==null&&x!==void 0?x:[];if(r[m]=this.cloneDeep(h),g.length>0){const y=r[m].map(E=>E.presence_ref),b=g.filter(E=>y.indexOf(E.presence_ref)<0);r[m].unshift(...b)}o(m,g,h)}),this.map(f,(m,h)=>{let x=r[m];if(!x)return;const g=h.map(y=>y.presence_ref);x=x.filter(y=>g.indexOf(y.presence_ref)<0),r[m]=x,s(m,x,h),x.length===0&&delete r[m]}),r}static map(r,a){return Object.getOwnPropertyNames(r).map(o=>a(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((a,o)=>{const s=r[o];return"metas"in s?a[o]=s.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[o]=s,a},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Tp||(Tp={}));var Rp;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Rp||(Rp={}));var Ip;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ip||(Ip={}));class fu{constructor(r,a={config:{}},o){this.topic=r,this.params=a,this.socket=o,this.bindings={},this.state=lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Sc(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new $m(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new Ui(this),this.broadcastEndpointURL=Hm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,a=this.timeout){var o,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:f,private:m}}=this.params;this._onError(g=>r&&r("CHANNEL_ERROR",g)),this._onClose(()=>r&&r("CLOSED"));const h={},x={broadcast:c,presence:f,postgres_changes:(s=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(g=>g.filter))!==null&&s!==void 0?s:[],private:m};this.socket.accessToken&&(h.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:x},h)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",({postgres_changes:g})=>{var y;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),g===void 0){r&&r("SUBSCRIBED");return}else{const b=this.bindings.postgres_changes,E=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,S=[];for(let j=0;j<E;j++){const k=b[j],{filter:{event:C,schema:U,table:K,filter:te}}=k,R=g&&g[j];if(R&&R.event===C&&R.schema===U&&R.table===K&&R.filter===te)S.push(Object.assign(Object.assign({},k),{id:R.id}));else{this.unsubscribe(),r&&r("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,r&&r("SUBSCRIBED");return}}).receive("error",g=>{r&&r("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{r&&r("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(r,a={}){return await this.send({type:"presence",event:"track",payload:r},a.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,a,o){return this._on(r,a,o)}async send(r,a={}){var o,s;if(!this._canPush()&&r.type==="broadcast"){const{event:c,payload:f}=r,m={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,h;const x=this._push(r.type,r,a.timeout||this.timeout);r.type==="broadcast"&&!(!((h=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||h===void 0)&&h.ack)&&c("ok"),x.receive("ok",()=>c("ok")),x.receive("error",()=>c("error")),x.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=lr.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const s=new Sc(this,Rr.leave,{},r);s.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(r,a,o){const s=new AbortController,c=setTimeout(()=>s.abort(),o),f=await this.socket.fetch(r,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(c),f}_push(r,a,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sc(this,r,a,o);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(r,a,o){return a}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,a,o){var s,c;const f=r.toLocaleLowerCase(),{close:m,error:h,leave:x,join:g}=Rr;if(o&&[m,h,x,g].indexOf(f)>=0&&o!==this._joinRef())return;let b=this._onMessage(f,a,o);if(a&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(E=>{var S,j,k;return((S=E.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(j=E.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===f}).map(E=>E.callback(b,o)):(c=this.bindings[f])===null||c===void 0||c.filter(E=>{var S,j,k,C,U,K;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const te=E.id,R=(S=E.filter)===null||S===void 0?void 0:S.event;return te&&((j=a.ids)===null||j===void 0?void 0:j.includes(te))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((k=a.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const te=(U=(C=E==null?void 0:E.filter)===null||C===void 0?void 0:C.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return te==="*"||te===((K=a==null?void 0:a.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:j,table:k,commit_timestamp:C,type:U,errors:K}=S;b=Object.assign(Object.assign({},{schema:j,table:k,commit_timestamp:C,eventType:U,new:{},old:{},errors:K}),this._getPayloadRecords(S))}E.callback(b,o)})}_isClosed(){return this.state===lr.closed}_isJoined(){return this.state===lr.joined}_isJoining(){return this.state===lr.joining}_isLeaving(){return this.state===lr.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,a,o){const s=r.toLocaleLowerCase(),c={type:s,filter:a,callback:o};return this.bindings[s]?this.bindings[s].push(c):this.bindings[s]=[c],this}_off(r,a){const o=r.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(s=>{var c;return!(((c=s.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&fu.isEqual(s.filter,a))}),this}static isEqual(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const o in r)if(r[o]!==a[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Rr.close,{},r)}_onError(r){this._on(Rr.error,{},a=>r(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lr.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const a={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(a.new=Pp(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(a.old=Pp(r.columns,r.old_record)),a}}const qy=()=>{},Gy=typeof WebSocket<"u",Vy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wy{constructor(r,a){var o;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Oy,this.params={},this.timeout=zm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qy,this.conn=null,this.sendBuffer=[],this.serializer=new Ly,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...m)=>qa(async()=>{const{default:h}=await Promise.resolve().then(()=>Ka);return{default:h}},void 0).then(({default:h})=>h(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${r}/${Hc.websocket}`,this.httpEndpoint=Hm(r),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const s=(o=a==null?void 0:a.params)===null||o===void 0?void 0:o.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(c,f)=>f(JSON.stringify(c)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $m(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Gy){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Ky(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),qa(async()=>{const{default:r}=await import("./browser-5AN6Asc0.js").then(a=>a.b);return{default:r}},[]).then(({default:r})=>{this.conn=new r(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(r,a){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(r){const a=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const r=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),r}log(r,a,o){this.logger(r,a,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ba.connecting:return ta.Connecting;case Ba.open:return ta.Open;case Ba.closing:return ta.Closing;default:return ta.Closed}}isConnected(){return this.connectionState()===ta.Open}channel(r,a={config:{}}){const o=new fu(`realtime:${r}`,a,this);return this.channels.push(o),o}push(r){const{topic:a,event:o,payload:s,ref:c}=r,f=()=>{this.encode(r,m=>{var h;(h=this.conn)===null||h===void 0||h.send(m)})};this.log("push",`${a} ${o} (${c})`,s),this.isConnected()?f():this.sendBuffer.push(f)}setAuth(r){if(r){let a=null;try{a=JSON.parse(atob(r.split(".")[1]))}catch{}if(a&&a.exp&&!(Math.floor(Date.now()/1e3)-a.exp<0)){this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${a.exp}`);return}}this.accessToken=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Rr.access_token,{access_token:r})})}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let a=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${r}"`),a.unsubscribe())}_remove(r){this.channels=this.channels.filter(a=>a._joinRef()!==r._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ay}))}_onConnMessage(r){this.decode(r.data,a=>{let{topic:o,event:s,payload:c,ref:f}=a;(f&&f===this.pendingHeartbeatRef||s===(c==null?void 0:c.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${s} ${f&&"("+f+")"||""}`,c),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(s,c,f)),this.stateChangeCallbacks.message.forEach(m=>m(a))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(r=>r())}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(r))}_onConnError(r){this.log("transport",r.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(Rr.error))}_appendParams(r,a){if(Object.keys(a).length===0)return r;const o=r.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${r}${o}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_sendHeartbeat(){var r;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(r=this.conn)===null||r===void 0||r.close(My,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(r){let a;if(r)a=r;else{const o=new Blob([Vy],{type:"application/javascript"});a=URL.createObjectURL(o)}return a}}class Ky{constructor(r,a,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ba.connecting,this.send=()=>{},this.url=null,this.url=r,this.close=o.close}}class pu extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Rt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Yy extends pu{constructor(r,a){super(r),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gc extends pu{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}}var Qy=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};const qm=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...a)=>qa(async()=>{const{default:o}=await Promise.resolve().then(()=>Ka);return{default:o}},void 0).then(({default:o})=>o(...a)):r=fetch,(...a)=>r(...a)},Jy=()=>Qy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qa(()=>Promise.resolve().then(()=>Ka),void 0)).Response:Response}),Vc=n=>{if(Array.isArray(n))return n.map(a=>Vc(a));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([a,o])=>{const s=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[s]=Vc(o)}),r};var ia=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};const Cc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Xy=(n,r,a)=>ia(void 0,void 0,void 0,function*(){const o=yield Jy();n instanceof o&&!(a!=null&&a.noResolveJson)?n.json().then(s=>{r(new Yy(Cc(s),n.status||500))}).catch(s=>{r(new Gc(Cc(s),s))}):r(new Gc(Cc(n),n))}),Zy=(n,r,a,o)=>{const s={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o&&(s.body=JSON.stringify(o)),Object.assign(Object.assign({},s),a))};function Gi(n,r,a,o,s,c){return ia(this,void 0,void 0,function*(){return new Promise((f,m)=>{n(a,Zy(r,o,s,c)).then(h=>{if(!h.ok)throw h;return o!=null&&o.noResolveJson?h:h.json()}).then(h=>f(h)).catch(h=>Xy(h,m,o))})})}function wl(n,r,a,o){return ia(this,void 0,void 0,function*(){return Gi(n,"GET",r,a,o)})}function Nn(n,r,a,o,s){return ia(this,void 0,void 0,function*(){return Gi(n,"POST",r,o,s,a)})}function e0(n,r,a,o,s){return ia(this,void 0,void 0,function*(){return Gi(n,"PUT",r,o,s,a)})}function t0(n,r,a,o){return ia(this,void 0,void 0,function*(){return Gi(n,"HEAD",r,Object.assign(Object.assign({},a),{noResolveJson:!0}),o)})}function Gm(n,r,a,o,s){return ia(this,void 0,void 0,function*(){return Gi(n,"DELETE",r,o,s,a)})}var Xt=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};const r0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n0{constructor(r,a={},o,s){this.url=r,this.headers=a,this.bucketId=o,this.fetch=qm(s)}uploadOrUpdate(r,a,o,s){return Xt(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Dp),s);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const h=f.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),h&&c.append("metadata",this.encodeMetadata(h)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",f.cacheControl),h&&c.append("metadata",this.encodeMetadata(h))):(c=o,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,h&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(m=Object.assign(Object.assign({},m),s.headers));const x=this._removeEmptyFolders(a),g=this._getFinalPath(x),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:r,body:c,headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{})),b=yield y.json();return y.ok?{data:{path:x,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(c){if(Rt(c))return{data:null,error:c};throw c}})}upload(r,a,o){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,a,o)})}uploadToSignedUrl(r,a,o,s){return Xt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",a);try{let h;const x=Object.assign({upsert:Dp.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",x.cacheControl),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",x.cacheControl)):(h=o,g["cache-control"]=`max-age=${x.cacheControl}`,g["content-type"]=x.contentType);const y=yield this.fetch(m.toString(),{method:"PUT",body:h,headers:g}),b=yield y.json();return y.ok?{data:{path:c,fullPath:b.Key},error:null}:{data:null,error:b}}catch(h){if(Rt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(r,a){return Xt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const c=yield Nn(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:s}),f=new URL(this.url+c.url),m=f.searchParams.get("token");if(!m)throw new pu("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:m},error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}update(r,a,o){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,a,o)})}move(r,a,o){return Xt(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}copy(r,a,o){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrl(r,a,o){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),c=yield Nn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrls(r,a,o){return Xt(this,void 0,void 0,function*(){try{const s=yield Nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:r},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:s.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}download(r,a){return Xt(this,void 0,void 0,function*(){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),f=c?`?${c}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield wl(this.fetch,`${this.url}/${s}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Rt(m))return{data:null,error:m};throw m}})}info(r){return Xt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{const o=yield wl(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Vc(o),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}exists(r){return Xt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{return yield t0(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Rt(o)&&o instanceof Gc){const s=o.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,a){const o=this._getFinalPath(r),s=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&s.push(c);const m=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});h!==""&&s.push(h);let x=s.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${x}`)}}}remove(r){return Xt(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(a){if(Rt(a))return{data:null,error:a};throw a}})}list(r,a,o){return Xt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},r0),a),{prefix:r||""});return{data:yield Nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},o),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}}const a0="2.7.1",i0={"X-Client-Info":`storage-js/${a0}`};var Fa=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};class o0{constructor(r,a={},o){this.url=r,this.headers=Object.assign(Object.assign({},i0),a),this.fetch=qm(o)}listBuckets(){return Fa(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}getBucket(r){return Fa(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(a){if(Rt(a))return{data:null,error:a};throw a}})}createBucket(r,a={public:!1}){return Fa(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}updateBucket(r,a){return Fa(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}emptyBucket(r){return Fa(this,void 0,void 0,function*(){try{return{data:yield Nn(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Rt(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Fa(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(Rt(a))return{data:null,error:a};throw a}})}}class l0 extends o0{constructor(r,a={},o){super(r,a,o)}from(r){return new n0(this.url,this.headers,r,this.fetch)}}const s0="2.46.2";let Li="";typeof Deno<"u"?Li="deno":typeof document<"u"?Li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Li="react-native":Li="node";const c0={"X-Client-Info":`supabase-js-${Li}/${s0}`},u0={headers:c0},d0={schema:"public"},f0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p0={};var m0=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};const h0=n=>{let r;return n?r=n:typeof fetch>"u"?r=Om:r=fetch,(...a)=>r(...a)},g0=()=>typeof Headers>"u"?Am:Headers,x0=(n,r,a)=>{const o=h0(a),s=g0();return(c,f)=>m0(void 0,void 0,void 0,function*(){var m;const h=(m=yield r())!==null&&m!==void 0?m:n;let x=new s(f==null?void 0:f.headers);return x.has("apikey")||x.set("apikey",n),x.has("Authorization")||x.set("Authorization",`Bearer ${h}`),o(c,Object.assign(Object.assign({},f),{headers:x}))})};var v0=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};function y0(n){return n.replace(/\/$/,"")}function w0(n,r){const{db:a,auth:o,realtime:s,global:c}=n,{db:f,auth:m,realtime:h,global:x}=r,g={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign({},x),c),accessToken:()=>v0(this,void 0,void 0,function*(){return""})};return n.accessToken?g.accessToken=n.accessToken:delete g.accessToken,g}const Vm="2.65.1",b0="http://localhost:9999",_0="supabase.auth.token",E0={"X-Client-Info":`gotrue-js/${Vm}`},Op=10,Wc="X-Supabase-Api-Version",Wm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function j0(n){return Math.round(Date.now()/1e3)+n}function k0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n=="x"?r:r&3|8).toString(16)})}const Nr=()=>typeof document<"u",Jn={tested:!1,writable:!1},Fi=()=>{if(!Nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jn.tested)return Jn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Jn.tested=!0,Jn.writable=!0}catch{Jn.tested=!0,Jn.writable=!1}return Jn.writable};function Pc(n){const r={},a=new URL(n);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,c)=>{r[c]=s})}catch{}return a.searchParams.forEach((o,s)=>{r[s]=o}),r}const Km=n=>{let r;return n?r=n:typeof fetch>"u"?r=(...a)=>qa(async()=>{const{default:o}=await Promise.resolve().then(()=>Ka);return{default:o}},void 0).then(({default:o})=>o(...a)):r=fetch,(...a)=>r(...a)},S0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ym=async(n,r,a)=>{await n.setItem(r,JSON.stringify(a))},rl=async(n,r)=>{const a=await n.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch{return a}},nl=async(n,r)=>{await n.removeItem(r)};function C0(n){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",o,s,c,f,m,h,x,g=0;for(n=n.replace("-","+").replace("_","/");g<n.length;)f=r.indexOf(n.charAt(g++)),m=r.indexOf(n.charAt(g++)),h=r.indexOf(n.charAt(g++)),x=r.indexOf(n.charAt(g++)),o=f<<2|m>>4,s=(m&15)<<4|h>>2,c=(h&3)<<6|x,a=a+String.fromCharCode(o),h!=64&&s!=0&&(a=a+String.fromCharCode(s)),x!=64&&c!=0&&(a=a+String.fromCharCode(c));return a}class Dl{constructor(){this.promise=new Dl.promiseConstructor((r,a)=>{this.resolve=r,this.reject=a})}}Dl.promiseConstructor=Promise;function Ap(n){const r=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=n.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!r.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=a[1];return JSON.parse(C0(o))}async function P0(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function N0(n,r){return new Promise((o,s)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await n(c);if(!r(c,null,f)){o(f);return}}catch(f){if(!r(c,f)){s(f);return}}})()})}function T0(n){return("0"+n.toString(16)).substr(-2)}function R0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=a.length;let s="";for(let c=0;c<56;c++)s+=a.charAt(Math.floor(Math.random()*o));return s}return crypto.getRandomValues(r),Array.from(r,T0).join("")}async function I0(n){const a=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(o);return Array.from(s).map(c=>String.fromCharCode(c)).join("")}function D0(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function O0(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const a=await I0(n);return D0(a)}async function za(n,r,a=!1){const o=R0();let s=o;a&&(s+="/PASSWORD_RECOVERY"),await Ym(n,`${r}-code-verifier`,s);const c=await O0(o);return[c,o===c?"plain":"s256"]}const A0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M0(n){const r=n.headers.get(Wc);if(!r||!r.match(A0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}class mu extends Error{constructor(r,a,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=o}}function qe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class L0 extends mu{constructor(r,a,o){super(r,a,o),this.name="AuthApiError",this.status=a,this.code=o}}function U0(n){return qe(n)&&n.name==="AuthApiError"}class Qm extends mu{constructor(r,a){super(r),this.name="AuthUnknownError",this.originalError=a}}class oa extends mu{constructor(r,a,o,s){super(r,o,s),this.name=a,this.status=o}}class Cn extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F0(n){return qe(n)&&n.name==="AuthSessionMissingError"}class Nc extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class al extends oa{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class il extends oa{constructor(r,a=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mp extends oa{constructor(r,a=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kc extends oa{constructor(r,a){super(r,"AuthRetryableFetchError",a,void 0)}}function Tc(n){return qe(n)&&n.name==="AuthRetryableFetchError"}class Lp extends oa{constructor(r,a,o){super(r,"AuthWeakPasswordError",a,"weak_password"),this.reasons=o}}var z0=function(n,r){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)r.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a};const Zn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),$0=[502,503,504];async function Up(n){var r;if(!S0(n))throw new Kc(Zn(n),0);if($0.includes(n.status))throw new Kc(Zn(n),n.status);let a;try{a=await n.json()}catch(c){throw new Qm(Zn(c),c)}let o;const s=M0(n);if(s&&s.getTime()>=Wm["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?o=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(o=a.error_code),o){if(o==="weak_password")throw new Lp(Zn(a),n.status,((r=a.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new Cn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Lp(Zn(a),n.status,a.weak_password.reasons);throw new L0(Zn(a),n.status||500,o)}const B0=(n,r,a,o)=>{const s={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(o),Object.assign(Object.assign({},s),a))};async function We(n,r,a,o){var s;const c=Object.assign({},o==null?void 0:o.headers);c[Wc]||(c[Wc]=Wm["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const f=(s=o==null?void 0:o.query)!==null&&s!==void 0?s:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",h=await H0(n,r,a+m,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(h):{data:Object.assign({},h),error:null}}async function H0(n,r,a,o,s,c){const f=B0(r,o,s,c);let m;try{m=await n(a,Object.assign({},f))}catch(h){throw console.error(h),new Kc(Zn(h),0)}if(m.ok||await Up(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(h){await Up(h)}}function Pn(n){var r;let a=null;W0(n)&&(a=Object.assign({},n),n.expires_at||(a.expires_at=j0(n.expires_in)));const o=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:a,user:o},error:null}}function Fp(n){const r=Pn(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0)&&(r.data.weak_password=n.weak_password),r}function Rn(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function q0(n){return{data:n,error:null}}function G0(n){const{action_link:r,email_otp:a,hashed_token:o,redirect_to:s,verification_type:c}=n,f=z0(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:a,hashed_token:o,redirect_to:s,verification_type:c},h=Object.assign({},f);return{data:{properties:m,user:h},error:null}}function V0(n){return n}function W0(n){return n.access_token&&n.refresh_token&&n.expires_in}var K0=function(n,r){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)r.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a};class Y0{constructor({url:r="",headers:a={},fetch:o}){this.url=r,this.headers=a,this.fetch=Km(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,a="global"){try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(qe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,a={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Rn})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:a}=r,o=K0(r,["options"]),s=Object.assign(Object.assign({},o),a);return"newEmail"in o&&(s.new_email=o==null?void 0:o.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:G0,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(qe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(r){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Rn})}catch(a){if(qe(a))return{data:{user:null},error:a};throw a}}async listUsers(r){var a,o,s,c,f,m,h;try{const x={nextPage:null,lastPage:0,total:0},g=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=r==null?void 0:r.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(c=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&c!==void 0?c:""},xform:V0});if(g.error)throw g.error;const y=await g.json(),b=(f=g.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(h=(m=g.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(S=>{const j=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);x[`${k}Page`]=j}),x.total=parseInt(b)),{data:Object.assign(Object.assign({},y),x),error:null}}catch(x){if(qe(x))return{data:{users:[]},error:x};throw x}}async getUserById(r){try{return await We(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Rn})}catch(a){if(qe(a))return{data:{user:null},error:a};throw a}}async updateUserById(r,a){try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:a,headers:this.headers,xform:Rn})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,a=!1){try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:a},xform:Rn})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){try{const{data:a,error:o}=await We(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:o}}catch(a){if(qe(a))return{data:null,error:a};throw a}}async _deleteFactor(r){try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(a){if(qe(a))return{data:null,error:a};throw a}}}const Q0={getItem:n=>Fi()?globalThis.localStorage.getItem(n):null,setItem:(n,r)=>{Fi()&&globalThis.localStorage.setItem(n,r)},removeItem:n=>{Fi()&&globalThis.localStorage.removeItem(n)}};function zp(n={}){return{getItem:r=>n[r]||null,setItem:(r,a)=>{n[r]=a},removeItem:r=>{delete n[r]}}}function J0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $a={debug:!!(globalThis&&Fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jm extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class X0 extends Jm{}async function Z0(n,r,a){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),$a.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async s=>{if(s){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await a()}finally{$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(r===0)throw $a.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new X0(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($a.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}})}J0();const ew={url:b0,storageKey:_0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ai=30*1e3,$p=3;async function Bp(n,r,a){return await a()}class $i{constructor(r){var a,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$i.nextInstanceID,$i.nextInstanceID+=1,this.instanceID>0&&Nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ew),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Y0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Km(s.fetch),this.lock=s.lock||Bp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Nr()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Z0:this.lock=Bp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Fi()?this.storage=Q0:(this.memoryStorage={},this.storage=zp(this.memoryStorage)):(this.memoryStorage={},this.storage=zp(this.memoryStorage)),Nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vm}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const r=Nr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",r),r||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:a,error:o}=await this._getSessionFromURL(r);if(o)return this._debug("#_initialize()","error detecting session from URL",o),(o==null?void 0:o.code)==="identity_already_exists"?{error:o}:(await this._removeSession(),{error:o});const{session:s,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?{error:r}:{error:new Qm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var a,o,s;try{const c=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pn}),{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const h=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:x,session:h},error:null}}catch(c){if(qe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(r){var a,o,s;try{let c;if("email"in r){const{email:g,password:y,options:b}=r;let E=null,S=null;this.flowType==="pkce"&&([E,S]=await za(this.storage,this.storageKey)),c=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:g,password:y,data:(a=b==null?void 0:b.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:E,code_challenge_method:S},xform:Pn})}else if("phone"in r){const{phone:g,password:y,options:b}=r;c=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(o=b==null?void 0:b.data)!==null&&o!==void 0?o:{},channel:(s=b==null?void 0:b.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Pn})}else throw new al("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const h=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:x,session:h},error:null}}catch(c){if(qe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(r){try{let a;if("email"in r){const{email:c,password:f,options:m}=r;a=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Fp})}else if("phone"in r){const{phone:c,password:f,options:m}=r;a=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Fp})}else throw new al("You must provide either an email or phone number and a password");const{data:o,error:s}=a;return s?{data:{user:null,session:null},error:s}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Nc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(r){var a,o,s,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async _exchangeCodeForSession(r){const a=await rl(this.storage,`${this.storageKey}-code-verifier`),[o,s]=(a??"").split("/");try{const{data:c,error:f}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Pn});if(await nl(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Nc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:s??null}),error:f})}catch(c){if(qe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(r){try{const{options:a,provider:o,token:s,access_token:c,nonce:f}=r,m=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:s,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pn}),{data:h,error:x}=m;return x?{data:{user:null,session:null},error:x}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Nc}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:x})}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(r){var a,o,s,c,f;try{if("email"in r){const{email:m,options:h}=r;let x=null,g=null;this.flowType==="pkce"&&([x,g]=await za(this.storage,this.storageKey));const{error:y}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:x,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:m,options:h}=r,{data:x,error:g}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(c=h==null?void 0:h.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(f=h==null?void 0:h.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:g}}throw new al("You must provide either an email or phone number.")}catch(m){if(qe(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var a,o;try{let s,c;"options"in r&&(s=(a=r.options)===null||a===void 0?void 0:a.redirectTo,c=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:m}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:s,xform:Pn});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const h=f.session,x=f.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:x,session:h},error:null}}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var a,o,s;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await za(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(a=r.options)===null||a===void 0?void 0:a.redirectTo)!==null&&o!==void 0?o:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:q0})}catch(c){if(qe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;if(o)throw o;if(!a)throw new Cn;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const a=`${this.url}/resend`;if("email"in r){const{email:o,type:s,options:c}=r,{error:f}=await We(this.fetch,"POST",a,{headers:this.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in r){const{phone:o,type:s,options:c}=r,{data:f,error:m}=await We(this.fetch,"POST",a,{headers:this.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new al("You must provide either an email or phone number and a type")}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(r,a){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await o,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=a();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await r(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const a=await rl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?r=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.storage.isServer){let f=this.suppressGetSessionWarning;r=new Proxy(r,{get:(h,x,g)=>(!f&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,x,g))})}return{data:{session:r},error:null}}const{session:s,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{session:null},error:c}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Rn}):await this._useSession(async a=>{var o,s,c;const{data:f,error:m}=a;if(m)throw m;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0,xform:Rn})})}catch(a){if(qe(a))return F0(a)&&(await this._removeSession(),await nl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(r,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,a))}async _updateUser(r,a={}){try{return await this._useSession(async o=>{const{data:s,error:c}=o;if(c)throw c;if(!s.session)throw new Cn;const f=s.session;let m=null,h=null;this.flowType==="pkce"&&r.email!=null&&([m,h]=await za(this.storage,this.storageKey));const{data:x,error:g}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:h}),jwt:f.access_token,xform:Rn});if(g)throw g;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(qe(o))return{data:{user:null},error:o};throw o}}_decodeJWT(r){return Ap(r)}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Cn;const a=Date.now()/1e3;let o=a,s=!0,c=null;const f=Ap(r.access_token);if(f.exp&&(o=f.exp,s=o<=a),s){const{session:m,error:h}=await this._callRefreshToken(r.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:h}=await this._getUser(r.access_token);if(h)throw h;c={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:o-a,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(a){if(qe(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async a=>{var o;if(!r){const{data:f,error:m}=a;if(m)throw m;r=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new Cn;const{session:s,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{user:null,session:null},error:c}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(r){try{if(!Nr())throw new il("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new il("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!r)throw new Mp("Not a valid PKCE flow url.");const a=Pc(window.location.href);if(r){if(!a.code)throw new Mp("No code detected.");const{data:U,error:K}=await this._exchangeCodeForSession(a.code);if(K)throw K;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:U.session,redirectType:null},error:null}}if(a.error||a.error_description||a.error_code)throw new il(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});const{provider_token:o,provider_refresh_token:s,access_token:c,refresh_token:f,expires_in:m,expires_at:h,token_type:x}=a;if(!c||!m||!f||!x)throw new il("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(m);let b=g+y;h&&(b=parseInt(h));const E=b-g;E*1e3<=Ai&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${y}s`);const S=b-y;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,g);const{data:j,error:k}=await this._getUser(c);if(k)throw k;const C={provider_token:o,provider_refresh_token:s,access_token:c,expires_in:y,expires_at:b,refresh_token:f,token_type:x,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:a.type},error:null}}catch(a){if(qe(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantFlow(){const r=Pc(window.location.href);return!!(Nr()&&(r.access_token||r.error_description))}async _isPKCEFlow(){const r=Pc(window.location.href),a=await rl(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&a)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async a=>{var o;const{data:s,error:c}=a;if(c)return{error:c};const f=(o=s.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:m}=await this.admin.signOut(f,r);if(m&&!(U0(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await nl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const a=k0(),o={id:a,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async a=>{var o,s;try{const{data:{session:c},error:f}=a;if(f)throw f;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,a={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=await za(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(qe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var r;try{const{data:a,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=a.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(a){if(qe(a))return{data:null,error:a};throw a}}async linkIdentity(r){var a;try{const{data:o,error:s}=await this._useSession(async c=>{var f,m,h,x,g;const{data:y,error:b}=c;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(f=r.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(h=r.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",E,{headers:this.headers,jwt:(g=(x=y.session)===null||x===void 0?void 0:x.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Nr()&&!(!((a=r.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(qe(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async a=>{var o,s;const{data:c,error:f}=a;if(f)throw f;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async _refreshAccessToken(r){const a=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{const o=Date.now();return await N0(async s=>(s>0&&await P0(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Pn})),(s,c)=>{const f=200*Math.pow(2,s);return c&&Tc(c)&&Date.now()+f-o<Ai})}catch(o){if(this._debug(a,"error",o),qe(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(a,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,a){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",a,"url",o),Nr()&&!a.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await rl(this.storage,this.storageKey);if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)<s+Op;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Op}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Tc(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var a,o;if(!r)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dl;const{data:c,error:f}=await this._refreshAccessToken(r);if(f)throw f;if(!c.session)throw new Cn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(s,"error",c),qe(c)){const f={session:null,error:c};return Tc(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,a,o=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",a,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:a});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,a)}catch(h){c.push(h)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Ym(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await nl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ai);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async a=>{const{data:{session:o}}=a;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((o.expires_at*1e3-r)/Ai);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ai}ms, refresh threshold is ${$p} ticks`),s<=$p&&await this._callRefreshToken(o.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Jm)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const a=`#_onVisibilityChanged(${r})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,a,o){const s=[`provider=${encodeURIComponent(a)}`];if(o!=null&&o.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,f]=await za(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});s.push(m.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);s.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async a=>{var o;const{data:s,error:c}=a;return c?{data:null,error:c}:await We(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async _enroll(r){try{return await this._useSession(async a=>{var o,s;const{data:c,error:f}=a;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:h,error:x}=await We(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return x?{data:null,error:x}:(r.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:s,error:c}=a;if(c)return{data:null,error:c};const{data:f,error:m}=await We(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(a){if(qe(a))return{data:null,error:a};throw a}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:s,error:c}=a;return c?{data:null,error:c}:await We(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=s==null?void 0:s.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(qe(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(r){const{data:a,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:a.id,code:r.code})}async _listFactors(){const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o=(r==null?void 0:r.factors)||[],s=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:s,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var a,o;const{data:{session:s},error:c}=r;if(c)return{data:null,error:c};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(s.access_token);let m=null;f.aal&&(m=f.aal);let h=m;((o=(a=s.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(h="aal2");const g=f.amr||[];return{data:{currentLevel:m,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}}$i.nextInstanceID=0;const tw=$i;class rw extends tw{constructor(r){super(r)}}var nw=function(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})};class aw{constructor(r,a,o){var s,c,f;if(this.supabaseUrl=r,this.supabaseKey=a,!r)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const m=y0(r);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,x={db:d0,realtime:p0,auth:Object.assign(Object.assign({},f0),{storageKey:h}),global:u0},g=w0(o??{},x);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=g.auth)!==null&&f!==void 0?f:{},this.headers,g.global.fetch),this.fetch=x0(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Iy(`${m}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new wy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new l0(this.storageUrl,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},o={}){return this.rest.rpc(r,a,o)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,a;return nw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:o,storage:s,storageKey:c,flowType:f,lock:m,debug:h},x,g){var y;const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rw({url:this.authUrl,headers:Object.assign(Object.assign({},b),x),storageKey:c,autoRefreshToken:r,persistSession:a,detectSessionInUrl:o,storage:s,flowType:f,lock:m,debug:h,fetch:g,hasCustomAuthorizationHeader:(y="Authorization"in this.headers)!==null&&y!==void 0?y:!1})}_initRealtimeClient(r){return new Wy(this.realtimeUrl,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,o)=>{this._handleTokenChanged(a,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,a,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?(this.realtime.setAuth(o??null),this.changedAccessToken=o):r==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iw=(n,r,a)=>new aw(n,r,a),ce=iw("https://vcebzlxdqipnbipntjkr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZjZWJ6bHhkcWlwbmJpcG50amtyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczMjc2MTk3MSwiZXhwIjoyMDQ4MzM3OTcxfQ.49AphBuuC-z0h3b2e3TI6yB7Vi58hfnfomu4tBrIYjA");let cr=[{CategoryID:0,CategoryName:"All Categories",CategoryDesc:"",CategoryStartPrice:0,CategoryImage:""}],Rc=[];const Ha=async()=>{console.log("Fetching categories...");const{data:n,error:r}=await ce.from("DIM_CATEGORY").select("*").order("CATEGORY_ID",{ascending:!0});if(r)return console.error("Error fetching categories:",r.message),[];if(n){console.log("Fetched categories:",n);const a=await Promise.all(n.map(async o=>{let s=0;const{data:c,error:f}=await ce.from("DIM_PRODUCT").select("PROD_PRICE").eq("PROD_CATEGORY",o.CATEGORY_ID).order("PROD_PRICE",{ascending:!0}).limit(1);return f?console.error(`Error fetching products for category ${o.CATEGORY_ID}:`,f.message):c&&c.length>0&&(s=c[0].PROD_PRICE),{CategoryID:o.CATEGORY_ID,CategoryName:o.CATEGORY_NAME,CategoryDesc:o.CATEGORY_DESC||"",CategoryStartPrice:s,CategoryImage:o.CATEGORY_IMAGE||""}}));return cr=[{CategoryID:0,CategoryName:"All Categories",CategoryDesc:"",CategoryStartPrice:0,CategoryImage:""},...a],console.log("Final CategoryArray:",cr),cr}},Xm=async()=>{console.log("Fetching products...");const{data:n,error:r}=await ce.from("DIM_PRODUCT").select(`
      PRODUCT_ID,
      PROD_NAME,
      PROD_PRICE,
      PROD_CONDITION,
      PROD_CATEGORY,
      PROD_STOCKS,
      PROD_DESC,
      SELLER_ID,
      CATEGORY:PROD_CATEGORY (CATEGORY_NAME)
    `).order("PRODUCT_ID",{ascending:!1});if(r)return console.error("Error fetching products:",r.message),[];if(n)return console.log("Fetched products:",n),Rc=n.map(a=>({id:a.PRODUCT_ID,name:a.PROD_NAME,price:a.PROD_PRICE,condition:a.PROD_CONDITION,category:a.CATEGORY?a.CATEGORY.CATEGORY_NAME:"Unknown Category",stock:a.PROD_STOCKS,description:a.PROD_DESC,sellerId:a.SELLER_ID,imageUrl:"https://via.placeholder.com/150"})),console.log("Updated ProductArray:",Rc),Rc},ow=()=>{const[n,r]=w.useState({}),{setIsLoggedIn:a,setUser:o}=dt(),s=It(),c=()=>{s("/forget")};async function f(h){const{name:x,value:g}=h.target;r(y=>({...y,[x]:g}))}async function m(h){h.preventDefault();const{data:x,error:g}=await ce.from("DIM_USER").select("*").eq("STUDENT_ID",n.id);if(g&&console.error("Error fetching data:",g.message),x&&x.length>0){const y=x[0];if(y.IS_BANNED===!0){alert("You are banned from the system.");return}else if(y.USER_PASS===n.password){alert("Login successful!");const b={id:y.STUDENT_ID,name:y.USER_NAME,age:y.USER_AGE,pass:y.USER_PASS,contact_num:y.CONTACT_NUM,fb:y.USER_FB,email:y.USER_EMAIL,image:y.USER_IMAGE,prods:[],isBanned:y.IS_BANNED};a(!0),o(b),Ha(),s("/home")}else alert("Login failed, invalid username or password")}else alert("No matching records found.")}return u.jsxs("div",{className:`form-container justify-between items-center flex flex-col sm:block\r
    `,children:[u.jsx("input",{placeholder:"ID Number",id:"id-input",className:"w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14",name:"id",onChange:f}),u.jsx("input",{type:"password",placeholder:"Password",id:"password-input",className:" w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14 ",name:"password",onChange:f}),u.jsxs("div",{className:`flex w-full \r
      justify-between flex-col\r
      items-stretch\r
      `,children:[u.jsx("div",{className:`flex-row  flex w-full \r
       items-stretch`,children:u.jsx("button",{id:"forget-pass",className:`\r
          font-thin text-sm ml-2\r
          text-left 2xl:text-base\r
          `,onClick:c,children:"Forget Password?"})}),u.jsx("button",{id:"login-button",className:" bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-32 h-10 mt-3 self-end shadow-md 2xl:h-12 2xl:w-48 lg:h-12 lg:w-36 transition duration-300",onClick:m,children:"Log In"})]})]})},lw=()=>{const[n,r]=w.useState({}),a=It();async function o(f){const{name:m,value:h}=f.target;r(x=>({...x,[m]:h}))}const s=async f=>{var y;const{data:m,error:h}=await ce.from("DIM_CART").select("CART_ID").order("CART_ID",{ascending:!1}).limit(1);if(h){console.error("Error fetching max CART_ID:",h.message),console.log(f);return}const x=(y=m==null?void 0:m[0])!=null&&y.CART_ID?m[0].CART_ID+1:1,{error:g}=await ce.from("DIM_CART").insert([{CART_ID:x,CART_USER:n.id}]);g&&(console.error("Error inserting cart:",g.message),alert("An error occurred while creating your cart.")),g||console.log("Cart created successfully!")};async function c(f){if(f.preventDefault(),!n.name||!n.id||!n.email||!n.password||!n.passwordconfirm){alert("Please fill in all fields.");return}if(n.password!==n.passwordconfirm){alert("Passwords do not match.");return}try{const{data:m,error:h}=await ce.from("DIM_USER").select("STUDENT_ID").eq("STUDENT_ID",n.id);if(h){console.error("Error checking student ID:",h.message),alert("An error occurred while checking Student ID.");return}if(m&&m.length>0){alert("Student ID already exists. Please use a different ID.");return}else{const{error:x}=await ce.from("DIM_USER").insert([{USER_NAME:n.name,STUDENT_ID:n.id,USER_EMAIL:n.email,USER_PASS:n.password}]);s(n.id),x?alert("Sign-up failed. Please try again."):(alert("Sign-up successful!"),a("/login"))}}catch(m){console.error("Unexpected error:",m),alert("An unexpected error occurred. Please try again later.")}}return u.jsxs("div",{className:"container items-center flex flex-col",children:[u.jsx("input",{name:"name",type:"text",placeholder:"Name",id:"name-input",className:"w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14",onChange:o}),u.jsx("input",{name:"id",type:"number",placeholder:"ID Number",id:"id-input",className:" w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14",onChange:o}),u.jsx("input",{name:"email",type:"email",placeholder:"Email",id:"email-input",className:"w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14",onChange:o}),u.jsx("input",{type:"password",placeholder:"Password",id:"password-input",className:"w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14",name:"password",onChange:o}),u.jsx("input",{type:"password",placeholder:"Confirm Password",id:"confirm-password-input",className:"w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14",name:"passwordconfirm",onChange:o}),u.jsx("button",{id:"sign-button",className:"bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-36 h-10 mt-3 justify-center sm:justify-normal sm:self-end 2xl:h-12 2xl:w-48 lg:h-12 lg:w-36 transition-all duration-300",onClick:c,children:"Sign up"})]})},sw=()=>{const[n,r]=w.useState({}),[a,o]=w.useState("prompt"),{setIsLoading:s}=dt(),c=It(),f=g=>{const{name:y,value:b}=g.target;r(E=>({...E,[y]:b}))},m=async g=>{g.preventDefault(),s(!0);const{data:y,error:b}=await ce.from("DIM_USER").select("*").eq("STUDENT_ID",n.id);if(b&&console.error("Error fetching data:",b.message),y&&y.length>0)if(y[0].USER_EMAIL===n.email){o("code");try{const S=await fetch("https://trailmarket.onrender.com/api/send-reset-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email})}),j=await S.json();S.ok&&(s(!1),alert(j.message))}catch(S){console.error("Error:",S)}}else alert("Request failed, invalid ID or Email");else alert("No matching records found.")},h=()=>{const g=S=>{S.preventDefault(),o("prompt")},[y,b]=w.useState(""),E=async S=>{S.preventDefault();try{const j=await fetch("https://trailmarket.onrender.com/api/verify-reset-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,code:y})}),k=await j.json();j.ok&&(alert(k.message),o("change")),j.ok||alert(k.message)}catch(j){console.error("Error:",j)}};return u.jsxs("div",{className:`form-container\r
    justify-between items-center \r
    flex flex-col sm:block\r
    `,children:[u.jsx("input",{placeholder:"Reset Code",id:"code-input",className:`\r
        w-full\r
        border-black border-2\r
        rounded-full\r
        h-11 p-5 mb-3\r
        font-normal\r
        2xl:h-14\r
\r
        `,name:"code",value:y,onChange:S=>b(S.target.value)}),u.jsxs("div",{className:`flex w-full \r
      justify-between flex-col\r
      items-stretch\r
      `,children:[u.jsx("div",{className:`flex-row  flex w-full \r
       items-stretch`,children:u.jsx("button",{id:"cancel-btn",className:"font-thin text-sm ml-2 text-left 2xl:text-base",onClick:g,children:"Cancel"})}),u.jsx("button",{id:"verify",className:" bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-32 h-10 mt-3 self-end shadow-md 2xl:h-12 2xl:w-48 lg:h-12 lg:w-36 transition duration-300",onClick:E,children:"Verify Code"})]})]})},x=()=>{const[g,y]=w.useState(""),[b,E]=w.useState(""),S=async j=>{if(j.preventDefault(),!g){alert("Please enter a new password.");return}if(b!=g){alert("Password doesn't match.");return}try{const{error:k}=await ce.from("DIM_USER").update({USER_PASS:g}).eq("STUDENT_ID",n.id);k?(console.error("Error updating password:",k.message),alert("Failed to update password. Please try again.")):(alert("Password updated successfully!"),c("/login"))}catch(k){console.error("Unexpected error:",k),alert("An unexpected error occurred. Please try again.")}};return u.jsxs("div",{className:"form-container flex flex-col",children:[u.jsx("h2",{className:"w-full ml-2",children:"Reset Your Password"}),u.jsx("input",{type:"password",placeholder:"Password",id:"password-input",className:`w-full\r
        border-black border-2\r
        rounded-full\r
        h-11 p-5 mb-3\r
        font-normal\r
        2xl:h-14`,value:b,onChange:j=>E(j.target.value)}),u.jsx("input",{type:"password",placeholder:"Confirm Password",id:"confirm-password-input",className:`w-full\r
        border-black border-2\r
        rounded-full\r
        h-11 p-5 mb-3\r
        font-normal\r
        2xl:h-14`,value:g,onChange:j=>y(j.target.value)}),u.jsx("button",{onClick:S,className:" bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-32 h-10 mt-3 self-end shadow-md 2xl:h-12 2xl:w-48 lg:h-12 lg:w-36 transition duration-300",children:"Reset"})]})};return u.jsxs("div",{children:[a==="prompt"&&u.jsxs("div",{className:`form-container\r
              justify-between items-center\r
              flex flex-col sm:block\r
              `,children:[u.jsx("input",{placeholder:"ID Number",id:"id-input",className:`\r
                  w-full\r
                  border-black border-2\r
                  rounded-full\r
                  h-11 p-5 mb-3\r
                  font-normal 2xl:h-14\r
                  `,name:"id",onChange:f}),u.jsx("input",{type:"text",placeholder:"Email",id:"email-input",onChange:f,className:`\r
                  w-full\r
                  border-black border-2\r
                  rounded-full\r
                  h-11 p-5 mb-3\r
                  font-normal 2xl:h-14\r
                  `,name:"email"}),u.jsxs("div",{className:`flex w-full\r
                justify-between flex-col\r
                items-stretch\r
                `,children:[u.jsx("button",{id:"return-login",className:`\r
                  font-thin text-sm ml-2\r
                  text-left 2xl:text-base\r
                  `,onClick:()=>c("/login"),children:"Return to Log In"}),u.jsx("button",{id:"submit-button",onClick:m,className:" bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-32 h-10 mt-3 self-end shadow-md 2xl:h-12 2xl:w-48 lg:h-12 lg:w-36 transition duration-300",children:"Submit"})]})]}),a==="code"&&u.jsx(h,{}),a==="change"&&u.jsx(x,{})]})},cw=()=>{const[n,r]=w.useState({}),{setIsAdminLoggedIn:a,setEmp:o}=dt(),s=It();async function c(m){const{name:h,value:x}=m.target;r(g=>({...g,[h]:x}))}async function f(m){m.preventDefault();const{data:h,error:x}=await ce.from("DIM_EMPLOYEE").select("*").eq("EMP_EMAIL",n.email);if(x&&console.error("Error fetching data:",x.message),h&&h.length>0){const g=h[0];if(g.EMP_PASS===n.password){alert("Login successful!");const y={id:g.EMP_ID,name:g.EMP_NAME,age:g.EMP_AGE,pass:g.EMP_PASS,contact_num:g.EMP_CONTACTNUM,email:g.EMP_EMAIL,role:g.EMP_ROLE,emergency_contact:g.EMP_EMERGENCY_CONTACTNUM,emergency_name:g.EMP_EMERGENCY_NAME,sss:g.EMP_SSS,philhealth:g.EMP_PHILHEALTH,pagibig:g.EMP_PAGIBIG,tin:g.EMP_TIN,housenum:g.EMP_HOUSENUM,street:g.EMP_STREET,city:g.EMP_CITY};a(!0),o(y),console.log(y),console.log(y.role),y.role==="Administrator"?s("/admin"):s("/moderator")}else alert("Login failed, invalid username or password")}else alert("No matching records found.")}return u.jsxs("div",{className:`form-container justify-between items-center flex flex-col sm:block\r
    `,children:[u.jsx("input",{type:"email",placeholder:"Email",id:"id-input",className:"w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14",name:"email",onChange:c}),u.jsx("input",{type:"password",placeholder:"Password",id:"password-input",className:" w-full border-black border-2 rounded-full h-11 p-5 mb-3 font-normal 2xl:h-14 ",name:"password",onChange:c}),u.jsx("div",{className:"flex w-full  justify-between flex-col items-stretch",children:u.jsx("button",{id:"login-button",className:" bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-32 h-10 mt-3 self-end shadow-md 2xl:h-12 2xl:w-48 lg:h-12 lg:w-36 transition duration-300",onClick:f,children:"Log In"})})]})},ol=()=>{const n=er(),r=It(),a=()=>n.pathname==="/login"?u.jsx(ow,{}):n.pathname==="/signup"?u.jsx(lw,{}):n.pathname==="/forget"?u.jsx(sw,{}):n.pathname==="/adminlogin"?u.jsx(cw,{}):u.jsx("h1",{children:"404 - Page Not Found"});return u.jsx("div",{className:`\r
    flex w-full justify-center items-center overflow-hidden`,children:u.jsxs("div",{className:"column-container flex flex-row w-full",children:[u.jsx("div",{className:"left-container w-0 sm:w-1/2 h-screen m-0 drop-shadow-2xl",children:u.jsx("img",{src:"https://vcebzlxdqipnbipntjkr.supabase.co/storage/v1/object/public/trailmarket-images/display/login_bg.png?t=2024-12-12T15%3A52%3A15.140Z",alt:"TrailMarket",className:"w-full h-full object-cover "})}),u.jsxs("div",{className:"right-container flex flex-1 flex-col justify-center items-center m-8",children:[u.jsxs("div",{className:"title-container flex flex-col justify-center items-center sm:items-start w-full max-w-md 2xl:max-w-xl",children:[u.jsx("h1",{className:"bg-gradient-to-r from-[#191847] to-[#000000] text-transparent bg-clip-text text-5xl font-semibold text-center sm:text-left 2xl:text-[75px] 2xl:text-left",children:"TrailMarket"}),u.jsx("p",{className:"text-sm font-light ml-2 text-center sm:text-left 2xl:text-[16px] 2xl:text-left",children:"An exclusive market for Trailblazers of USTP-CDO Campus!"})]}),u.jsxs("div",{className:`form-container mt-5 w-full max-w-md 2xl:max-w-xl\r
          2xl:text-lg`,children:[a(),u.jsxs("div",{className:`bottom m-5 mt-14\r
          `,children:[u.jsx("div",{className:"col-ctnr flex items-center justify-center",children:u.jsx("h2",{className:"text-[14px] font-light text-center m-3 2xl:text-base",children:n.pathname==="/login"?"Dont have an account?":"Already have an account?"})}),u.jsx("button",{id:"signup-button",className:"bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-full h-12 shadow-lg 2xl:h-14  transition duration-300",onClick:()=>{n.pathname==="/login"?r("/signup"):r("/login")},children:n.pathname==="/login"&&"Sign Up"||n.pathname==="/signup"&&"Log In"||n.pathname==="/adminlogin"&&"Back to Log In"||n.pathname==="/forget"&&"Back to Log In"}),n.pathname==="/adminlogin"||u.jsx("button",{className:"bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-full h-12 shadow-lg 2xl:h-14  transition duration-300 mt-3",onClick:()=>{r("/adminlogin")},children:"Admin Access"})]})]})]})]})})},uw=({name:n,desc:r,price:a,image:o,handleClick:s})=>u.jsx("button",{className:"mx-4 my-2 first:mt-4",onClick:()=>s&&s(n),children:u.jsxs("div",{className:"CategoriesComponent group flex h-28 sm:h-36 md:h-[200px] lg:h-[250px] hover:h-36 sm:hover:h-40 md:hover:h-56 hover:shadow-lg transition-all duration-500",children:[" ",u.jsxs("div",{className:"CategoriesComponentLeft flex-1 p-5 rounded-tl-2xl rounded-bl-2xl bg-[#252525] text-white flex flex-row md:flex-col justify-between shadow-lg hover:shadow-xl",children:[u.jsxs("div",{className:"LeftTopText text-left",children:[u.jsx("h1",{className:"ComponentName text-lg sm:text-2xl group-hover:text-xl group-hover:sm:text-3xl transition-all duration-300",children:n}),u.jsx("p",{className:"ComponentDesc flex-wrap w-28 md:w-full text-[10px] sm:text-xs font-medium group-hover:text-xs group-hover:sm:text-sm transition-all duration-300 lg:text-sm",children:r})]}),u.jsxs("div",{className:"LeftButtomText text-right justify-center sm:justify-normal items-center md:items-end flex flex-col ",children:[u.jsx("p",{className:"text-[10px] sm:text-sm font-medium text-right w-20 group-hover:text-xs group-hover:sm:text-base  transition-all duration-300",children:"Starts at"}),u.jsxs("h1",{className:"text-lg sm:text-2xl text-right self-end group-hover:text-xl group-hover:sm:text-3xl transition-all duration-300",children:[" ",a]})]})]}),u.jsx("div",{className:"CategoriesComponentRight flex-1 h-full",children:u.jsx("img",{src:o,alt:n,className:"object-cover w-full h-full rounded-tr-2xl rounded-br-2xl"})})]})}),hu=({id:n,name:r,price:a,stock:o,imageUrl:s,sellerId:c})=>{const[f,m]=w.useState(s),[h,x]=w.useState(""),[g,y]=w.useState(""),b=It();return w.useEffect(()=>{(async()=>{const{data:S,error:j}=await ce.from("DIM_PRODUCTIMAGES").select("PRODUCT_IMAGE").eq("PRODUCT_PICTURED_FK",n).eq("isMainImage",!0).single();j?console.error("Error fetching main image URL:",j.message):S&&m(S.PRODUCT_IMAGE)})()},[n]),w.useEffect(()=>{(async()=>{const{data:S,error:j}=await ce.from("DIM_USER").select("USER_NAME, USER_IMAGE").eq("STUDENT_ID",c).single();j?console.error("Error fetching user details:",j.message):S&&(x(S.USER_NAME),y(S.USER_IMAGE))})()},[c]),u.jsx("div",{className:"PRODUCT-CONTAINER group space-y-3 flex flex-col w-60 sm:w-72 p-4 md:max-w-md hover:shadow-xl rounded-xl transition-all duration-300 hover:w-64 sm:hover:w-80",children:u.jsxs("button",{className:"flex flex-col gap-3",onClick:()=>{b(`/product/${n}`)},children:[u.jsx("div",{className:"flex w-full rounded-xl overflow-hidden aspect-square",children:u.jsx("img",{src:f,className:"object-cover shadow-md",alt:r})}),u.jsxs("div",{className:"flex w-full bg-zinc-900 rounded-xl h-36 p-4 flex-col",children:[u.jsxs("div",{className:"left-side flex-[3] flex flex-col align-top",children:[u.jsxs("div",{className:"flex flex-row align-middle space-x-2",children:[u.jsx("div",{className:"w-4 h-4 rounded-full overflow-hidden border border-black",children:u.jsx("img",{className:"object-cover h-full w-full",src:g,alt:"User"})}),u.jsx("p",{className:"text-[10px] sm:text-xs align-middle text-left justify-center items-center flex text-white",children:h})]}),u.jsx("h2",{className:"text-white font-medium text-center text-xs sm:text-sm my-2",children:r})]}),u.jsxs("div",{className:"right-side flex flex-[2] flex-col justify-start text-center",children:[u.jsxs("h2",{className:"text-white text-base md:text-lg xl:text-2xl",children:[" ",a.toFixed(2)]}),u.jsxs("h2",{className:"text-white font-normal text-xs md:text-xs xl:text-sm",children:["Stock available: ",o]})]})]})]})})},Hp=()=>{const{setIsFetched:n,setIsLoading:r,selectedCategory:a,setSelectedCategory:o,setIsAdminLoggedIn:s}=dt(),[c,f]=w.useState([]),[m,h]=w.useState([]);s(!1),w.useEffect(()=>{(async()=>{r(!0),await Ha();const y=await Xm();y&&(f(y),h(y)),n(!0),r(!1)})()},[n]);async function x(g){if(r(!0),a===g)h(c),o(cr[0].CategoryName);else{const y=c.filter(b=>b.category===g);h(y),o(g)}r(!1)}return w.useEffect(()=>{if(a===cr[0].CategoryName)h(c);else{const g=c.filter(y=>y.category===a);h(g)}},[a,c]),u.jsx("div",{className:"HomePage size-full flex flex-col",children:u.jsxs("div",{className:"size-full px-3",children:[u.jsxs("div",{className:"HomePageCategories w-full",children:[u.jsxs("div",{className:"CategoriesHeader bg-gradient-to-r from-[#282667] to-slate-900 p-4 sm:p-7 mx-4 rounded-2xl",children:[u.jsx("h1",{className:"CategoriesTitle text-2xl sm:text-4xl text-white text-center font-medium",children:"CATEGORIES"}),u.jsx("p",{className:"CategoriesDesc text-[9px] sm:text-sm text-white text-center font-normal",children:"Pick one to simplify your search"})]}),u.jsx("div",{className:"CategoriesBody sm:grid-cols-1 grid md:grid-cols-2 xl:grid-cols-4 gap",children:cr.filter((g,y)=>y!==0).map((g,y)=>u.jsx(uw,{name:g.CategoryName,desc:g.CategoryDesc,price:g.CategoryStartPrice,image:g.CategoryImage,handleClick:x},y))})]}),u.jsx("div",{className:"HomePageProducts flex w-full flex-wrap grid-cols-2 xl:grid-cols-4 justify-center",children:m.map(g=>u.jsx(hu,{id:g.id,name:g.name,price:g.price,stock:g.stock,imageUrl:g.imageUrl,sellerId:g.sellerId},g.id))})]})})};var Zm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qp=In.createContext&&In.createContext(Zm),dw=["attr","size","title"];function fw(n,r){if(n==null)return{};var a=pw(n,r),o,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(s=0;s<c.length;s++)o=c[s],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(a[o]=n[o])}return a}function pw(n,r){if(n==null)return{};var a={};for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){if(r.indexOf(o)>=0)continue;a[o]=n[o]}return a}function bl(){return bl=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},bl.apply(this,arguments)}function Gp(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),a.push.apply(a,o)}return a}function _l(n){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Gp(Object(a),!0).forEach(function(o){mw(n,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Gp(Object(a)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(a,o))})}return n}function mw(n,r,a){return r=hw(r),r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function hw(n){var r=gw(n,"string");return typeof r=="symbol"?r:r+""}function gw(n,r){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var o=a.call(n,r||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function eh(n){return n&&n.map((r,a)=>In.createElement(r.tag,_l({key:a},r.attr),eh(r.child)))}function Ol(n){return r=>In.createElement(xw,bl({attr:_l({},n.attr)},r),eh(n.child))}function xw(n){var r=a=>{var{attr:o,size:s,title:c}=n,f=fw(n,dw),m=s||a.size||"1em",h;return a.className&&(h=a.className),n.className&&(h=(h?h+" ":"")+n.className),In.createElement("svg",bl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,o,f,{className:h,style:_l(_l({color:n.color||a.color},a.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&In.createElement("title",null,c),n.children)};return qp!==void 0?In.createElement(qp.Consumer,null,a=>r(a)):r(Zm)}function th(n){return Ol({tag:"svg",attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(n)}function rh(n){return Ol({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function nh(n){return Ol({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const ll=n=>{const r=Math.floor(n),a=n%1!==0,o=5-r-(a?1:0);return u.jsxs("div",{className:"flex",children:[Array.from({length:r}).map((s,c)=>u.jsx(rh,{className:"text-black size-4 lg:size-6"},`full-${c}`)),a&&u.jsx(th,{className:"text-black size-4 lg:size-6"},"half"),Array.from({length:o}).map((s,c)=>u.jsx(nh,{className:"text-gray-300 size-4 lg:size-6"},`empty-${c}`))]})},vw=({filled:n,half:r,onClick:a,onMouseEnter:o,onMouseLeave:s})=>r?u.jsx(th,{className:"size-4 lg:size-6 cursor-pointer text-black",onClick:a,onMouseEnter:o,onMouseLeave:s}):n?u.jsx(rh,{className:"size-4 lg:size-6 cursor-pointer text-black",onClick:a,onMouseEnter:o,onMouseLeave:s}):u.jsx(nh,{className:"w-6 h-6 cursor-pointer text-gray-300",onClick:a,onMouseEnter:o,onMouseLeave:s}),Ic=({rating:n,setRating:r})=>{const[a,o]=w.useState(null),s=(c,f)=>{r(f?c+.5:c+1)};return u.jsx("div",{className:"flex ",children:Array.from({length:5},(c,f)=>u.jsxs("div",{className:"relative",onMouseLeave:()=>o(null),children:[u.jsx(vw,{filled:f<Math.floor(a??n),half:(a??n)===f+.5,onClick:()=>s(f,!1),onMouseEnter:()=>o(f+1),onMouseLeave:()=>o(null)}),u.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full",style:{pointerEvents:"all",zIndex:10},onMouseEnter:()=>o(f+.5),onClick:()=>s(f,!0)})]},f))})},ah=({isOpen:n,onClose:r,title:a,children:o})=>n?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6",children:[u.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[u.jsx("h2",{className:"text-lg font-semibold",children:a}),u.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-800",children:""})]}),u.jsx("div",{className:"mt-4",children:o})]})}):null,yw=()=>{const n=It(),[r,a]=w.useState(1),[o,s]=w.useState(0),c="https://via.placeholder.com/150",[f,m]=w.useState(""),[h,x]=w.useState([]),[g,y]=w.useState({review:"",reviewtitle:""}),[b,E]=w.useState(0),[S,j]=w.useState(0),k=ge=>{const{id:Ie,value:De}=ge.target;y(I=>({...I,[Ie]:De}))},{id:C}=km(),[U,K]=w.useState(null),[te,R]=w.useState(""),{user:q,setIsLoading:$,checkoutProds:V,setCheckoutProds:ue}=dt(),[X,Ce]=w.useState([]),[W,J]=w.useState(""),[ee,le]=w.useState(""),[ke,Q]=w.useState(te),[H,Y]=w.useState(!1),ne=ge=>{Q(ge)},[P,D]=w.useState(null),Z=ge=>{D(Ie=>Ie===ge?null:ge)},de=async()=>{console.log("Submitting form with data:",g);const{error:ge}=await ce.from("DIM_REVIEW").insert([{REVIEW_TITLE:g.reviewtitle,REVIEW_DESC:g.review,REVIEW_RATING:o,REVIEW_PROD:C,REVIEWER_ID:q==null?void 0:q.id}]);ge?console.error("Error submitting review:",ge.message):me()},me=async()=>{const{data:ge,error:Ie}=await ce.from("DIM_REVIEW").select("*").eq("REVIEW_PROD",C).order("REVIEW_DATE",{ascending:!1});if(Ie)console.error("Error fetching reviews:",Ie.message);else{const De=await Promise.all(ge.map(async Ne=>{const Oe=await fe(Ne.REVIEWER_ID);return{...Ne,username:(Oe==null?void 0:Oe.USER_NAME)||"Unknown User",userImage:(Oe==null?void 0:Oe.USER_IMAGE)||c}}));x(De);const A=De.reduce((Ne,Oe)=>Ne+Oe.REVIEW_RATING,0)/De.length;E(A);const re=De.filter(Ne=>Ne.REVIEW_RATING>=3.5).length/De.length*100;j(re)}},he=[te,X].flat(),Pe=async ge=>{if(ge.preventDefault(),!f){console.error("No review ID available for editing.");return}const{error:Ie}=await ce.from("DIM_REVIEW").update({REVIEW_TITLE:g.reviewtitle,REVIEW_DESC:g.review,REVIEW_RATING:o}).eq("REVIEW_ID",f);Ie?console.error("Error updating review:",Ie.message):(me(),Y(!1))},ve=he.filter(ge=>ge!==ke);w.useEffect(()=>{const ge=async()=>{$(!0);const{data:De,error:I}=await ce.from("DIM_PRODUCT").select(`
          PRODUCT_ID,
          PROD_NAME,
          PROD_PRICE,
          PROD_CONDITION,
          PROD_SHORTDESC,
          PROD_CATEGORY,
          PROD_STOCKS,
          PROD_DESC,
          SELLER_ID,
          CATEGORY:PROD_CATEGORY (CATEGORY_NAME)
        `).eq("PRODUCT_ID",C).single();I?console.error("Error fetching product details:",I.message):K(De),$(!1)},Ie=async()=>{var A;$(!0);const{data:De,error:I}=await ce.from("DIM_PRODUCTIMAGES").select("PRODUCT_IMAGE, isMainImage").eq("PRODUCT_PICTURED_FK",C);if(I)console.error("Error fetching product images:",I.message);else{const z=(A=De.find(Ne=>Ne.isMainImage))==null?void 0:A.PRODUCT_IMAGE,re=De.filter(Ne=>!Ne.isMainImage).map(Ne=>Ne.PRODUCT_IMAGE);R(z||""),Ce(re),Q(z||"")}$(!1)};ge(),Ie()},[C]);const fe=async ge=>{const{data:Ie,error:De}=await ce.from("DIM_USER").select("USER_NAME, USER_IMAGE").eq("STUDENT_ID",ge).single();return De?(console.error("Error fetching reviewer details:",De.message),null):Ie};if(w.useEffect(()=>{(async()=>{if(U!=null&&U.SELLER_ID)try{const{data:Ie,error:De}=await ce.from("DIM_USER").select("USER_NAME, USER_IMAGE").eq("STUDENT_ID",U.SELLER_ID).single();De?console.error("Error fetching user details:",De.message):(J(Ie.USER_NAME),le(Ie.USER_IMAGE))}catch(Ie){Ie instanceof Error?console.error("Unexpected error fetching user details:",Ie.message):console.error("Unexpected error fetching user details:",Ie)}})()},[U]),w.useEffect(()=>{me()},[C]),!U)return u.jsx("div",{children:"Product not found"});const Le=()=>{r<U.PROD_STOCKS&&a(r+1)},Ze=()=>{n(`/profile/${U.SELLER_ID}`)},He=()=>{r!=1&&a(r-1)},$e=()=>{console.log("Edit product"),n("/product/edit",{state:{product:{...U,mainImage:te,galleryImages:X}}})},vt=async()=>{if(console.log("Delete product"),window.confirm("Are you sure you want to delete this product?"))try{const{data:Ie,error:De}=await ce.from("DIM_PRODUCTIMAGES").select("PRODUCT_IMAGE").eq("PRODUCT_PICTURED_FK",C);if(De)throw De;for(const A of Ie){const Ne=new URL(A.PRODUCT_IMAGE).pathname.replace("/storage/v1/object/public/trailmarket-images/","");console.log(`Deleting image from storage: ${Ne}`);const{error:Oe}=await ce.storage.from("trailmarket-images").remove([Ne]);if(Oe)throw console.error(`Error deleting image from storage: ${Ne}`,Oe),Oe}const{error:I}=await ce.from("DIM_PRODUCT").delete().eq("PRODUCT_ID",C);if(I)throw I;alert("Product and associated images deleted successfully!"),n("/home")}catch(Ie){Ie instanceof Error?(console.error("Error deleting product and images:",Ie.message),alert(`Error deleting product and images: ${Ie.message}`)):(console.error("Error deleting product and images:",Ie),alert("Error deleting product and images."))}},Mt=async()=>{const{error:ge}=await ce.from("DIM_CART").select("*").eq("CART_USER",q==null?void 0:q.id);if(ge){console.error("Error fetching cart 3:",ge.message),alert("An error occurred while adding the product to your cart.");return}},qt=()=>{const ge={order_id:void 0,prod_fk:U.PRODUCT_ID,meetupLoc:void 0,meetupDate:void 0,meetupTime:void 0,quantity:r,prodName:U.PROD_NAME,prodPrice:U.PROD_PRICE,prodImg:te,paymentMethod:void 0,paymentDate:void 0,paymentStatus:void 0,sellerId:U.SELLER_ID};ue([...V,ge]),n("/checkout"),console.log(V)},wt=async(ge,Ie=1)=>{$(!0);try{await Mt();const{data:De,error:I}=await ce.from("DIM_CART").select(`
        CART_ID,
        CART_USER,
        FACT_CART_PROD(
          CART_PROD_ID,
          PRODUCT_FK,
          CART_QUANTITY
        )
      `).eq("CART_USER",q==null?void 0:q.id);if(I){console.error("Error fetching cart:",I.message);return}let A,z=null;if(De&&De.length>0&&(A=De[0].CART_ID,z=De[0].FACT_CART_PROD.find(re=>String(re.PRODUCT_FK)===String(ge))),z){const re=z.CART_QUANTITY+Ie,{error:Ne}=await ce.from("FACT_CART_PROD").update({CART_QUANTITY:re}).eq("CART_PROD_ID",z.CART_PROD_ID);if(Ne){console.error("1",Ne.message),console.log("qunatity problem");return}}else{const{error:re}=await ce.from("FACT_CART_PROD").insert({CART_FK:A,PRODUCT_FK:ge,CART_QUANTITY:Ie});if(re){console.error(re.message),alert("An error occurred while adding the product to your cart.");return}}alert("Product added to cart successfully!")}catch(De){console.error(De),alert("An error occurred while adding the product to your cart.")}$(!1)};function Gt(ge){y({reviewtitle:ge.REVIEW_TITLE,review:ge.REVIEW_DESC}),s(ge.REVIEW_RATING),m(ge.REVIEW_ID),Y(!0)}const Lt=async ge=>{const{error:Ie}=await ce.from("DIM_REVIEW").delete().eq("REVIEW_ID",ge);Ie?console.error("Error deleting review:",Ie.message):me()};return u.jsxs("div",{className:"flex flex-col",children:[u.jsx("div",{className:"app-wrapper flex items-center justify-center min-h-screen overflow-scroll ",children:u.jsx("div",{className:"flex justify-center items-center",children:u.jsxs("div",{className:"product-cntnr flex flex-col justify-center items-center h-auto w-[95vw] bg-white rounded-lg shadow-lg pb-2 2xl:pb-5",children:[u.jsxs("div",{className:"product-top flex flex-col md:flex-row flex-[3] w-full px-1 h-auto",children:[u.jsxs("div",{className:"product-display flex-[2] flex flex-col rounded-2xl xl:m-4 ",children:[u.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg shadow-md sm:m-4 md:m-2",children:u.jsx("img",{className:"h-full w- object-cover rounded-lg",src:ke,alt:"Product"})}),u.jsx("div",{className:"gallery grid grid-cols-4 md:grid-cols-4 xl:grid-cols-4 gap-4 p-2 w-full sm:px-5 md:p-2",children:ve.map(ge=>u.jsx("div",{className:"bg-gray-100 rounded-lg border aspect-square shadow-sm",children:u.jsx("img",{className:"h-full w-full object-cover rounded-lg",src:ge,alt:"Product",onClick:()=>ne(ge)})}))})]}),u.jsxs("div",{className:"flex flex-[4] flex-col",children:[u.jsxs("div",{className:"product-details flex-[5] flex flex-col xl:my-4 xl:mr-4 2xl:flex-[0]",children:[u.jsxs("div",{className:"product-name flex-[1] 2xl:flex-[0] items-center justify-centerbg-gray-100 rounded-lg m-2 sm:m-5 md:mx-6",children:[u.jsx("div",{children:u.jsx("button",{onClick:Ze,children:u.jsxs("div",{className:"flex flex-row align-middle space-x-2 items-center",children:[u.jsx("div",{className:"size-5 rounded-full overflow-hidden border border-black",children:u.jsx("img",{className:"object-cover h-full w-full",src:ee,alt:"User"})}),u.jsx("div",{className:" h-full align-middle",children:u.jsx("p",{className:"text-xs font-medium align-middle justify-center",children:W})})]})})}),u.jsx("h1",{className:"text-xl sm:text-3xl md:text-4xl",children:U.PROD_NAME}),u.jsx("h2",{className:"text-xs font-normal sm:text-sm md:text-base xl:mt-3 xl:text-lg my-2 text-justify",children:U.PROD_DESC}),U.SELLER_ID===(q==null?void 0:q.id)&&u.jsxs("div",{className:"product-actions flex flex-row space-x-2 pt-2",children:[u.jsx("button",{onClick:$e,className:"edit-button px-5 py-1 text-sm border font-medium border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 text-center flex justify-center items-center xl:px-10",children:"Edit"}),u.jsx("button",{onClick:vt,className:"delete-button px-5 py-1 text-sm border font-medium border-black text-black bg-red-400 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-red-300 hover:text-black transition duration-300 text-center flex justify-center items-center xl:px-10",children:"Delete"})]})]}),u.jsxs("div",{className:"product-price flex-[1] 2xl:flex-[0] items-center justify-center bg-gray-900 rounded-lg my-2 py-4 sm:mx-3 2xl:pl-4",children:[u.jsxs("h1",{className:"text-xl md:text-4xl text-gray-100 mx-4 sm:mx-6 sm:text-3xl md:mx-4 md:my-3 xl:text-4xl 2xl:my-5",children:["PHP ",U.PROD_PRICE.toFixed(2)]}),u.jsxs("div",{className:"mt-2 mx-3 flex-row space-x-2 pb-2 sm:mx-5 sm:mt-3 md:mx-4 md:my-3 xl:my-5 2xl:my-5",children:[u.jsx("button",{className:"px-3 py-2 text-xs border-2 border-white text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-base xl:mr-3",onClick:()=>wt(U.PRODUCT_ID,r),children:"Add to Cart"}),u.jsx("button",{className:"px-3 py-2 text-xs border-2 border-white text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-base",onClick:()=>{qt()},children:"Proceed to Checkout"})]})]})]}),u.jsxs("div",{className:"product-bottom flex-col mr-7 ml-1 hidden 2xl:flex",children:[u.jsxs("div",{className:"product-info flex flex-col items-start justify-start bg-gray-100 rounded-lg my-2 ml-2 p-4 mb-6",children:[u.jsx("h1",{className:"mx-4 mt-1.5 2xl:text-2xl",children:"Product Information"}),u.jsx("p",{className:"text-[10px] font-normal mx-4 xl:text-sm xl:ml-[18px] 2xl:text-base",children:"Product Details"}),u.jsxs("div",{className:"flex flex-row space-x-2 m-2 w-full justify-between gap-7 md:mt-6",children:[u.jsx("h2",{className:"mx-2.5 text-center text-base flex justify-center items-center",children:"Category"}),u.jsx("div",{className:"flex gap-3 flex-1",children:u.jsx("p",{className:"px-10 py-2 text-base border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 text-center flex justify-center items-center ml-5",children:U.CATEGORY.CATEGORY_NAME})})]}),u.jsxs("div",{className:"flex flex-row space-x-2 m-5 justify-between gap-16",children:[u.jsx("h3",{className:"text-base text-center flex justify-center items-center",children:"Quantity"}),u.jsxs("div",{className:"flex gap-2 flex-1 justify-center ",children:[u.jsx("button",{onClick:He,className:"flex px-8 py-2 text-base border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300",children:"-"}),u.jsx("input",{type:"number",className:"w-20 text-base justify-center items-center text-center border-2 border-black rounded-full bg-gray [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:r}),u.jsx("button",{onClick:Le,className:"px-8 py-2 text-base border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300",children:"+"})]})]})]}),u.jsxs("div",{className:"leave-rev flex-[5] p-2 flex-row items-start justify-start bg-gray-100 rounded-lg my-2 sm:mx-4 sm:p-2 space-y-3",children:[u.jsxs("div",{className:"flex flex-col mx-2.5",children:[u.jsx("h1",{className:" mt-1.5 text-2xl xl:text2xl",children:"Leave a Review"}),u.jsx("div",{className:"",children:u.jsx(Ic,{rating:o,setRating:s})}),u.jsx("input",{id:"reviewtitle",className:"bg-gray-100 mt-2 p-3 rounded-lg border-black border-2 font-medium",placeholder:"Title your review!",onChange:k}),u.jsx("textarea",{id:"review",className:"bg-gray-100 mt-2 rounded-lg border-black border-2 h-52 font-medium p-3",placeholder:"Write your review here",onChange:k})]}),u.jsx("div",{className:"flex",children:u.jsx("button",{className:"mx-2 px-3 py-2 text-xs border-2 border-zinc-900 text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-zinc-900 hover:text-white transition duration-300 xl:p-3 xl:px-6 xl:text-sm xl:mr-3 font-bold shadow-sm mb-3 ",onClick:de,children:"Submit Review"})})]}),u.jsxs("div",{className:"product-reviews flex-[5] items-start justify-start bg-gray-100 rounded-lg p-5 ml-2 w-full",children:[u.jsxs("div",{className:" review-container flex flex-col mb-3",children:[u.jsx("h1",{className:"mx-2 mt-1.5 text-2xl",children:"Customer Reviews"}),u.jsxs("div",{className:" review-ave flex space-x-1 mx-2.5 my-1",children:[ll(b),u.jsx("h3",{className:"text-sm font-medium self-center",children:`(${h.length} reviews)`})]}),u.jsxs("h2",{className:"review-percent text-[11px] mx-2.5 font-medium xl:text-sm",children:[S.toFixed(2),"% of costumers are satisfied"]})]}),h.map(ge=>u.jsx("div",{className:"review-preview w-full max-h-full overflow-y-auto flex flex-col items-start justify-start break-all px-3 my-1 mb-3 overflow-hidden",children:u.jsxs("div",{className:"flex flex-col items-start justify-start rounded-lg m-2 w-full ",children:[u.jsxs("div",{className:"w-full flex items-center my-1 xl:my-2 ",children:[u.jsxs("button",{className:"flex gap-4 w-full items-center",onClick:()=>n(`/profile/${ge.REVIEWER_ID}`),children:[u.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border border-black",children:u.jsx("img",{className:"object-cover h-full w-full",src:ge.userImage,alt:"User"})}),u.jsx("p",{className:"text-xl w-full text-left",children:ge.username})]}),u.jsx("div",{className:"flex flex-row justify-end items-end mx-2",children:ll(ge.REVIEW_RATING)}),ge.REVIEWER_ID===(q==null?void 0:q.id)&&u.jsxs("div",{className:"relative items-end",children:[u.jsx("button",{className:"text-gray-500 hover:text-gray-800 focus:outline-none",onClick:()=>Z(ge.REVIEW_ID),children:""}),P===ge.REVIEW_ID&&u.jsxs("div",{className:"absolute left bg-white border rounded shadow-md w-max",children:[u.jsx("button",{className:"block px-4 py-2 text-sm text-left hover:bg-gray-100 w-full",onClick:()=>Gt(ge),children:"Edit"}),u.jsx("button",{className:"block px-4 py-2 text-sm text-left hover:bg-gray-100 w-full text-red-500",onClick:()=>Lt(ge.REVIEW_ID),children:"Delete"})]})]})]}),u.jsx("h1",{className:"font-bold text-base",children:ge.REVIEW_TITLE}),u.jsx("h1",{className:"font-normal text-base",children:ge.REVIEW_DESC})]})}))]})]})]})]}),u.jsxs("div",{className:"product-bottom flex flex-[1] flex-col w-full md:flex-row xl:ml-4 xl:mr-4 2xl:hidden",children:[u.jsxs("div",{className:"product-info flex-wrap flex-[3] flex flex-col items-start justify-start bg-gray-100 rounded-lg my-2 sm:mx-4 sm:p-1 sm:pt-3 md:ml-3 md:mr-1  ",children:[u.jsx("h1",{className:"mx-4 mt-1.5 text-xl sm:text-2xl xl:text-3xl 2xl:text-4xl",children:"Product Information"}),u.jsx("p",{className:"text-xs font-normal mx-4 xl:text-sm xl:ml-[18px] 2xl:text-base",children:"Product Details"}),u.jsxs("div",{className:"flex flex-row space-x-2 m-2 w-full justify-between gap-7 md:gap-3 md:mt-6 ",children:[u.jsx("h2",{className:"mx-2.5 text-center text-xs flex justify-center items-center sm:text-sm ",children:"Category"}),u.jsx("div",{className:"flex gap-3 flex-1",children:u.jsx("p",{className:"px-4 py-2 text-xs border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 text-center flex justify-center items-center sm:text-sm",children:U.CATEGORY.CATEGORY_NAME})})]}),u.jsxs("div",{className:"flex flex-row space-x-2 m-5 justify-between gap-10 md:gap-7",children:[u.jsx("h3",{className:"text-xs text-center flex justify-center items-center sm:text-sm",children:"Quantity"}),u.jsxs("div",{className:"flex gap-2 flex-1",children:[u.jsx("button",{onClick:He,className:"flex px-4 py-2 text-xs border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 sm:text-sm",children:"-"}),u.jsx("input",{type:"number",className:"w-20 text-xs text-center border-2 border-black rounded-full bg-gray sm:text-sm [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:r}),u.jsx("button",{onClick:Le,className:"px-4 py-2 text-xs border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 sm:text-sm",children:"+"})]})]})]}),u.jsxs("div",{className:"leave-rev flex-[5] p-2 flex-row items-start justify-start bg-gray-100 rounded-lg my-2 sm:mx-4 sm:p-2 space-y-3 xl:p-4 2xl:p-6",children:[u.jsxs("div",{className:"flex flex-col mx-2.5",children:[u.jsx("h1",{className:" mt-1.5 text-xl xl:text-3xl",children:"Leave a Review"}),u.jsx("div",{className:"",children:u.jsx(Ic,{rating:o,setRating:s})}),u.jsx("input",{id:"reviewtitle",className:"bg-gray-100 mt-2 p-2 rounded-lg border-black border-2 font-medium text-sm",placeholder:"Title your review!",onChange:k}),u.jsx("textarea",{id:"review",className:"bg-gray-100 mt-2 p-2 rounded-lg border-black border-2 h-52 font-medium text-sm",placeholder:"Write your review here",onChange:k})]}),u.jsx("div",{className:"flex",children:u.jsx("button",{className:"mx-2 px-3 py-2 text-xs border-2 border-zinc-900 text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-zinc-900 hover:text-white transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-sm xl:mr-3 2xl:text-xl",onClick:de,children:"Submit Review"})})]}),u.jsxs("div",{className:"product-reviews flex-[5] items-start justify-start bg-gray-100 rounded-lg my-2 sm:mx-4 sm:p-2",children:[u.jsxs("div",{className:"flex flex-[1] flex-col mb-3 p-2",children:[u.jsx("h1",{className:"mx-2 mt-1.5 text-xl",children:"Customer Reviews"}),u.jsxs("div",{className:" review-ave flex space-x-1 mx-2.5 my-1",children:[ll(b),u.jsx("h3",{className:"text-sm font-medium",children:`(${h.length} reviews)`})]}),u.jsxs("h2",{className:"review-percent text-[11px] mx-2.5 font-medium lg:text-sm",children:[S.toFixed(2),"% of costumers are satisfied"]})]}),h.map(ge=>u.jsx("div",{className:"review-preview w-full max-h-full overflow-y-auto flex flex-col items-start justify-start break-all px-3 my-1 mb-3",children:u.jsxs("div",{className:"flex flex-col items-start justify-start rounded-lg m-2 w-full",children:[u.jsxs("div",{className:"w-full flex flex-row md:flex-col md:gap-2 items-center my-1 xl:my-2",children:[u.jsxs("button",{className:"flex gap-4 w-full items-center",onClick:()=>n(`/profile/${ge.REVIEWER_ID}`),children:[u.jsx("div",{className:"size-8 rounded-full overflow-hidden border border-black",children:u.jsx("img",{className:"object-cover h-full w-full",src:ge.userImage,alt:"User"})}),u.jsx("p",{className:"text-sm lg:text-base text-left w-full",children:ge.username})]}),u.jsx("div",{className:"flex flex-row justify-end items-end md:items-start md:justify-start w-full mx-2",children:ll(ge.REVIEW_RATING)})]}),u.jsx("h1",{className:"font-medium text-sm lg:text-base",children:ge.REVIEW_TITLE}),u.jsx("h1",{className:"font-normal text-xs lg:text-sm",children:ge.REVIEW_DESC})]})}))]})]})]})})}),u.jsx(ah,{isOpen:H,onClose:()=>Y(!1),title:"Edit Review",children:u.jsxs("form",{className:"flex flex-col items-center justify-center space-y-4",onSubmit:Pe,children:[u.jsx(Ic,{rating:o,setRating:s}),u.jsx("input",{className:"w-full border rounded p-2 mt-4",placeholder:"Edit your review title",value:g.reviewtitle,onChange:ge=>y(Ie=>({...Ie,reviewtitle:ge.target.value}))}),u.jsx("textarea",{className:"w-full border rounded p-2",placeholder:"Edit your review",value:g.review,onChange:ge=>y(Ie=>({...Ie,review:ge.target.value}))}),u.jsx("button",{type:"submit",className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded",onClick:Pe,children:"Save Changes"})]})})]})},ww=({isOpen:n,onClose:r,children:a})=>n?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 rounded-xl",children:u.jsxs("div",{className:"bg-zinc-900 p-4 rounded-xl shadow-lg relative w-[90vw] md:w-[60vw]",children:[u.jsx("button",{className:"absolute top-2 right-2",onClick:r,children:""}),a]})}):null,Al=()=>{var k;const n=It(),r=er(),[a,o]=w.useState(!1),{setIsAdminLoggedIn:s,setIsLoggedIn:c,setUser:f,setEmp:m,isAdminLoggedIn:h,isLoggedIn:x,user:g,setIsLoading:y}=dt(),b=()=>{f(null),m(null),localStorage.removeItem("user"),localStorage.removeItem("employee"),c(!1),s(!1),n("/login")},E=()=>{o(!0)},S=()=>{o(!1)},j=async C=>{C.preventDefault(),y(!0),console.log("Submitting feedback...");const U=new FormData(C.currentTarget),K=U.get("category"),te=U.get("title"),R=U.get("feedback");if(!K||!te||!R){alert("Please fill in all fields."),y(!1);return}console.log("Form Data:",{category:K,title:te,feedback:R});const{data:q,error:$}=await ce.from("DIM_FEEDBACK").insert([{FEEDBACK_CAT:K,FEEDBACK_TITLE:te,FEEDBACK_DESC:R,FEEDBACK_USER:g==null?void 0:g.id}]).select();if($){console.error("Error submitting feedback:",$.message),y(!1);return}if(console.log("Feedback submitted successfully:",q),q&&q.length>0){const V=q[0].FEEDBACK_ID,{error:ue}=await ce.from("FACT_ISSUE_TRACKER").insert([{FEEDBACK_FK:V,ISSUE_STAT:"Not Started"}]);if(ue){console.error("Error creating issue tracker entry:",ue.message),y(!1);return}console.log("Issue tracker entry created successfully")}o(!1),y(!1)};return u.jsxs("div",{className:`main w-full\r
    flex justify-between items-center\r
    bg-[#202020] text-white mb-1\r
    md:px-3\r
    text-[12px] lg:text-[15px]\r
    2xl:text-[17px]\r
    `,children:[u.jsxs("div",{className:`left\r
      flex gap-5 m-2.5 ml-4\r
      lg:ml-7 lg:gap-8 lg:m-3\r
      2xl:ml-16 2xl:gap-16 2xl:m-4\r
        `,children:[u.jsx("button",{className:`\r
        font-normal lg:font-medium md:text-sm\r
        `,onClick:()=>n("/about"),children:"About Us"}),x&&!h&&u.jsx("button",{className:"font-normal lg:font-medium md:text-sm",onClick:E,children:"Give Feedback"})]}),u.jsx("div",{className:`right\r
        flex gap-3 m-2 mr-4\r
        lg:mr-7 lg:gap-5 lg:m-3\r
        2xl:mr-16 2xl:gap-8 2xl:m-4\r
        `,children:r.pathname==="/admin"||r.pathname==="/moderator"?u.jsx("button",{className:"font-normal lg:font-medium md:text-sm",onClick:b,children:"Log Out"}):u.jsxs("h3",{className:"font-normal lg:font-medium md:text-sm",children:["Welcome ",(k=dt().user)==null?void 0:k.name]})}),u.jsxs(ww,{isOpen:a,onClose:S,children:[u.jsx("h2",{className:"text-lg font-bold mb-4",children:"Give Feedback"}),u.jsxs("form",{className:"",onSubmit:j,children:[u.jsxs("select",{className:"w-full p-2 border rounded mb-4  text-black text-xs xl:text-base",defaultValue:"",name:"category",children:[u.jsx("option",{className:"font-medium",value:"",disabled:!0,children:"Select a category"}),u.jsx("option",{className:"font-medium",value:"Bug",children:"Bug"}),u.jsx("option",{className:"font-medium",value:"Feature",children:"Feature"}),u.jsx("option",{className:"font-medium",value:"Feedback",children:"Feedback"})]}),u.jsx("input",{type:"text",className:"w-full p-2 border rounded mb-4 text-black text-xs xl:text-base",placeholder:"Title",name:"title"}),u.jsx("textarea",{className:"w-full p-2 border rounded text-black text-xs xl:text-base font-medium",rows:5,placeholder:"Your feedback",name:"feedback"}),u.jsx("button",{type:"submit",className:"px-3 py-2 text-xs border-2 border-white text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-sm xl:mr-3 2xl:text-lg mt-3",children:"Submit"})]})]})]})};var Dc={exports:{}},Oc,Vp;function bw(){if(Vp)return Oc;Vp=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Oc=n,Oc}var Ac,Wp;function _w(){if(Wp)return Ac;Wp=1;var n=bw();function r(){}function a(){}return a.resetWarningCache=r,Ac=function(){function o(f,m,h,x,g,y){if(y!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}o.isRequired=o;function s(){return o}var c={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:a,resetWarningCache:r};return c.PropTypes=c,c},Ac}var Kp;function Ew(){return Kp||(Kp=1,Dc.exports=_w()()),Dc.exports}var jw=Ew();const rt=Cl(jw);function la(n,r,a,o){function s(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(g){try{x(o.next(g))}catch(y){f(y)}}function h(g){try{x(o.throw(g))}catch(y){f(y)}}function x(g){g.done?c(g.value):s(g.value).then(m,h)}x((o=o.apply(n,r||[])).next())})}const kw=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Va(n,r,a){const o=Sw(n),{webkitRelativePath:s}=n,c=typeof r=="string"?r:typeof s=="string"&&s.length>0?s:`./${n.name}`;return typeof o.path!="string"&&Yp(o,"path",c),Yp(o,"relativePath",c),o}function Sw(n){const{name:r}=n;if(r&&r.lastIndexOf(".")!==-1&&!n.type){const o=r.split(".").pop().toLowerCase(),s=kw.get(o);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}function Yp(n,r,a){Object.defineProperty(n,r,{value:a,writable:!1,configurable:!1,enumerable:!0})}const Cw=[".DS_Store","Thumbs.db"];function Pw(n){return la(this,void 0,void 0,function*(){return El(n)&&Nw(n.dataTransfer)?Dw(n.dataTransfer,n.type):Tw(n)?Rw(n):Array.isArray(n)&&n.every(r=>"getFile"in r&&typeof r.getFile=="function")?Iw(n):[]})}function Nw(n){return El(n)}function Tw(n){return El(n)&&El(n.target)}function El(n){return typeof n=="object"&&n!==null}function Rw(n){return Yc(n.target.files).map(r=>Va(r))}function Iw(n){return la(this,void 0,void 0,function*(){return(yield Promise.all(n.map(a=>a.getFile()))).map(a=>Va(a))})}function Dw(n,r){return la(this,void 0,void 0,function*(){if(n.items){const a=Yc(n.items).filter(s=>s.kind==="file");if(r!=="drop")return a;const o=yield Promise.all(a.map(Ow));return Qp(ih(o))}return Qp(Yc(n.files).map(a=>Va(a)))})}function Qp(n){return n.filter(r=>Cw.indexOf(r.name)===-1)}function Yc(n){if(n===null)return[];const r=[];for(let a=0;a<n.length;a++){const o=n[a];r.push(o)}return r}function Ow(n){if(typeof n.webkitGetAsEntry!="function")return Jp(n);const r=n.webkitGetAsEntry();return r&&r.isDirectory?oh(r):Jp(n,r)}function ih(n){return n.reduce((r,a)=>[...r,...Array.isArray(a)?ih(a):[a]],[])}function Jp(n,r){return la(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const c=yield n.getAsFileSystemHandle();if(c===null)throw new Error(`${n} is not a File`);if(c!==void 0){const f=yield c.getFile();return f.handle=c,Va(f)}}const o=n.getAsFile();if(!o)throw new Error(`${n} is not a File`);return Va(o,(a=r==null?void 0:r.fullPath)!==null&&a!==void 0?a:void 0)})}function Aw(n){return la(this,void 0,void 0,function*(){return n.isDirectory?oh(n):Mw(n)})}function oh(n){const r=n.createReader();return new Promise((a,o)=>{const s=[];function c(){r.readEntries(f=>la(this,void 0,void 0,function*(){if(f.length){const m=Promise.all(f.map(Aw));s.push(m),c()}else try{const m=yield Promise.all(s);a(m)}catch(m){o(m)}}),f=>{o(f)})}c()})}function Mw(n){return la(this,void 0,void 0,function*(){return new Promise((r,a)=>{n.file(o=>{const s=Va(o,n.fullPath);r(s)},o=>{a(o)})})})}var sl={},Xp;function Lw(){return Xp||(Xp=1,sl.__esModule=!0,sl.default=function(n,r){if(n&&r){var a=Array.isArray(r)?r:r.split(",");if(a.length===0)return!0;var o=n.name||"",s=(n.type||"").toLowerCase(),c=s.replace(/\/.*$/,"");return a.some(function(f){var m=f.trim().toLowerCase();return m.charAt(0)==="."?o.toLowerCase().endsWith(m):m.endsWith("/*")?c===m.replace(/\/.*$/,""):s===m})}return!0}),sl}var Uw=Lw();const Mc=Cl(Uw);function Zp(n){return $w(n)||zw(n)||sh(n)||Fw()}function Fw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zw(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $w(n){if(Array.isArray(n))return Qc(n)}function em(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),a.push.apply(a,o)}return a}function tm(n){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?em(Object(a),!0).forEach(function(o){lh(n,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):em(Object(a)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(a,o))})}return n}function lh(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function Bi(n,r){return qw(n)||Hw(n,r)||sh(n,r)||Bw()}function Bw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sh(n,r){if(n){if(typeof n=="string")return Qc(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qc(n,r)}}function Qc(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=n[a];return o}function Hw(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o=[],s=!0,c=!1,f,m;try{for(a=a.call(n);!(s=(f=a.next()).done)&&(o.push(f.value),!(r&&o.length===r));s=!0);}catch(h){c=!0,m=h}finally{try{!s&&a.return!=null&&a.return()}finally{if(c)throw m}}return o}}function qw(n){if(Array.isArray(n))return n}var Gw=typeof Mc=="function"?Mc:Mc.default,Vw="file-invalid-type",Ww="file-too-large",Kw="file-too-small",Yw="too-many-files",Qw=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=r.split(","),o=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:Vw,message:"File type must be ".concat(o)}},rm=function(r){return{code:Ww,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},nm=function(r){return{code:Kw,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},Jw={code:Yw,message:"Too many files"};function ch(n,r){var a=n.type==="application/x-moz-file"||Gw(n,r);return[a,a?null:Qw(r)]}function uh(n,r,a){if(ra(n.size))if(ra(r)&&ra(a)){if(n.size>a)return[!1,rm(a)];if(n.size<r)return[!1,nm(r)]}else{if(ra(r)&&n.size<r)return[!1,nm(r)];if(ra(a)&&n.size>a)return[!1,rm(a)]}return[!0,null]}function ra(n){return n!=null}function Xw(n){var r=n.files,a=n.accept,o=n.minSize,s=n.maxSize,c=n.multiple,f=n.maxFiles,m=n.validator;return!c&&r.length>1||c&&f>=1&&r.length>f?!1:r.every(function(h){var x=ch(h,a),g=Bi(x,1),y=g[0],b=uh(h,o,s),E=Bi(b,1),S=E[0],j=m?m(h):null;return y&&S&&!j})}function jl(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function cl(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!n.target&&!!n.target.files}function am(n){n.preventDefault()}function Zw(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function eb(n){return n.indexOf("Edge/")!==-1}function tb(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Zw(n)||eb(n)}function Fr(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return function(o){for(var s=arguments.length,c=new Array(s>1?s-1:0),f=1;f<s;f++)c[f-1]=arguments[f];return r.some(function(m){return!jl(o)&&m&&m.apply(void 0,[o].concat(c)),jl(o)})}}function rb(){return"showOpenFilePicker"in window}function nb(n){if(ra(n)){var r=Object.entries(n).filter(function(a){var o=Bi(a,2),s=o[0],c=o[1],f=!0;return dh(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(c)||!c.every(fh))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(a,o){var s=Bi(o,2),c=s[0],f=s[1];return tm(tm({},a),{},lh({},c,f))},{});return[{description:"Files",accept:r}]}return n}function ab(n){if(ra(n))return Object.entries(n).reduce(function(r,a){var o=Bi(a,2),s=o[0],c=o[1];return[].concat(Zp(r),[s],Zp(c))},[]).filter(function(r){return dh(r)||fh(r)}).join(",")}function ib(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function ob(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function dh(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function fh(n){return/^.*\.[\w]+$/.test(n)}var lb=["children"],sb=["open"],cb=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ub=["refKey","onChange","onClick"];function db(n){return mb(n)||pb(n)||ph(n)||fb()}function fb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pb(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mb(n){if(Array.isArray(n))return Jc(n)}function Lc(n,r){return xb(n)||gb(n,r)||ph(n,r)||hb()}function hb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ph(n,r){if(n){if(typeof n=="string")return Jc(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Jc(n,r)}}function Jc(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=n[a];return o}function gb(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o=[],s=!0,c=!1,f,m;try{for(a=a.call(n);!(s=(f=a.next()).done)&&(o.push(f.value),!(r&&o.length===r));s=!0);}catch(h){c=!0,m=h}finally{try{!s&&a.return!=null&&a.return()}finally{if(c)throw m}}return o}}function xb(n){if(Array.isArray(n))return n}function im(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),a.push.apply(a,o)}return a}function ht(n){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?im(Object(a),!0).forEach(function(o){Xc(n,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):im(Object(a)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(a,o))})}return n}function Xc(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function kl(n,r){if(n==null)return{};var a=vb(n,r),o,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(s=0;s<c.length;s++)o=c[s],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(a[o]=n[o])}return a}function vb(n,r){if(n==null)return{};var a={},o=Object.keys(n),s,c;for(c=0;c<o.length;c++)s=o[c],!(r.indexOf(s)>=0)&&(a[s]=n[s]);return a}var gu=w.forwardRef(function(n,r){var a=n.children,o=kl(n,lb),s=Ml(o),c=s.open,f=kl(s,sb);return w.useImperativeHandle(r,function(){return{open:c}},[c]),In.createElement(w.Fragment,null,a(ht(ht({},f),{},{open:c})))});gu.displayName="Dropzone";var mh={disabled:!1,getFilesFromEvent:Pw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};gu.defaultProps=mh;gu.propTypes={children:rt.func,accept:rt.objectOf(rt.arrayOf(rt.string)),multiple:rt.bool,preventDropOnDocument:rt.bool,noClick:rt.bool,noKeyboard:rt.bool,noDrag:rt.bool,noDragEventsBubbling:rt.bool,minSize:rt.number,maxSize:rt.number,maxFiles:rt.number,disabled:rt.bool,getFilesFromEvent:rt.func,onFileDialogCancel:rt.func,onFileDialogOpen:rt.func,useFsAccessApi:rt.bool,autoFocus:rt.bool,onDragEnter:rt.func,onDragLeave:rt.func,onDragOver:rt.func,onDrop:rt.func,onDropAccepted:rt.func,onDropRejected:rt.func,onError:rt.func,validator:rt.func};var Zc={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ml(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=ht(ht({},mh),n),a=r.accept,o=r.disabled,s=r.getFilesFromEvent,c=r.maxSize,f=r.minSize,m=r.multiple,h=r.maxFiles,x=r.onDragEnter,g=r.onDragLeave,y=r.onDragOver,b=r.onDrop,E=r.onDropAccepted,S=r.onDropRejected,j=r.onFileDialogCancel,k=r.onFileDialogOpen,C=r.useFsAccessApi,U=r.autoFocus,K=r.preventDropOnDocument,te=r.noClick,R=r.noKeyboard,q=r.noDrag,$=r.noDragEventsBubbling,V=r.onError,ue=r.validator,X=w.useMemo(function(){return ab(a)},[a]),Ce=w.useMemo(function(){return nb(a)},[a]),W=w.useMemo(function(){return typeof k=="function"?k:om},[k]),J=w.useMemo(function(){return typeof j=="function"?j:om},[j]),ee=w.useRef(null),le=w.useRef(null),ke=w.useReducer(yb,Zc),Q=Lc(ke,2),H=Q[0],Y=Q[1],ne=H.isFocused,P=H.isFileDialogActive,D=w.useRef(typeof window<"u"&&window.isSecureContext&&C&&rb()),Z=function(){!D.current&&P&&setTimeout(function(){if(le.current){var z=le.current.files;z.length||(Y({type:"closeDialog"}),J())}},300)};w.useEffect(function(){return window.addEventListener("focus",Z,!1),function(){window.removeEventListener("focus",Z,!1)}},[le,P,J,D]);var de=w.useRef([]),me=function(z){ee.current&&ee.current.contains(z.target)||(z.preventDefault(),de.current=[])};w.useEffect(function(){return K&&(document.addEventListener("dragover",am,!1),document.addEventListener("drop",me,!1)),function(){K&&(document.removeEventListener("dragover",am),document.removeEventListener("drop",me))}},[ee,K]),w.useEffect(function(){return!o&&U&&ee.current&&ee.current.focus(),function(){}},[ee,U,o]);var he=w.useCallback(function(A){V?V(A):console.error(A)},[V]),Pe=w.useCallback(function(A){A.preventDefault(),A.persist(),ge(A),de.current=[].concat(db(de.current),[A.target]),cl(A)&&Promise.resolve(s(A)).then(function(z){if(!(jl(A)&&!$)){var re=z.length,Ne=re>0&&Xw({files:z,accept:X,minSize:f,maxSize:c,multiple:m,maxFiles:h,validator:ue}),Oe=re>0&&!Ne;Y({isDragAccept:Ne,isDragReject:Oe,isDragActive:!0,type:"setDraggedFiles"}),x&&x(A)}}).catch(function(z){return he(z)})},[s,x,he,$,X,f,c,m,h,ue]),ve=w.useCallback(function(A){A.preventDefault(),A.persist(),ge(A);var z=cl(A);if(z&&A.dataTransfer)try{A.dataTransfer.dropEffect="copy"}catch{}return z&&y&&y(A),!1},[y,$]),fe=w.useCallback(function(A){A.preventDefault(),A.persist(),ge(A);var z=de.current.filter(function(Ne){return ee.current&&ee.current.contains(Ne)}),re=z.indexOf(A.target);re!==-1&&z.splice(re,1),de.current=z,!(z.length>0)&&(Y({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),cl(A)&&g&&g(A))},[ee,g,$]),Le=w.useCallback(function(A,z){var re=[],Ne=[];A.forEach(function(Oe){var nt=ch(Oe,X),Ke=Lc(nt,2),St=Ke[0],tn=Ke[1],$r=uh(Oe,f,c),Br=Lc($r,2),rn=Br[0],ur=Br[1],Or=ue?ue(Oe):null;if(St&&rn&&!Or)re.push(Oe);else{var wr=[tn,ur];Or&&(wr=wr.concat(Or)),Ne.push({file:Oe,errors:wr.filter(function(On){return On})})}}),(!m&&re.length>1||m&&h>=1&&re.length>h)&&(re.forEach(function(Oe){Ne.push({file:Oe,errors:[Jw]})}),re.splice(0)),Y({acceptedFiles:re,fileRejections:Ne,isDragReject:Ne.length>0,type:"setFiles"}),b&&b(re,Ne,z),Ne.length>0&&S&&S(Ne,z),re.length>0&&E&&E(re,z)},[Y,m,X,f,c,h,b,E,S,ue]),Ze=w.useCallback(function(A){A.preventDefault(),A.persist(),ge(A),de.current=[],cl(A)&&Promise.resolve(s(A)).then(function(z){jl(A)&&!$||Le(z,A)}).catch(function(z){return he(z)}),Y({type:"reset"})},[s,Le,he,$]),He=w.useCallback(function(){if(D.current){Y({type:"openDialog"}),W();var A={multiple:m,types:Ce};window.showOpenFilePicker(A).then(function(z){return s(z)}).then(function(z){Le(z,null),Y({type:"closeDialog"})}).catch(function(z){ib(z)?(J(z),Y({type:"closeDialog"})):ob(z)?(D.current=!1,le.current?(le.current.value=null,le.current.click()):he(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):he(z)});return}le.current&&(Y({type:"openDialog"}),W(),le.current.value=null,le.current.click())},[Y,W,J,C,Le,he,Ce,m]),$e=w.useCallback(function(A){!ee.current||!ee.current.isEqualNode(A.target)||(A.key===" "||A.key==="Enter"||A.keyCode===32||A.keyCode===13)&&(A.preventDefault(),He())},[ee,He]),vt=w.useCallback(function(){Y({type:"focus"})},[]),Mt=w.useCallback(function(){Y({type:"blur"})},[]),qt=w.useCallback(function(){te||(tb()?setTimeout(He,0):He())},[te,He]),wt=function(z){return o?null:z},Gt=function(z){return R?null:wt(z)},Lt=function(z){return q?null:wt(z)},ge=function(z){$&&z.stopPropagation()},Ie=w.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=A.refKey,re=z===void 0?"ref":z,Ne=A.role,Oe=A.onKeyDown,nt=A.onFocus,Ke=A.onBlur,St=A.onClick,tn=A.onDragEnter,$r=A.onDragOver,Br=A.onDragLeave,rn=A.onDrop,ur=kl(A,cb);return ht(ht(Xc({onKeyDown:Gt(Fr(Oe,$e)),onFocus:Gt(Fr(nt,vt)),onBlur:Gt(Fr(Ke,Mt)),onClick:wt(Fr(St,qt)),onDragEnter:Lt(Fr(tn,Pe)),onDragOver:Lt(Fr($r,ve)),onDragLeave:Lt(Fr(Br,fe)),onDrop:Lt(Fr(rn,Ze)),role:typeof Ne=="string"&&Ne!==""?Ne:"presentation"},re,ee),!o&&!R?{tabIndex:0}:{}),ur)}},[ee,$e,vt,Mt,qt,Pe,ve,fe,Ze,R,q,o]),De=w.useCallback(function(A){A.stopPropagation()},[]),I=w.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=A.refKey,re=z===void 0?"ref":z,Ne=A.onChange,Oe=A.onClick,nt=kl(A,ub),Ke=Xc({accept:X,multiple:m,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:wt(Fr(Ne,Ze)),onClick:wt(Fr(Oe,De)),tabIndex:-1},re,le);return ht(ht({},Ke),nt)}},[le,a,m,Ze,o]);return ht(ht({},H),{},{isFocused:ne&&!o,getRootProps:Ie,getInputProps:I,rootRef:ee,inputRef:le,open:wt(He)})}function yb(n,r){switch(r.type){case"focus":return ht(ht({},n),{},{isFocused:!0});case"blur":return ht(ht({},n),{},{isFocused:!1});case"openDialog":return ht(ht({},Zc),{},{isFileDialogActive:!0});case"closeDialog":return ht(ht({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return ht(ht({},n),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return ht(ht({},n),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections,isDragReject:r.isDragReject});case"reset":return ht({},Zc);default:return n}}function om(){}const At=[];for(let n=0;n<256;++n)At.push((n+256).toString(16).slice(1));function wb(n,r=0){return(At[n[r+0]]+At[n[r+1]]+At[n[r+2]]+At[n[r+3]]+"-"+At[n[r+4]]+At[n[r+5]]+"-"+At[n[r+6]]+At[n[r+7]]+"-"+At[n[r+8]]+At[n[r+9]]+"-"+At[n[r+10]]+At[n[r+11]]+At[n[r+12]]+At[n[r+13]]+At[n[r+14]]+At[n[r+15]]).toLowerCase()}let Uc;const bb=new Uint8Array(16);function _b(){if(!Uc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Uc=crypto.getRandomValues.bind(crypto)}return Uc(bb)}const Eb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lm={randomUUID:Eb};function Sl(n,r,a){if(lm.randomUUID&&!r&&!n)return lm.randomUUID();n=n||{};const o=n.random||(n.rng||_b)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,wb(o)}const jb="/trailmarket/assets/Upload.png",ul="/trailmarket/assets/placeholder.png",kb=()=>{const n=It(),{user:r,setIsLoading:a}=dt(),{userId:o}=km(),[s,c]=w.useState([]),[f,m]=w.useState(null),[h,x]=w.useState(null),g=[{value:"GCash",label:"GCash"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"PayMaya",label:"PayMaya"},{value:"Paypal",label:"Paypal"},{value:"Apple Pay",label:"Apple Pay"},{value:"Google Pay",label:"Google Pay"},{value:"UnionBank Online",label:"UnionBank Online"},{value:"BDO Online",label:"BDO Online"}],[y,b]=w.useState([]),[E,S]=w.useState([]),[j,k]=w.useState(!1),[C,U]=w.useState({totalFulfilled:0,totalInProgress:0,totalSales:0}),[K,te]=w.useState({method:"",account:""}),[R,q]=w.useState({name:(f==null?void 0:f.name)||"",age:(f==null?void 0:f.age)||"",contact_num:(f==null?void 0:f.contact_num)||"",email:(f==null?void 0:f.email)||"",facebook:(f==null?void 0:f.facebook)||"",image:(f==null?void 0:f.image)||ul}),[$,V]=w.useState({...R}),ue=D=>{if(D.preventDefault(),!K.method.trim()||!K.account.trim()){alert("Please fill in both fields.");return}const Z={id:"",method:K.method.trim(),account:K.account.trim(),status:"new"};S(de=>[...de,Z]),te({method:"",account:""})},X=()=>{k(!0),S([...y]),V({...R})},Ce=D=>{S(Z=>Z.map(de=>de.id===D?{...de,isEditing:!de.isEditing}:de))},W=(D,Z,de)=>{S(me=>me.map(he=>he.id===D?{...he,[Z]:de}:he))},J=D=>{S(Z=>Z.map(de=>de.id===D?{...de,isEditing:!1,status:"modified"}:de))},ee=D=>{S(Z=>Z.map(de=>de.id===D?{...de,status:"deleted"}:de))},le=async()=>{a(!0);const D="users";try{let Z=$.image;if(h){const ve=`${D}/${Sl()}-${h.name}`,{error:fe}=await ce.storage.from("trailmarket-images").upload(ve,h);if(fe){console.error("Error uploading image:",fe.message);return}Z=ce.storage.from("trailmarket-images").getPublicUrl(ve).data.publicUrl}const de=R.image;if(!f){console.error("Page owner is null");return}const{error:me}=await ce.from("DIM_USER").update({USER_NAME:$.name,USER_AGE:$.age,USER_CONTACTNUM:$.contact_num,USER_EMAIL:$.email,USER_FB:$.facebook,USER_IMAGE:Z}).eq("STUDENT_ID",f.id);if(me){console.error("Error updating user details:",me.message);return}if(de&&new URL(de).pathname.replace("/storage/v1/object/public/trailmarket-images/",""))try{const Le=new URL(de).pathname.replace("/storage/v1/object/public/trailmarket-images/","");if(console.log("Deleting old image:",de),Le){const{error:Ze}=await ce.storage.from("trailmarket-images").remove([Le]);if(Ze){console.error("Error deleting old image:",Ze.message);return}}}catch(fe){fe instanceof Error?console.error("Invalid URL:",de,fe.message):console.error("Invalid URL:",de);return}const he=E.filter(ve=>ve.status!=="deleted"),Pe=E.filter(ve=>ve.status==="deleted");for(const ve of he){const{data:fe,error:Le}=await ce.from("DIM_PAYMENTMETHOD").upsert({PAYMENTMETHOD_ID:ve.status==="new"?void 0:ve.id,PAYMENT_METHOD:ve.method,ACCOUNT_NUMBER:ve.account,USER_PAY_FK:f.id}).select();if(Le){console.error("Error updating payment method:",Le.message);return}ve.status==="new"&&fe&&fe.length>0&&(ve.id=fe[0].PAYMENTMETHOD_ID,ve.status="saved")}for(const ve of Pe){const{error:fe}=await ce.from("DIM_PAYMENTMETHOD").delete().eq("PAYMENTMETHOD_ID",ve.id);if(fe){console.error("Error deleting payment method:",fe.message);return}}}catch(Z){console.error("Error saving data:",Z)}k(!1),a(!1)},ke=()=>{V({...R}),S([...y]),k(!1)},Q=String(r==null?void 0:r.id)===String(o),H=w.useCallback(D=>{const Z=D[0];x(Z);const de=new FileReader;de.onload=()=>{V(me=>({...me,image:de.result}))},de.readAsDataURL(Z)},[]),{getRootProps:Y,getInputProps:ne}=Ml({onDrop:H,accept:{"image/*":[]},noClick:!j,noDrag:!j});w.useEffect(()=>{a(!0);const D=async()=>{const{data:he,error:Pe}=await ce.from("DIM_USER").select("*").eq("STUDENT_ID",o).single();if(Pe){console.error("Error fetching user details:",Pe.message);return}const ve={id:he.STUDENT_ID,name:he.USER_NAME,age:he.USER_AGE,contact_num:he.USER_CONTACTNUM,email:he.USER_EMAIL,facebook:he.USER_FB,image:he.USER_IMAGE??ul};m(ve),q(ve),V(ve)},Z=async()=>{if(!o){console.error("userId is undefined");return}const{data:he,error:Pe}=await ce.from("DIM_PRODUCT").select("*, DIM_CATEGORY(CATEGORY_NAME)").eq("SELLER_ID",o).order("PRODUCT_ID",{ascending:!1});if(Pe){console.error("Error fetching products:",Pe.message);return}console.log("Fetched products:",he);const ve=he.map(fe=>{var Le;return{id:fe.PRODUCT_ID,name:fe.PROD_NAME,price:fe.PROD_PRICE,condition:fe.PROD_CONDITION,category:fe.PROD_CATEGORY,stocks:fe.PROD_STOCKS,description:fe.PROD_DESC,sellerId:fe.SELLER_ID,categoryName:(Le=fe.DIM_CATEGORY)==null?void 0:Le.CATEGOTY_NAME,stock:fe.PROD_STOCKS,imageUrl:ul}});c(ve)},de=async()=>{if(!o){console.error("No userId provided");return}const{data:he,error:Pe}=await ce.from("DIM_PAYMENTMETHOD").select("*").eq("USER_PAY_FK",o);if(Pe){console.error("Error fetching payment methods:",Pe.message);return}console.log("Fetched payment methods:",he);const ve=he.map(fe=>({id:fe.PAYMENTMETHOD_ID,method:fe.PAYMENT_METHOD,account:fe.ACCOUNT_NUMBER,status:"saved"}));b(ve),S(ve)},me=async()=>{if(!o){console.error("No userId provided");return}try{const{data:he,error:Pe}=await ce.from("DIM_PRODUCT").select("PRODUCT_ID").eq("SELLER_ID",o);if(Pe){console.error("Error fetching products:",Pe.message);return}const ve=he.map(De=>De.PRODUCT_ID),{data:fe,error:Le}=await ce.from("DIM_ORDER").select("ORDER_ID, PRODUCT_FK, QUANTITY").in("PRODUCT_FK",ve);if(Le){console.error("Error fetching order items:",Le.message);return}const Ze=fe.map(De=>De.ORDER_ID),{data:He,error:$e}=await ce.from("DIM_PAYMENT").select("ORDER_FK").in("ORDER_FK",Ze).eq("PAYMENT_STATUS","Fulfilled");if($e){console.error("Error fetching fulfilled orders:",$e.message);return}const vt=He.map(De=>De.ORDER_FK),Mt=fe.filter(De=>vt.includes(De.ORDER_ID)),{data:qt,error:wt}=await ce.from("DIM_PRODUCT").select("PRODUCT_ID, PROD_PRICE");if(wt){console.error("Error fetching product prices:",wt.message);return}const Gt=qt.reduce((De,I)=>(De[I.PRODUCT_ID]=I.PROD_PRICE,De),{}),Lt=Mt.reduce((De,I)=>{const A=Gt[I.PRODUCT_FK]||0;return De+I.QUANTITY*A},0),{data:ge,error:Ie}=await ce.from("DIM_PAYMENT").select("ORDER_FK").in("ORDER_FK",Ze).eq("PAYMENT_STATUS","Pending");if(Ie){console.error("Error fetching in-progress orders:",Ie.message);return}U({totalFulfilled:He.length,totalInProgress:ge.length,totalSales:Lt})}catch(he){he instanceof Error?console.error("Error fetching transactions:",he.message):console.error("Error fetching transactions:",he)}};D(),Z(),de(),me(),a(!1)},[o]);async function P(){if(!f){console.error("Page owner is null");return}try{const{error:D}=await ce.from("DIM_USER").delete().eq("STUDENT_ID",f.id);if(D){console.error("Error deleting user:",D.message);return}const me=new URL(f.image).pathname.replace("/storage/v1/object/public/trailmarket-images/",""),{error:he}=await ce.storage.from("trailmarket-images").remove([me]);if(he){console.error("Error deleting image:",he.message);return}alert("User deleted successfully"),n("/login")}catch(D){console.error("Error deleting user:",D)}}return u.jsx("div",{className:"app-wrapper flex flex-col items-center justify-center min-h-screen overflow-y-auto px-5 pb-5",children:u.jsxs("div",{className:"seller-page flex flex-col flex-1 w-full rounded-xl overflow-hidden gap-5",children:[u.jsx("div",{className:"CartHeader bg-gradient-to-r from-[#282667] to-slate-900 p-4 rounded-2xl 2xl:mx-8 text-white text-center",children:u.jsx("p",{className:"text-xl sm:text-3xl text-white text-center font-semibold",children:"User Page"})}),u.jsxs("div",{className:"top-seller-page flex-col shadow-[0_0px_20px_rgba(0,0,0,0.2)]  flex flex-[5] xl:flex-row rounded-xl p-10 gap-5",children:[u.jsx("div",{className:"flex flex-1 rounded-tr-xl rounded-tl-xl flex-col",children:u.jsxs("div",{className:"bigcontain flex flex-col gap-5",children:[u.jsxs("div",{className:"flex flex-row border-b-2 border-gray-400 pb-10 h-full items-center justify-center md:justify-start",children:[u.jsx("div",{className:"rounded-full overflow-hidden border-2 border-black",children:u.jsxs("div",{...Y(),className:"",children:[u.jsx("input",{...ne()}),u.jsx("img",{className:"object-cover w-20 h-20",src:j?jb:$.image||ul,alt:"Profile"})]})}),u.jsxs("div",{className:"flex flex-col ml-4",children:[u.jsx("p",{className:"font-normal text-md lg:text-lg",children:"Seller Dashboard"}),u.jsx("h1",{className:"text-4xl",children:f==null?void 0:f.name})]})]}),u.jsxs("div",{className:"details mt-6 flex flex-col gap-5",children:[u.jsxs("form",{className:"flex flex-col gap-5 pb-5 mb-5 border-b-2 border-gray-400",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center sm:items-start gap-2",children:[u.jsx("label",{className:"w-1/6 font-normal text-sm lg:text-base",children:"Name"}),u.jsx("input",{id:"name",className:"flex-1 w-full font-medium text-sm lg:text-base border-2 border-black rounded-full p-2 pl-5 w-8/9",type:"text",value:$.name,readOnly:!Q||!j,onChange:D=>V(Z=>({...Z,name:D.target.value}))})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center sm:items-start gap-2",children:[u.jsx("label",{className:"w-1/6 font-normal text-sm lg:text-base",children:"Age"}),u.jsx("input",{id:"age",className:"flex-1 rounded-full p-2 pl-5 w-full font-medium text-sm lg:text-base border-2 border-black",type:"number",value:$.age??"",readOnly:!Q||!j,onChange:D=>V(Z=>({...Z,age:Number(D.target.value)}))})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center sm:items-start gap-2",children:[u.jsx("label",{className:"w-1/6 font-normal text-sm lg:text-base",children:"Contact No"}),u.jsx("input",{id:"contact",className:"flex-1 w-full font-medium text-sm lg:text-base border-2 border-black rounded-full p-2 pl-5",type:"text",value:$.contact_num??"",readOnly:!Q||!j,onChange:D=>V(Z=>({...Z,contact_num:Number(D.target.value)}))})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center sm:items-start gap-2",children:[u.jsx("label",{className:"w-1/6 font-normal text-sm lg:text-base",children:"Email Address"}),u.jsx("input",{id:"email",className:"flex-1 w-full font-medium text-sm lg:text-base border-2 border-black rounded-full p-2 pl-5",type:"email",value:$.email,readOnly:!Q||!j,onChange:D=>V(Z=>({...Z,email:D.target.value}))})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center sm:items-start gap-2",children:[u.jsx("label",{className:"w-1/6 font-normal text-sm lg:text-base",children:"Facebook"}),u.jsx("input",{id:"facebook",className:"flex-1 w-full font-medium text-sm lg:text-base border-2 border-black rounded-full p-2 pl-5",type:"text",value:$.facebook??"",readOnly:!Q||!j,onChange:D=>V(Z=>({...Z,facebook:D.target.value}))})]}),u.jsx("button",{type:"submit"})]}),u.jsxs("div",{className:"Payment-methods flex flex-col items-left",children:[u.jsx("div",{className:"flex w-full",children:u.jsx("label",{className:"font-normal text-sm lg:text-base pb-5 w-full",children:"Payment Options"})}),u.jsxs("div",{className:"flex flex-col space-y-4 flex-grow-0 w-full",children:[E.map(D=>D.status!=="deleted"&&u.jsxs("div",{className:"flex flex-row items-center",children:[u.jsx("select",{value:D.method,disabled:!D.isEditing,onChange:Z=>W(D.id,"method",Z.target.value),className:"p-2 pl-5 p-2 pl-5 flex-0 lg:flex-1 font-medium text-xs md:text-sm lg:text-base border-2 border-black border-r-0 rounded-l-full w-1/2",children:g.map(Z=>u.jsx("option",{value:Z.value,children:Z.label},Z.value))}),u.jsx("input",{type:"text",value:Q?D.account:"********"+D.account.slice(-4),readOnly:!D.isEditing,onChange:Z=>W(D.id,"account",Z.target.value),className:"p-2 pl-5 p-2 pl-5 flex-0 lg:flex-1 font-medium text-xs md:text-sm lg:text-base border-2 border-black rounded-r-full w-1/2"}),j&&(D.isEditing?u.jsx("button",{onClick:()=>J(D.id),className:"px-10 py-2 text-base border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 text-center flex justify-center items-center",children:"Save"}):u.jsx("button",{onClick:()=>Ce(D.id),className:"px-10 py-2 text-base border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 text-center flex justify-center items-center",children:"Edit"})),j&&u.jsx("button",{onClick:()=>ee(D.id),className:"px-10 py-2 text-base border-2 border-black text-black rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 text-center flex justify-center items-center",children:"Delete"})]},D.id)),Q&&j&&u.jsxs("form",{onSubmit:ue,children:[u.jsxs("div",{className:"flex flex-row py-5",children:[u.jsxs("select",{className:"flex-[1] flex rounded-l-full border-2 border-black border-r-0 p-2 pl-4 w-full bg-gray-100 font-medium",value:K.method,onChange:D=>te(Z=>({...Z,method:D.target.value})),children:[u.jsx("option",{value:"",disabled:!0,children:"Payment Method"}),g.map(D=>u.jsx("option",{value:D.value,className:"text-sm font-medium",children:D.label},D.value))]}),u.jsx("input",{type:"text",placeholder:"Account Number",className:"w-3/4 flex rounded-r-full border-2 border-black border-black p-1",value:K.account,onChange:D=>te(Z=>({...Z,account:D.target.value}))})]}),u.jsx("button",{type:"submit",className:"px-3 py-2 text-xs border-2 border-black bg-black text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-sm xl:mr-3 2xl:text-xl w-full",children:"Add Payment Method"})]})]})]}),Q&&(j?u.jsxs("div",{className:"flex flex-row",children:[u.jsx("button",{onClick:le,className:"px-3 py-2 text-xs border-2 border-black bg-black text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-sm xl:mr-3 2xl:text-xl w-full",children:"Save"}),u.jsx("button",{onClick:ke,className:"px-3 py-2 text-xs border-2 border-black bg-black text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-sm xl:mr-3 2xl:text-xl w-full",children:"Cancel"})]}):u.jsx("button",{onClick:X,className:"px-3 py-2 text-xs border-2 border-black bg-black text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-sm xl:mr-3 2xl:text-xl w-full",children:"Edit"})),Q&&u.jsx("button",{onClick:P,className:"px-3 py-2 text-xs border-2 border-black bg-red-700 text-white rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 hover:bg-white hover:text-black transition duration-300 font-normal xl:p-3 xl:px-6 xl:text-sm xl:mr-3 2xl:text-xl w-full",children:"Delete User"})]})]})}),u.jsxs("div",{className:"flex flex-1 bg-gradient-to-t from-[#26245f] to-[#18181b] rounded-xl flex-col pt-24 p-7 space-y-6",children:[u.jsx("h2",{className:"text-white font-normal text-xs",children:"Quick stat"}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-white text-3xl",children:["PHP ",C.totalSales]}),u.jsx("h2",{className:"text-white font-normal text-xs",children:"Total Sales"})]}),u.jsxs("div",{className:"flex flex-row space-x-9",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h1",{className:"text-white text-3xl",children:C.totalFulfilled}),u.jsx("h2",{className:"text-white font-normal text-xs",children:"Total Orders Fulfilled"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h1",{className:"text-white text-3xl",children:C.totalInProgress}),u.jsx("h2",{className:"text-white font-normal text-xs",children:"Total Orders in Progress"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h1",{className:"text-white text-3xl",children:s.length}),u.jsx("h2",{className:"text-white font-normal text-xs",children:"Products"})]})]})]})]}),u.jsx("div",{className:"bot-seller-page flex flex-[2]   flex-col rounded-xl",children:u.jsx("div",{className:"products-container flex flex-1 p-3 flex-col space-y-3 md:flex-row md:overflow-x-scroll",children:s.map(D=>u.jsx(hu,{...D},D.id))})}),u.jsx("div",{className:""})]})})},Sb=()=>u.jsxs("div",{className:"app-wrapper",children:[u.jsx("div",{className:"main-container px-3 ",children:u.jsx("div",{className:"AboutHeader bg-gradient-to-r from-[#282667] to-slate-900 p-4 sm:p-7 mx-4 rounded-2xl mb-5 2xl:mx-8",children:u.jsx("h1",{className:"AboutTitle text-2xl sm:text-4xl text-white text-center font-medium",children:"ABOUT US"})})}),u.jsx("div",{children:u.jsxs("div",{className:"body-container px-8 2xl:px-12",children:[u.jsxs("div",{className:" top-container flex flex-col bg-white shadow-xl rounded-xl lg:flex-row",children:[u.jsxs("div",{className:"about-container gap-1 flex flex-col p-5 md:px-8 md:pt-10 w-full md:pb-8 2xl:px-14",children:[u.jsx("p",{className:"font-normal text-sm md:text-base",children:"About Us"}),u.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-semibold",children:"A Unified Online Marketplace for Trailblazers"}),u.jsx("hr",{className:"my-4 border"}),u.jsx("p",{className:"text-sm font-normal lg:text-base",children:"Our marketplace is a platform where students can easily share their thoughts, goods, and services. It is a stable environment for Trailblazers and it helps you create a positive experience in the university. Connect, collaborate, and grow with the tools you need. Join us in redefining campus engagement!"})]}),u.jsx("div",{className:"img-container w-full mt-1 sm:px-5 sm:pb-5 md:px-8 lg:p-0",children:u.jsx("img",{src:"https://vcebzlxdqipnbipntjkr.supabase.co/storage/v1/object/public/trailmarket-images/display/ustp.jpg?t=2024-12-12T15%3A52%3A17.649Z",alt:"TrailMarket",className:"size-full object-cover rounded-xl shadow-md w-full lg:rounded-l-none"})})]}),u.jsxs("div",{className:"bottom-container flex flex-col my-5 bg-white rounded-xl shadow-xl p-5 gap-5  md:flex-row items-center lg:px-10 2xl:px-14",children:[u.jsx("div",{className:"addtl-text text-center font-semibold text-xl md:w-[30rem] 2xl:w-[50rem] md:text-left",children:u.jsx("h1",{className:"text-xl md:text-3xl 2xl:text-4xl",children:"For Additional Information, Feel Free to Contact Us"})}),u.jsx("hr",{className:"border md:border-2 w-full md:w-0 md:h-56"}),u.jsxs("div",{className:"links-container flex flex-col gap-2 w-full p-0 md:p-10 xl:p-16 xl:px-36",children:[u.jsx("p",{className:"text-center font-normal text-sm mb-2 md:text-base md:text-left md:ml-2 2xl:text-lg",children:"Contact Links"}),u.jsxs("div",{className:"links-container-1 flex justify-center gap-2 xl:gap-4",children:[u.jsxs("button",{className:"border-2 shadow-md border-black p-1 px-5 rounded-full w-full flex justify-center items-center gap-2",onClick:()=>{window.location.href="https://www.facebook.com/hansdmGOAT"},children:[u.jsx("img",{src:"public\\assets\\fb.svg",className:"w-7 sm:my-1 xl:w-8 text-red"}),u.jsx("p",{className:"hidden sm:flex text-center text-sm xl:text-lg",children:"Facebook"})]}),u.jsxs("button",{className:"border-2 shadow-md border-black p-1 px-5 rounded-full w-full flex justify-center items-center gap-2",onClick:()=>{window.location.href="https://github.com/potakaaa/trailmarket"},children:[u.jsx("img",{src:"public\\assets\\github.svg",className:"w-7 sm:my-1 xl:w-8"}),u.jsx("p",{className:"hidden sm:flex text-center text-sm xl:text-lg",children:"Github"})]})]}),u.jsxs("div",{className:"links-container-2 flex justify-center gap-2 xl:gap-4",children:[u.jsxs("button",{className:"border-2 shadow-md border-black p-1 px-5 rounded-full w-full flex justify-center items-center gap-2",children:[u.jsx("img",{src:"public\\assets\\twitter.svg",className:"w-7 sm:my-1 xl:w-8"}),u.jsx("p",{className:"hidden sm:flex text-center text-sm xl:text-lg",children:"Twitter"})]}),u.jsxs("button",{className:"border-2 shadow-md border-black p-1 px-5 rounded-full w-full flex justify-center items-center gap-2",children:[u.jsx("img",{src:"public\\assets\\email.svg",className:"w-7 sm:my-1 xl:w-8"}),u.jsx("p",{className:"hidden sm:flex text-center text-sm xl:text-lg",children:"Email"})]})]})]})]})]})})]}),Cb=()=>{const{isLoggedIn:n}=dt();return n?u.jsx(Cm,{}):u.jsx(Sm,{to:"/login"})},hl=({options:n,onSelect:r,buttonStyle:a,optionStyle:o,selected:s})=>{const[c,f]=w.useState(!1),m=()=>{f(!c)},h=x=>{r(x),f(!1)};return u.jsxs("div",{className:"relative",children:[u.jsxs("button",{className:a,onClick:m,children:[s||"Select a category"," "]}),c&&u.jsx("div",{className:o,children:n.map((x,g)=>u.jsx("a",{onClick:()=>h(x),className:"block px-4 py-2 hover:bg-gray-100 cursor-pointer font-medium text-sm",children:x},g))})]})},hh=()=>{const{setIsFetched:n}=dt(),[r,a]=w.useState([]),[o,s]=w.useState([]),{selectedCategory:c,setSelectedCategory:f}=dt(),[m,h]=w.useState("latest"),[x,g]=w.useState("none"),y=cr.map(C=>C.CategoryName),{searchState:b}=dt();if(!b)return null;const E=C=>{C==="High to Low"?j("high"):C==="Low to High"?j("low"):C==="Latest to Oldest"?S("latest"):C==="Oldest to Latest"&&S("oldest")},S=C=>{h(U=>U===C?"none":C),g("none")},j=C=>{g(U=>U===C?"none":C),h("none")};w.useEffect(()=>{(async()=>{await Ha();const U=await Xm();U&&a(U),n(!0)})()},[n]),w.useEffect(()=>{let C=[...r];b&&(C=C.filter(U=>U.name.toLowerCase().includes(b.toLowerCase()))),c&&c!==cr[0].CategoryName&&(C=C.filter(U=>U.category===c)),C.sort((U,K)=>m==="latest"?K.id-U.id:m==="oldest"?U.id-K.id:x==="high"?K.price-U.price:x==="low"?U.price-K.price:0),s(C)},[b,c,r,m,x]);async function k(C){f(C)}return u.jsx("div",{className:"flex flex-col",children:u.jsx("div",{className:"app-wrapper flex flex-col items-center justify-start min-h-screen w-full overflow-y-visible px-3",children:u.jsxs("div",{className:"search-wrapper flex flex-col h-full w-full space-y-6 md:space-y-0 md:flex-row space-x-2 p-4",children:[u.jsxs("div",{className:"filter-sort flex flex-[1] bg-gray-50 h-full drop-shadow-xl rounded-xl p-4 z-10 justify-center",children:[u.jsxs("div",{className:"hidden Normal-filter-sort md:flex flex-col space-y-4 w-full h-full",children:[u.jsx("h1",{children:"Filter or Sort"}),u.jsxs("div",{children:[u.jsx("h1",{children:"By Tags"}),u.jsx("div",{className:"space-y-2 lg:space-x-1",children:y.map(C=>u.jsx("button",{className:`px-6 py-1  border-2 border-black rounded-3xl ${c===C?"bg-black text-white":"bg-white"}`,onClick:()=>k(C),children:C}))})]}),u.jsxs("div",{children:[u.jsx("h1",{children:"By Price"}),u.jsxs("div",{className:"space-y-2 lg:space-x-1",children:[u.jsx("button",{onClick:()=>j("high"),className:`px-6 py-1  border-2 border-black rounded-3xl ${x==="high"?"bg-black text-white":"bg-white"}`,children:"High To Low"}),u.jsx("button",{onClick:()=>j("low"),className:`px-6 py-1  border-2 border-black rounded-3xl ${x==="low"?"bg-black text-white":"bg-white"}`,children:"Low To High"})]})]}),u.jsxs("div",{children:[u.jsx("h1",{children:"By Date"}),u.jsxs("div",{className:"space-y-2 lg:space-x-1",children:[u.jsx("button",{onClick:()=>S("latest"),className:`px-6 py-1  border-2 border-black rounded-3xl ${m==="latest"?"bg-black text-white":"bg-white"}`,children:"Latest to Oldest"}),u.jsx("button",{onClick:()=>S("oldest"),className:`px-6 py-1  border-2 border-black rounded-3xl ${m==="oldest"?"bg-black text-white":"bg-white"}`,children:"Oldest to Latest"})]})]})]}),u.jsxs("div",{className:"flex flex-row justify-evenly",children:[u.jsx("div",{className:"p-4",children:u.jsx(hl,{buttonStyle:"md:hidden px-6 py-1 bg-white border-2 border-black rounded-xl",optionStyle:"absolute left-0 mt-2 w-48 bg-white shadow-lg rounded z-50",onSelect:k,options:y})}),u.jsx("div",{className:"p-4",children:u.jsx(hl,{buttonStyle:"md:hidden px-6 py-1 bg-white border-2 border-black rounded-xl",optionStyle:"absolute left-0 mt-2 w-48 bg-white shadow-lg rounded z-50",onSelect:E,options:["Price","High to Low","Low to High"],selected:"Price"})}),u.jsx("div",{className:"p-4",children:u.jsx(hl,{buttonStyle:"md:hidden px-6 py-1 bg-white border-2 border-black rounded-xl",optionStyle:"absolute left-0 mt-2 w-48 bg-white shadow-lg rounded z-50",onSelect:E,options:["Date","Latest to Oldest","Oldest to Latest"],selected:"Date"})})]})]}),u.jsxs("div",{className:"search-results flex flex-[3] bg-gray-50 drop-shadow-xl rounded-xl p-2 flex-col space-y-3",children:[u.jsxs("h1",{children:["Search Results for ",b]}),u.jsx("div",{className:" result-container w-full flex items-center justify-center md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-2",children:o.map((C,U)=>u.jsx(hu,{id:C.id,name:C.name,price:C.price,stock:C.stock,imageUrl:C.imageUrl,sellerId:C.sellerId},U))})]})]})})})},gl="https://via.placeholder.com/150",Pb=Array(4).fill(gl),eu=async(n,r,a)=>{const s=await(await fetch(n)).blob();return new File([s],r,{type:a})};console.log(eu);const sm=()=>{var ke;const r=((ke=er().state)==null?void 0:ke.product)||null,a=!!r,[o,s]=w.useState({name:"",description:"",short_desc:"",price:"",stock:"",category:0,condition:""}),[c,f]=w.useState([]),[m,h]=w.useState(null),[x,g]=w.useState([]),[y,b]=w.useState(null),[E,S]=w.useState(!0),{user:j,setIsLoading:k}=dt(),C=It(),[U,K]=w.useState([]);w.useEffect(()=>{(async()=>{const H=await Ha();H?K(H):console.error("Failed to fetch categories.")})()},[]),w.useEffect(()=>{var Q;if(a&&r&&U.length>0){console.log("Existing Product Category:",r.CATEGORY),console.log("Fetched Categories:",U);const H=U.find(Y=>{var ne;return Y.CategoryName.toLowerCase().trim()===((ne=r.CATEGORY)==null?void 0:ne.CATEGORY_NAME.toLowerCase().trim())});H?(console.log("Matching Category Found:",H),b(H),s(Y=>({...Y,category:H.CategoryID}))):console.warn(`No matching category for "${(Q=r.CATEGORY)==null?void 0:Q.CATEGORY_NAME}"`)}},[a,r,U]),w.useEffect(()=>{if(a&&r){s(H=>({...H,name:r.PROD_NAME||"",description:r.PROD_DESC||"",short_desc:r.PROD_SHORTDESC||"",price:r.PROD_PRICE||"",stock:r.PROD_STOCKS||"",condition:r.PROD_CONDITION||""}));const Q=cr.find(H=>{var Y;return H.CategoryName===((Y=r.CATEGORY)==null?void 0:Y.CATEGORY_NAME)});Q&&s(H=>({...H,category:Q.CategoryID})),console.log("Existing Product:",r),console.log("Category Array:",cr),console.log("Existing Product Category:",r.CATEGORY)}},[a,r]),w.useEffect(()=>{const Q=async()=>{const H=await eu(r.mainImage,"main.jpg","image/jpeg"),Y=await Promise.all(r.galleryImages.map((ne,P)=>eu(ne,`gallery-${P}.jpg`,"image/jpeg")));h(H),g(Y||[]),f([H,...Y]),console.log("Main Image:",m),console.log("Gallery Images:",x),console.log("Images:",c)};Ha(),Q()},[r]),w.useEffect(()=>{k(!0),Ha(),k(!1)},[]),w.useEffect(()=>{!m&&c.length===0&&(async()=>{const Y=await(await fetch(gl)).blob(),ne=new File([Y],"placeholder.jpg",{type:"image/jpeg"});h(ne),S(!0)})()},[m,c]);const te=Q=>{const{id:H,value:Y}=Q.target;s(ne=>({...ne,[H]:Y}))},R=Q=>{if(c.length+Q.length>5){alert("You can only upload up to 5 images.");return}const H=["image/jpeg","image/png","image/gif"],Y=10*1024*1024;if(Q.filter(P=>!H.includes(P.type)||P.size>Y).length>0){alert("Invalid file type or size. Only JPEG, PNG, and GIF files under 10 MB are allowed.");return}f(P=>{const D=[...P,...Q];return E&&(h(Q[0]),S(!1)),D})},{getRootProps:q,getInputProps:$}=Ml({onDrop:R,accept:{"image/*":[]},disabled:c.length>=5}),V=Q=>{const H=cr.find(Y=>Y.CategoryName===Q);H?(b(H),s(Y=>({...Y,category:H.CategoryID}))):console.warn(`Category "${Q}" not found.`)},ue=Q=>{h(Q),S(!1)};w.useEffect(()=>{g(c.filter(Q=>Q!==m))},[c,m]);const X=Q=>{g(H=>H.filter(Y=>Y!==Q)),f(H=>H.filter(Y=>Y!==Q))},Ce=async Q=>{const H=[],Y="products";for(const ne of Q){const P=`${Y}/${Sl()}-${ne.name}`,{error:D}=await ce.storage.from("trailmarket-images").upload(P,ne);if(D){console.error("Error uploading image:",D.message),alert("Error uploading image:"+D.message);continue}const{publicUrl:Z}=ce.storage.from("trailmarket-images").getPublicUrl(P).data;H.push(Z)}return H},W=async()=>{if(console.log("Editing product with data:",o),k(!0),!o.name||!m||c.length===0){alert("Please ensure all required fields are filled and an image is provided.");return}try{const Q=r==null?void 0:r.PRODUCT_ID;if(!Q){console.error("Product ID is required for editing.");return}const H=c.filter(He=>He instanceof File),Y=c.filter(He=>typeof He=="string"),ne=H.length?await Ce(H):[],P=[...Y,...ne],D=typeof m=="string"?m:ne[0],{error:Z}=await ce.from("DIM_PRODUCT").update({PROD_NAME:o.name,PROD_DESC:o.description,PROD_SHORTDESC:o.short_desc,PROD_PRICE:o.price,PROD_STOCKS:o.stock,PROD_CATEGORY:o.category,PROD_CONDITION:o.condition}).eq("PRODUCT_ID",Q);if(Z){console.error("Error updating product:",Z.message);return}const{data:de,error:me}=await ce.from("DIM_PRODUCTIMAGES").select("PRODUCT_IMAGE").eq("PRODUCT_PICTURED_FK",Q);if(me){console.error("Error fetching existing images:",me.message),k(!1),alert("Error fetching existing images:"+me.message),C("/home");return}const Pe=de.map(He=>He.PRODUCT_IMAGE).filter(He=>!P.includes(He));for(const He of Pe){const $e=new URL(He).pathname.replace("/storage/v1/object/public/trailmarket-images/","");if(console.log("File Path:",$e),!$e){console.error("Invalid file path:",He);continue}const{error:vt}=await ce.storage.from("trailmarket-images").remove([$e]);if(vt){console.error("Error deleting image:",vt.message),k(!1),alert("Error deleting image:"+vt.message),C("/home");continue}const{error:Mt}=await ce.from("DIM_PRODUCTIMAGES").delete().eq("PRODUCT_IMAGE",He);if(Mt){console.error("Error removing image record:",Mt.message);continue}}const{error:ve}=await ce.from("DIM_PRODUCTIMAGES").delete().eq("PRODUCT_PICTURED_FK",Q);if(ve){console.error("Error clearing old images:",ve.message);return}const fe={PRODUCT_PICTURED_FK:Q,PRODUCT_IMAGE:D,isMainImage:!0},Le=P.filter(He=>He!==D).map(He=>({PRODUCT_PICTURED_FK:Q,PRODUCT_IMAGE:He,isMainImage:!1})),{error:Ze}=await ce.from("DIM_PRODUCTIMAGES").insert([fe,...Le]);if(Ze){console.error("Error inserting updated images:",Ze.message);return}C("/home")}catch(Q){console.error("Error handling product edit:",Q)}},J=async()=>{a?await W():await ee()},ee=async()=>{var he;if(console.log("Submitting form with data:",o),!o.name){alert("Please enter a product name.");return}if(o.category===0){alert("Please select a category.");return}if(o.price===""||Number(o.price)<=0){alert("Please enter a valid price.");return}if(o.stock===""||Number(o.stock)<=0){alert("Please enter a valid stock quantity.");return}if(!o.condition){alert("Please enter a product condition.");return}if(c.length===0&&alert("You must have at least one image!"),!m){alert("Main image is missing.");return}const Q=await Ce([m]),H=c.filter(Pe=>Pe!==m);let Y=[];H.length>0&&(Y=await Ce(H));const{data:ne,error:P}=await ce.from("DIM_PRODUCT").insert([{PROD_NAME:o.name,PROD_DESC:o.description,PROD_SHORTDESC:o.short_desc,PROD_PRICE:o.price,PROD_STOCKS:o.stock,PROD_CATEGORY:o.category,PROD_CONDITION:o.condition,SELLER_ID:j==null?void 0:j.id}]).select();if(P){console.error("Error inserting product:",P.message);return}const D=(he=ne[0])==null?void 0:he.PRODUCT_ID;if(!D){console.error("Product ID is null or undefined.");return}const Z={PRODUCT_PICTURED_FK:D,PRODUCT_IMAGE:Q[0],isMainImage:!0},de=Y.map(Pe=>({PRODUCT_PICTURED_FK:D,PRODUCT_IMAGE:Pe,isMainImage:!1})),{error:me}=await ce.from("DIM_PRODUCTIMAGES").insert([Z,...de]);if(me){console.error("Error inserting images:",me.message);return}C("/home")},le=cr.map(Q=>Q.CategoryName);return u.jsx("div",{className:"app-wrapper bg-white flex flex-col items-center justify-center min-h-screen overflow-y-auto",children:u.jsxs("div",{className:"post-page p-6 flex flex-col flex-1 h-full w-full rounded-xl",children:[u.jsx("div",{className:"justify-center align-center flex bg-gradient-to-r from-[#26245f] to-[#18181b] text-white rounded-xl p-4",children:u.jsx("h1",{className:"text-xl",children:a?"Edit Product":"Post a Product"})}),u.jsxs("div",{className:"main-app flex w-full flex-col justify-center space-y-2 lg:flex-row space-x-2",children:[u.jsxs("div",{className:"left flex w-full h-full flex-col space-y-4 md:flex-[3] lg:flex-[4] xl:flex-[5.5]",children:[u.jsxs("div",{className:"gen-info flex h-full w-full p-9 px-5 rounded-xl shadow-xl flex-col bg-gray-50 space-y-4",children:[u.jsx("h1",{className:"text-xl xl:text-2xl",children:"General Information"}),u.jsxs("form",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{htmlFor:"name",className:"text-base font-medium xl:text-lg",children:"Name of Product"}),u.jsx("input",{id:"name",className:"flex-1 rounded-xl border-2 border-black p-4 placeholder-gray-500 font-medium text-sm xl:text-base",type:"text",value:o.name,placeholder:"Make the product name stand out!",onChange:te})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{htmlFor:"description",className:"text-base font-medium xl:text-lg",children:"Full Description"}),u.jsx("textarea",{id:"description",value:o.description,className:"flex-1 rounded-xl border-2 border-black p-4 placeholder-gray-500 min-h-56 max-h-96 resize-y text-wrap font-medium text-sm xl:text-base",placeholder:"Enter the full description",onChange:te})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{htmlFor:"short_desc",className:"text-base font-medium xl:text-lg",children:"Short Description"}),u.jsx("input",{id:"short_desc",className:"flex-1 rounded-xl border-2 border-black p-4 placeholder-gray-500 font-medium text-sm xl:text-base",type:"text",value:o.short_desc,placeholder:"Be concise, but poignant",onChange:te})]})]})]}),u.jsxs("div",{className:"pricing-stock flex h-full w-full p-9 px-5 rounded-xl shadow-xl flex-col bg-gray-50 space-y-4",children:[u.jsx("h1",{className:"text-xl xl:text-2xl",children:"Details"}),u.jsxs("form",{className:"flex flex-row space-x-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-base font-medium xl:text-lg",children:"Base Pricing"}),u.jsx("input",{id:"price",className:"flex-1 rounded-xl border-2 border-black p-4 placeholder-gray-500 w-full font-medium text-sm xl:text-base ",type:"number",value:o.price,placeholder:"Input a number",onChange:te})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-base font-medium xl:text-lg",children:"Stock"}),u.jsx("input",{id:"stock",className:"flex-1 rounded-xl border-2 border-black p-4 placeholder-gray-500  w-full font-medium text-sm xl:text-base",type:"number",value:o.stock,placeholder:"Input a number",onChange:te})]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h1",{className:"text-base font-medium xl:text-lg",children:"Category"}),u.jsx("div",{className:" category-container flex flex-col space gap-x-2 space-y-3 md:flex-row justify-start items-start",children:u.jsx("div",{className:" flex-col md:flex-row flex space-y-2 md:space-x-2",children:u.jsx(hl,{buttonStyle:"px-6 py-1 bg-white border-2 border-black rounded-xl h-full font-medium text-sm xl:text-base xl:py-2 xl:px-10",optionStyle:"absolute mb-1 left-0 mt-2 w-48 bg-white shadow-lg rounded z-50 font-medium text-sm xl:text-base",onSelect:V,options:le,selected:y==null?void 0:y.CategoryName})})})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h1",{className:"text-base font-medium xl:text-lg",children:"Condition"}),u.jsx("div",{className:" category-container flex flex-col space gap-x-2 space-y-3 md:flex-row justify-start items-start",children:u.jsx("div",{className:" flex-col md:flex-row flex space-y-2 md:space-x-2",children:u.jsx("form",{className:"flex flex-row space-x-2 mt-0 justify-center items-center h-full",children:u.jsx("div",{className:"flex flex-col items-center",children:u.jsx("input",{id:"condition",className:"flex-1 rounded-xl border-2 border-black p-4 placeholder-gray-500 font-medium text-sm xl:text-base w-full",type:"text",value:o.condition,placeholder:"Set Condition",onChange:te})})})})})]})]})]}),u.jsxs("div",{className:"right space-y-4 h-full w-full flex flex-col md:flex-[2]",children:[u.jsxs("div",{className:"flex h-full w-full p-9 px-5 rounded-xl shadow-xl flex-col bg-gray-50 space-y-4",children:[u.jsxs("div",{...q({className:"product-display flex-[3] flex flex-col rounded-2xl 2xl:flex-[3] xl:m-4"}),children:[u.jsx("input",{...$()}),c.length===0?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg shadow-md sm:m-4 md:m-2",children:u.jsx("img",{className:"h-full w- object-cover rounded-lg",src:gl,alt:"Product"})}),u.jsx("div",{className:"gallery grid grid-cols-4 md:grid-cols-4 xl:grid-cols-4 gap-4 p-2 w-full sm:px-5 md:p-2",children:Pb.map((Q,H)=>u.jsx("div",{className:"bg-gray-100 rounded-lg border aspect-square shadow-sm",children:u.jsx("img",{className:"h-full w-full object-cover rounded-lg",src:Q,alt:"Product"})},H))})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg shadow-md sm:m-4 md:m-2",children:u.jsx("img",{className:"h-full w-full object-cover rounded-lg aspect-square",src:m?URL.createObjectURL(m):gl,alt:"Product"})}),u.jsx("div",{className:"gallery grid grid-cols-4 md:grid-cols-4 xl:grid-cols-4 gap-4 p-2 w-full sm:px-5 md:p-2",children:x.map((Q,H)=>u.jsxs("div",{className:"bg-gray-100 rounded-lg border aspect-square shadow-sm",onClick:Y=>{Y.stopPropagation,ue(Q)},children:[u.jsx("img",{className:"h-full w-full object-cover rounded-lg",src:URL.createObjectURL(Q),alt:"Product"}),u.jsx("button",{onClick:Y=>{Y.stopPropagation(),X(Q)},className:"remove-button",children:"Remove"})]},H))})]})]}),u.jsx("div",{className:"prompt",children:c.length<5?u.jsx("p",{className:"text-base font-medium text-center xl:text-lg",children:"Drag and Drop your product images!"}):u.jsx("p",{className:"text-base font-medium text-center",children:"Maximum of 5 images only!"})})]}),u.jsx("div",{className:"disclaimer flex h-full w-full p-9 px-5 rounded-xl shadow-xl flex-col bg-gray-50 space-y-4",children:u.jsx("p",{className:"text-sm font-normal text-center",children:"By posting a product, you confirm ownership and the right to sell it. You agree to provide accurate descriptions and ensure the product complies with all laws. The platform may remove listings that violate these terms."})}),u.jsx("button",{onClick:J,className:"bg-gradient-to-r from-[#26245f] to-[#18181b] text-white font-normal rounded-full w-full h-10 mt-3 self-end shadow-md lg:text-lg lg:h-16 lg:w-72 lg:self-center",children:a?"Edit Product":"Post Product"})]})]})]})})},xu=()=>{const n=It(),r=er();return u.jsx("div",{className:"NavBar mb-3 flex flex-col xl:flex-row 2xl:flex-row justify-center items-center  lg:px-5 2xl:px-10 w-full",children:u.jsx("button",{className:"NavBarLeft",onClick:()=>{r.pathname==="admin"?n("/admin"):n("/moderator")},children:u.jsx("h1",{className:"NavBarTitle text-transparent bg-gradient-to-r from-[#282667] to-slate-900 bg-clip-text flex flex-col align-center justify-center md:row-span-2 sm:col-span-3 sm:text-center text-center mb-2 text-2xl sm:text-3xl md:text-4xl md:my-2 lg:my-3 xl:pl-[20px]",children:"TrailMarket Admin"})})})},dl=["Not Started","In Progress","Done"],Nb=()=>{const[n,r]=w.useState(!1),[a,o]=w.useState(!1),[s,c]=w.useState(!1),[f,m]=w.useState(!1),[h,x]=w.useState(null),{setIsLoggedIn:g}=dt();g(!1);const[y,b]=w.useState({name:"",email:"",age:0,contact_num:0,role:"",emergency_name:"",emergency_contact:0,sss:0,philhealth:0,pagibig:0,tin:0}),[E,S]=w.useState(!1),[j,k]=w.useState({name:"",description:"",imageFile:null}),C=()=>{k({name:"",description:"",imageFile:null})},U=()=>{C(),r(!1)},{issues:K,setIssues:te,empList:R,emp:q,setEmpList:$,setIsLoading:V,taxes:ue,setTaxes:X}=dt();w.useEffect(()=>{W(),ee(),le()},[te,$,V,o,X]);const Ce=I=>{const A=I[0];k(z=>({...z,imageFile:A}))},W=async()=>{const{data:I,error:A}=await ce.from("FACT_ISSUE_TRACKER").select(`
       ISSUE_ID,
       ASSIGNED_EMP,
       ISSUE_STAT,
       FEEDBACK_FK,
        DIM_FEEDBACK (
          FEEDBACK_USER,
          FEEDBACK_CAT,
          FEEDBACK_TITLE,
          FEEDBACK_DESC
        )
      `);if(console.log(),A&&console.error("Error fetching data:",A.message),I){const z=I.map((re,Ne)=>{var Ke;const Oe=I==null?void 0:I[Ne],nt=(Ke=I==null?void 0:I[Ne])==null?void 0:Ke.DIM_FEEDBACK;return{id:Oe==null?void 0:Oe.ISSUE_ID,title:nt==null?void 0:nt.FEEDBACK_TITLE,desc:nt==null?void 0:nt.FEEDBACK_DESC,category:nt==null?void 0:nt.FEEDBACK_CAT,status:Oe==null?void 0:Oe.ISSUE_STAT,user:nt==null?void 0:nt.FEEDBACK_USER,assigned:Oe==null?void 0:Oe.ASSIGNED_EMP}});te(z),console.log(K)}},J=async I=>{const{data:A,error:z}=await ce.from("FACT_ISSUE_TRACKER").delete().eq("ISSUE_ID",I);A&&console.log("Deleted issue:",A),z&&(alert("Error deleting issue: "+z.message),console.log("Error deleting issue:",z.message)),alert("Issue deleted successfully!"),W()},ee=async()=>{const{data:I,error:A}=await ce.from("DIM_EMPLOYEE").select("*");if(A&&console.error("Error fetching data:",A.message),I){const z=I.map(re=>({id:re.EMP_ID,name:re.EMP_NAME,age:re.EMP_AGE,contact_num:re.EMP_CONTACTNUM,housenum:re.EMP_HOUSENUM,street:re.EMP_STREET,city:re.EMP_CITY,email:re.EMP_EMAIL,pass:null,role:re.EMP_ROLE,sss:re.EMP_SSS,philhealth:re.EMP_PHILHEALTH,pagibig:re.EMP_PAGIBIG,tin:re.EMP_TIN,emergency_contact:re.EMP_EMERGENCY_CONTACT_NUM,emergency_name:re.EMERGENCY_NAME}));$(z),console.log(R)}},le=async()=>{try{const{data:I}=await ce.from("DIM_TAX").select("*");if(I){const A=I.map(z=>({id:z.TAX_ID,low:z.TAX_BRACKET_LOW,high:z.TAX_BRACKET_HIGH,amount:z.TAX_AMOUNT}));X(A),console.log(ue)}}catch(I){console.error("Error fetching data:",I)}},[ke,Q]=w.useState({name:"",email:"",password:"",age:"",number:"",city:"",role:"",emergency_contact_name:"",emergency_contact_num:"",sss:"",philhealth:"",pagibig:"",tin:""}),H=w.useCallback(I=>{const A=I[0];x(A),Ce(j.imageFile?[A]:I);const z=new FileReader;z.onload=()=>{b(re=>({...re,image:z.result}))},z.readAsDataURL(A)},[]),{getRootProps:Y,getInputProps:ne}=Ml({onDrop:H,accept:{"image/*":[]}}),P=I=>{const{name:A,value:z}=I.target;Q(re=>({...re,[A]:z})),console.log(`Updated ${A}:`,z)},D=async I=>{if(console.log(I),I.name===""||I.email===""||I.password===""||I.age===""||I.number===""||I.city===""||I.role===""||I.emergency_contact_name===""||I.emergency_contact_num===""){alert("Please fill in all fields.");return}try{const{data:A,error:z}=await ce.from("DIM_EMPLOYEE").select("EMP_EMAIL").eq("EMP_EMAIL",I.email);if(z){console.error("Error checking email:",z.message),alert("An error occurred while checking email.");return}if(A&&A.length>0){alert("Email already exists. Please use a different email.");return}V(!0);const{error:re}=await ce.from("DIM_EMPLOYEE").insert({EMP_NAME:I.name,EMP_EMAIL:I.email,EMP_PASS:I.password,EMP_AGE:I.age,EMP_CONTACTNUM:I.number,EMP_CITY:I.city,EMP_ROLE:I.role,EMP_EMERGENCY_NAME:I.emergency_contact_name,EMP_EMERGENCY_CONTACTNUM:I.emergency_contact_num});re?console.error("Error inserting data:",re.message):(alert("Admin added successfully!"),V(!1),o(!1))}catch(A){console.error("Error inserting data:",A)}finally{V(!1)}},Z=async I=>{if(ue[I].low>ue[I].high){alert("Low bound cannot be greater than high bound.");return}if(ue[I].high<ue[I].low){alert("Low bound cannot be greater than high bound.");return}if(ue[I].amount<0||ue[I].amount>100){alert("Tax percentage must be between 0 and 100.");return}try{V(!0);const{error:A}=await ce.from("DIM_TAX").update({TAX_BRACKET_LOW:ue[I].low,TAX_BRACKET_HIGH:ue[I].high,TAX_AMOUNT:ue[I].amount}).eq("TAX_ID",ue[I].id);if(A)console.error("Error inserting data:",A.message);else{alert(`Tax ${ue[I].id} updated successfully!`),V(!1),c(!1);return}}catch(A){console.error("Error updating data:",A)}finally{V(!1)}},de=()=>ue.sort((I,A)=>I.id-A.id).map((I,A)=>u.jsxs("div",{className:"flex flex-col my-4 sm:my-3 w-full justify-center items-center px-2",children:[u.jsxs("p",{className:"text-center lg:text-lg",children:["Tax ",A+1]}),u.jsxs("div",{className:"flex-none sm:flex sm:gap-3",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[u.jsx("p",{className:"text-sm font-medium px-2 text-center lg:text-base",children:"Low Bound"}),u.jsx("input",{className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 text-center lg:text-base lg:py-5 xl:border-[3px]",name:"low",value:I.low,onChange:z=>{z.target.value===""&&(z.target.value="0");const re=[...ue];re[A].low=parseInt(z.target.value),X(re),console.log(I.low)}})]}),u.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[u.jsx("p",{className:"text-sm font-medium px-2 text-center lg:text-base",children:"High Bound"}),u.jsx("input",{className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 text-center lg:text-base lg:py-5 xl:border-[3px]",name:"high",value:I.high,onChange:z=>{z.target.value===""&&(z.target.value="0");const re=[...ue];re[A].high=parseInt(z.target.value),X(re),console.log(I.high)}})]})]}),u.jsxs("div",{className:"flex-non sm:flex sm:flex-col gap-0 sm:gap-1",children:[u.jsx("p",{className:"text-center font-medium text-sm lg:text-base",children:"Percentage"}),u.jsx("input",{className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 text-center lg:text-base lg:py-5 xl:border-[3px]",name:"amount",value:`${I.amount}`,onChange:z=>{z.target.value===""&&(z.target.value="0");const re=[...ue];re[A].amount=parseInt(z.target.value),X(re)}})]})]}),u.jsx("button",{className:"bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full w-[20rem] self-center h-10 shadow-md   transition duration-300 sm:mt-4 xl:h-14",onClick:()=>Z(A),children:"Submit Changes"})]},I.id)),me=async()=>{if(!j.name||!j.description){alert("Please fill in all fields!");return}try{let I="";if(j.imageFile){const z=`categories/${Sl()}-${j.imageFile.name}`,{error:re}=await ce.storage.from("trailmarket-images").upload(z,j.imageFile);if(re){console.error("Error uploading image:",re.message);return}I=ce.storage.from("trailmarket-images").getPublicUrl(z).data.publicUrl}const{error:A}=await ce.from("DIM_CATEGORY").insert({CATEGORY_NAME:j.name,CATEGORY_DESC:j.description,CATEGORY_IMAGE:I});if(A){console.error("Error adding category:",A.message);return}alert("Category added successfully!"),r(!1)}catch(I){console.error("Error adding category:",I)}},he=()=>u.jsxs("div",{className:"form-container flex flex-col w-full sm:px-2 md:px-4 xl:px-8 sm:mt-5 max-w-4xl self-center lg:mt-10",children:[u.jsxs("div",{className:"flex-none sm:flex sm:gap-2",children:[u.jsx("input",{placeholder:"Name",className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px]",name:"name",value:ke.name,onChange:P}),u.jsx("input",{type:"email",placeholder:"Email",className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px]",name:"email",value:ke.email,onChange:P})]}),u.jsx("input",{type:"password",placeholder:"Password",className:" w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px] ",name:"password",value:ke.password,onChange:P}),u.jsxs("div",{className:"flex-none sm:flex sm:gap-2",children:[u.jsx("input",{type:"number",placeholder:"Age",className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px]",name:"age",value:ke.age,onChange:P}),u.jsx("input",{type:"number",placeholder:"Contact Number",className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px]",name:"number",value:ke.number,onChange:P}),u.jsx("input",{placeholder:"City",className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px]",name:"city",value:ke.city,onChange:P})]}),u.jsxs("div",{className:"flex-none sm:flex sm:gap-2",children:[u.jsxs("select",{className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-10 px-3 font-normal 2xl:h-14 lg:h-[42px] mb-3 xl:border-[3px]",value:ke.role,onChange:P,name:"role",children:[u.jsx("option",{value:"Admin",className:"font-normal",children:"Admin"}),u.jsx("option",{value:"Moderator",className:"font-normal",children:"Moderator"})]}),u.jsx("input",{placeholder:"Emergency Contact Name",className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px]",name:"emergency_contact_name",value:ke.emergency_contact_name,onChange:P}),u.jsx("input",{type:"number",placeholder:"Emergency Contact Number",className:"w-full text-sm xl:text-base border-black border-2 rounded-full h-6 p-4 mb-3 font-normal 2xl:h-14 lg:py-5 xl:border-[3px]",name:"emergency_contact_num",value:ke.emergency_contact_num,onChange:P})]}),u.jsx("button",{id:"login-button",className:" bg-gradient-to-r from-[#191847] to-[#000000] text-white xl:text-base font-normal text-sm rounded-full h-10 mt-3 shadow-md transition duration-300 w-full self-center xl:h-14",onClick:()=>D(ke),children:"Submit"})]}),Pe=async(I,A)=>{const z=[...K];z[I].status=A,te(z);const re=z[I].id;try{const{data:Ne,error:Oe}=await ce.from("FACT_ISSUE_TRACKER").update({ISSUE_STAT:A}).eq("ISSUE_ID",re);Oe&&console.error("Error updating data:",Oe.message),Ne&&console.log("Updated data:",Ne)}catch(Ne){console.error("Error updating data:",Ne)}},ve=async(I,A)=>{const z=[...K];z[I].assigned=A,te(z);const re=z[I].id;try{const{data:Ne,error:Oe}=await ce.from("FACT_ISSUE_TRACKER").update({ASSIGNED_EMP:A}).eq("ISSUE_ID",re);Oe&&console.error("Error updating data:",Oe.message),Ne&&console.log("Updated data:",Ne)}catch(Ne){console.error("Error updating data:",Ne)}},fe=I=>{const{name:A,value:z}=I.target;b(re=>({...re,[A]:A==="age"||A==="contact_num"||A==="sss"||A==="philhealth"||A==="pagibig"||A==="tin"||A==="emergency_contact"?Number(z):z}))};w.useEffect(()=>{b({name:(q==null?void 0:q.name)||"",email:(q==null?void 0:q.email)||"",age:(q==null?void 0:q.age)||0,contact_num:(q==null?void 0:q.contact_num)||0,role:(q==null?void 0:q.role)||"",emergency_name:(q==null?void 0:q.emergency_name)||"",emergency_contact:(q==null?void 0:q.emergency_contact)||0,sss:(q==null?void 0:q.sss)||0,philhealth:(q==null?void 0:q.philhealth)||0,pagibig:(q==null?void 0:q.pagibig)||0,tin:(q==null?void 0:q.tin)||0})},[q]);const[Le,Ze]=w.useState([]),He=async()=>{const{data:I,error:A}=await ce.from("DIM_CATEGORY").select("*");return A?(console.error("Error fetching categories:",A.message),[]):(console.log("Fetched categories:",I),I)};w.useEffect(()=>{(async()=>{const A=await He();if(A){const z=A.map(re=>({id:re.CATEGORY_ID,name:re.CATEGORY_NAME,description:re.CATEGORY_DESC,image:re.CATEGORY_IMAGE}));Ze(z)}else console.error("Failed to fetch categories.")})()},[]);const[$e,vt]=w.useState(null),Mt=I=>{vt(I)},qt=async I=>{if(window.confirm("Are you sure you want to delete this product?"))try{const{error:z}=await ce.from("DIM_CATEGORY").delete().eq("CATEGORY_ID",I);if(z){console.error("Error deleting category:",z.message);return}Ze(Le.filter(re=>re.id!==I)),alert("Category deleted successfully!")}catch(z){console.error("Error deleting category:",z)}},wt=I=>{const{name:A,value:z}=I.target;$e&&vt(re=>re&&{...re,[A]:z})},Gt=async()=>{V(!0);const I="categories";try{let A=$e==null?void 0:$e.image;if(h){const Ke=`${I}/${Sl()}-${h.name}`,{error:St}=await ce.storage.from("trailmarket-images").upload(Ke,h);if(St){console.error("Error uploading image:",St.message);return}A=ce.storage.from("trailmarket-images").getPublicUrl(Ke).data.publicUrl}const z=$e==null?void 0:$e.image,{id:re,name:Ne,description:Oe}=$e||{},{error:nt}=await ce.from("DIM_CATEGORY").update({CATEGORY_NAME:Ne,CATEGORY_DESC:Oe,CATEGORY_IMAGE:A}).eq("CATEGORY_ID",re);if(nt){console.error("Error updating category details:",nt.message);return}if(z&&h)try{const Ke=new URL(z).pathname.replace("/storage/v1/object/public/trailmarket-images/","");if(Ke){console.log("Deleting old image:",z);const{error:St}=await ce.storage.from("trailmarket-images").remove([Ke]);if(St){console.error("Error deleting old image:",St.message);return}}}catch(Ke){Ke instanceof Error?console.error("Invalid URL:",z,Ke.message):console.error("Invalid URL:",z);return}alert("Category updated successfully!")}catch(A){console.error("Error saving category:",A)}finally{V(!1)}},Lt=()=>u.jsxs("div",{className:"flex flex-col w-full gap-4 px-4 max-w-4xl",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-lg xl:text-xl font-semibold",children:"Categories"}),u.jsx("button",{onClick:()=>r(!0),className:"bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal xl:text-base text-sm rounded-full h-10 shadow-md w-36 self-center xl:h-14 hover:bg-red-400",children:"Add Category"})]}),u.jsx("div",{className:"category-list grid grid-cols-2 gap-4",children:Le.map(I=>u.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-lg cursor-pointer",onClick:()=>Mt(I),children:[u.jsx("h3",{className:"text-base xl:text-lg font-semibold",children:I.name}),u.jsx("p",{className:"text-xs xl:text-sm font-medium",children:I.description}),u.jsx("button",{onClick:()=>qt(I.id),className:"block px-4 py-2 text-sm text-center border-2 border-black rounded-xl hover:bg-red-200 bg-red-500 w-full text-black",children:"Delete Category"})]},I.id))}),$e&&u.jsxs("div",{className:"edit-category-form flex flex-col gap-4 p-4 border rounded-lg w-full",children:[u.jsx("h3",{className:"text-base xl:text-lg font-semibold",children:"Edit Category"}),u.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row w-full items-center",children:[u.jsxs("div",{className:"flex gap-4 flex-col w-full",children:[u.jsx("input",{type:"text",name:"name",placeholder:"Category Name",value:$e.name,onChange:wt,className:"border p-2 rounded-lg text-sm xl:text-base font-medium"}),u.jsx("input",{type:"text",name:"description",placeholder:"Category Description",value:$e.description,onChange:wt,className:"border p-2 rounded-lg text-sm xl:text-base font-medium"})]}),u.jsxs("div",{...Y(),className:"flex cursor-pointer border-2 border-dashed border-gray-300 p-4 aspect-square",children:[u.jsx("input",{...ne(),className:"w-full flex flex-[1]"}),u.jsx("img",{src:h?URL.createObjectURL(h):($e==null?void 0:$e.image)||"placeholder-image.jpg",alt:"Category Image",className:"w-32 h-32 object-cover rounded-lg"})]})]}),u.jsx("button",{onClick:Gt,className:"bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal xl:text-base text-sm rounded-full h-10 mt-3 shadow-md w-full self-center xl:h-14 hover:bg-red-400",children:"Save Changes"})]})]}),ge=()=>u.jsxs("div",{className:"form-container flex flex-col sm:px-2 md:px-4 xl:px-8 sm:mt-5 max-w-4xl self-center lg:mt-10",children:[u.jsxs("div",{className:"flex-none sm:flex sm:gap-2",children:[u.jsx("input",{placeholder:"Name",className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"name",value:y==null?void 0:y.name,onChange:fe}),u.jsx("input",{type:"email",placeholder:"Email",className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"email",value:y==null?void 0:y.email,onChange:fe})]}),u.jsxs("div",{className:"flex-none sm:flex sm:gap-2",children:[u.jsx("input",{type:"number",placeholder:"Age",className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"age",value:y==null?void 0:y.age,onChange:fe}),u.jsx("input",{type:"number",placeholder:"Contact Number",className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"number",value:y==null?void 0:y.contact_num,onChange:fe})]}),u.jsxs("div",{className:"flex-none sm:flex sm:gap-2",children:[u.jsxs("select",{className:"w-full border-black border-2 rounded-full h-10 px-3 font-normal xl:text-base text-sm 2xl:h-14 lg:h-[42px] mb-3 xl:border-[3px]",value:y==null?void 0:y.role,onChange:fe,name:"role",children:[u.jsx("option",{value:"Admin",className:"font-normal xl:text-base text-sm",children:"Admin"}),u.jsx("option",{value:"Moderator",className:"font-normal xl:text-base text-sm",children:"Moderator"})]}),u.jsx("input",{placeholder:"Emergency Contact Name",className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"emergency_contact_name",value:y==null?void 0:y.emergency_name,onChange:fe}),u.jsx("input",{type:"number",placeholder:"Emergency Contact Number",className:"w-full border-black border-2 rounded-full h-6 p-4 mb-3 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"emergency_contact_num",value:y==null?void 0:y.emergency_contact,onChange:fe})]}),u.jsxs("div",{className:"flex-none flex flex-col sm:flex-row gap-1",children:[u.jsxs("div",{className:"flex flex-col w-full gap-1",children:[u.jsx("label",{className:"text-sm font-medium px-2 text-left justify-center align-middle lg:text-base",children:"SSS"}),u.jsx("input",{type:"number",placeholder:"SSS",className:"w-full border-black border-2 rounded-full h-6 p-4 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"sss",value:(y==null?void 0:y.sss)??"",onChange:fe})]}),u.jsxs("div",{className:"flex flex-col w-full gap-1",children:[u.jsx("label",{className:"text-sm font-medium px-2 text-left justify-center align-middle lg:text-base",children:"Philhealth"}),u.jsx("input",{type:"number",placeholder:"Philhealth",className:"w-full border-black border-2 rounded-full h-6 p-4 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"philhealth",value:(y==null?void 0:y.philhealth)??"",onChange:fe})]}),u.jsxs("div",{className:"flex flex-col w-full gap-1",children:[u.jsx("label",{className:"text-sm font-medium px-2 text-left justify-center align-middle lg:text-base",children:"Pagibig"}),u.jsx("input",{type:"number",placeholder:"Pagibig",className:"w-full border-black border-2 rounded-full h-6 p-4 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"pagibig",value:(y==null?void 0:y.pagibig)??"",onChange:fe})]}),u.jsxs("div",{className:"flex flex-col w-full gap-1",children:[u.jsx("label",{className:"text-sm font-medium px-2 text-left justify-center align-middle lg:text-base",children:"TIN"}),u.jsx("input",{type:"number",placeholder:"TIN",className:"w-full border-black border-2 rounded-full h-6 p-4 font-normal xl:text-base text-sm 2xl:h-14 lg:py-5 xl:border-[3px]",name:"tin",value:(y==null?void 0:y.tin)??"",onChange:fe})]})]}),u.jsx("div",{className:"flex-none sm:flex sm:gap-2"}),u.jsx("button",{id:"login-button",className:" bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal xl:text-base text-sm rounded-full h-10 mt-3 shadow-md transition duration-300 w-full self-center xl:h-14",onClick:()=>De(y),children:"Update"}),u.jsx("button",{id:"login-button",className:" bg-red-500 text-white font-normal rounded-full h-10 mt-3 shadow-md transition duration-300 w-[20rem] self-center xl:h-14",onClick:()=>(q==null?void 0:q.id)!==void 0&&Ie(q.id),children:"Delete"})]}),Ie=async I=>{if(window.confirm("Are you sure you want to delete this employee?"))try{const{error:z}=await ce.from("DIM_EMPLOYEE").delete().eq("EMP_ID",I);if(z){console.error("Error deleting employee:",z.message);return}$(R.filter(re=>re.id!==I)),alert("Employee deleted successfully!")}catch(z){console.error("Error deleting employee:",z)}},De=async I=>{if(console.log(I),I.name===""||I.email===""||I.age===""||I.number===""||I.city===""||I.role===""||I.emergency_contact_name===""||I.emergency_contact_num===""){alert("Please fill in all fields.");return}try{V(!0);const{error:A}=await ce.from("DIM_EMPLOYEE").update({EMP_NAME:I.name,EMP_EMAIL:I.email,EMP_AGE:I.age,EMP_CONTACTNUM:I.number,EMP_CITY:I.city,EMP_ROLE:I.role,EMP_EMERGENCY_NAME:I.emergency_contact_name,EMP_EMERGENCY_CONTACTNUM:I.emergency_contact_num,EMP_SSS:I.sss,EMP_PHILHEALTH:I.philhealth,EMP_PAGIBIG:I.pagibig,EMP_TIN:I.tin}).eq("EMP_ID",q==null?void 0:q.id);A?console.error("Error inserting data:",A.message):(alert("Admin updated successfully!"),V(!1),m(!1))}catch(A){console.error("Error inserting data:",A)}finally{V(!1)}};return u.jsxs("div",{className:"app-wrapper size-full ",children:[u.jsx(Al,{}),u.jsx(xu,{}),u.jsxs("div",{className:"main-container px-4 flex flex-col gap-3",children:[u.jsx("div",{className:`justify-center align-center flex bg-gradient-to-r from-[#26245f] to-[#18181b]\r
              text-white rounded-xl p-4 w-full`,children:u.jsx("h1",{className:"text-lg font-medium",children:"Admin Page"})}),u.jsxs("div",{className:"add-admin-update-tax-container items-center justify-center flex flex-col gap-2 w-full sm:px-2 md:px-4 md:gap-5 xl:gap-10 xl:px-8",children:[u.jsxs("div",{className:"w-full flex gap-2",children:[u.jsx("button",{className:`bg-slate-200 bg-opacity-60 px-5 py-2 shadow-md rounded-full border-2 border-black w-full text-xs hover:border-none hover:text-sm transition-all duration-300 md:text-base md:hover:text-lg xl:text-xl xl:py-3 xl:border-[3px] xl:hover:text-2xl ${a&&"bg-green-200"}`,onClick:()=>o(!a),children:a?"Cancel Add":"Add Admin"}),u.jsx("button",{className:`bg-slate-200 bg-opacity-60 px-5 py-2 shadow-md rounded-full border-2 border-black w-full text-xs hover:border-none hover:text-sm transition-all duration-300 md:text-base md:hover:text-lg xl:text-xl xl:py-3 xl:border-[3px] xl:hover:text-2xl ${s&&"bg-green-200"}`,onClick:()=>c(!s),children:s?"Cancel Tax":"Update Tax"})]}),u.jsxs("div",{className:"w-full flex gap-2",children:[u.jsx("button",{className:`bg-slate-200 bg-opacity-60 px-5 py-2 shadow-md rounded-full border-2 border-black w-full text-xs hover:border-none hover:text-sm transition-all duration-300 md:text-base md:hover:text-lg xl:text-xl xl:py-3 xl:border-[3px] xl:hover:text-2xl ${f&&"bg-green-200"}`,onClick:()=>m(!f),children:f?"Close Profile":"My Profile"}),u.jsx("button",{className:`bg-slate-200 bg-opacity-60 px-5 py-2 shadow-md rounded-full border-2 border-black w-full text-xs hover:border-none hover:text-sm transition-all duration-300 md:text-base md:hover:text-lg xl:text-xl xl:py-3 xl:border-[3px] xl:hover:text-2xl ${E&&"bg-green-200"}`,onClick:()=>S(!E),children:E?"Close Category Menu":"Category Menu"})]})]}),u.jsxs("div",{className:"flex flex-col w-full justify-center items-center gap-5",children:[a&&he(),s&&de(),f&&ge(),E&&Lt()]}),u.jsxs("div",{className:"issuetracker-container flex flex-col w-full gap-1 my-5 rounded-md shadow-lg sm:px-2 ",children:[u.jsx("hr",{className:"border-2"}),u.jsx("h1",{className:"text-center bg-gray-100 rounded-md text-lg p-1 md:text-xl md:p-3 xl:p-5 2xl:text-2xl",children:"Issue Tracker"}),u.jsx("div",{className:"parent-container w-full max-w-screen overflow-x-auto ",children:u.jsxs("table",{className:"table-auto border-collapse w-full whitespace-nowrap",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200 w-full",children:[u.jsx("th",{className:"text-xs font-semibold text-left px-2 py-2"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"ID"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"TYPE"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"STATUS"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"ASSIGNED TO"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"DESCRIPTION"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"ACTIONS"})]})}),u.jsx("tbody",{children:K.sort((I,A)=>I.id-A.id).map((I,A)=>u.jsxs("tr",{className:"border-t",children:[u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 py-1 md:py-3 self-center",children:u.jsx("input",{type:"checkbox",name:`isdone${I==null?void 0:I.id}`,className:"size-3 md:size-4 xl:size-5"})}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 py-1 md:py-3",children:I==null?void 0:I.id}),u.jsx("td",{className:`text-xs md:text-sm xl:text-base font-normal px-2 py-1 md:py-3 ${(I==null?void 0:I.category)==="Bug"?"text-red-500":(I==null?void 0:I.category)==="Feature"?"text-green-500":(I==null?void 0:I.category)==="Feedback"?"text-blue-500":""}`,children:I==null?void 0:I.category}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 py-2 md:py-3",children:u.jsx("select",{className:`${(I==null?void 0:I.status)===dl[0]?"bg-blue-200":(I==null?void 0:I.status)===dl[1]?"bg-yellow-200":(I==null?void 0:I.status)===dl[2]?"bg-green-200":""} px-2 rounded-full text-xs md:text-sm xl:text-base focus:outline-none xl:p-3 shadow-md`,value:I==null?void 0:I.status,onChange:z=>Pe(A,z.target.value),children:dl.map((z,re)=>u.jsx("option",{className:"bg-slate-100 font-normal ",value:z,children:z},re))})}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 py-1 md:py-3",children:u.jsx("select",{value:I==null?void 0:I.assigned,onChange:z=>ve(A,z.target.value),className:"bg-slate-50 p-1 rounded-full focus:outline-none xl:p-3 shadow-md",children:R.map(z=>u.jsx("option",{className:"bg-slate-100 font-normal overflow-auto",value:z.id,children:z.name},z.id))})}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 py-1 md:py-3 whitespace-normal flex w-64",children:I==null?void 0:I.desc}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 py-1 md:py-3",children:u.jsx("button",{className:"font-semibold text-xs md:text-sm xl:text-base py-1 bg-red-200 px-4 md:px-7 md:py-3 xl:px-10 xl:py-4 rounded-full shadow-md hover:bg-transparent hover:text-sm md:hover:text-base xl:hover:text-lg transition-all duration-200 hover:shadow-lg",onClick:()=>J(I==null?void 0:I.id),children:"Remove"})})]},A))})]})})]}),u.jsx("div",{className:"issue-container"})]}),u.jsx(ah,{isOpen:n,onClose:U,title:"Add Category",children:u.jsxs("div",{className:"flex flex-col gap-4 p-4 justify-center items-center w-full",children:[u.jsxs("div",{...Y(),className:"flex cursor-pointer",children:[u.jsx("input",{...ne()}),j.imageFile?u.jsx("img",{src:URL.createObjectURL(j.imageFile),alt:"Uploaded Category",className:"w-32 h-32 object-cover rounded-lg"}):u.jsx("img",{src:"https://via.placeholder.com/150",alt:"Category Placeholder",className:"w-32 h-32 object-cover rounded-lg"})]}),u.jsx("input",{type:"text",placeholder:"Category Name",className:"border p-2 rounded-lg w-full",name:"name",onChange:I=>k(A=>({...A,name:I.target.value}))}),u.jsx("textarea",{placeholder:"Category Description",className:"border p-2 rounded-lg w-full",name:"description",onChange:I=>k(A=>({...A,description:I.target.value}))}),u.jsx("button",{onClick:me,className:"bg-gradient-to-r from-[#191847] to-[#000000] text-white font-normal rounded-full h-10 mt-3 shadow-md transition duration-300 w-[20rem] self-center xl:h-14",children:"Add Category"})]})})]})};function Tb(n){return Ol({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"},child:[]},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"},child:[]}]})(n)}const Rb=()=>{const n=It(),[r,a]=w.useState(0),[o,s]=w.useState(0),[c,f]=w.useState(0);console.log(c);const{cart:m,setCart:h,user:x,setIsLoading:g,totalAmount:y,setTotalAmount:b,setTaxes:E,taxes:S,setCheckoutProds:j,checkoutProds:k}=dt(),C=async $=>{const{error:V}=await ce.from("FACT_CART_PROD").delete().eq("PRODUCT_FK",$);if(V){console.error("Error deleting cart item:",V.message),alert("An error occurred while deleting the item.");return}alert("Item deleted successfully!"),q()},U=async()=>{try{const{data:$}=await ce.from("DIM_TAX").select("*");if($){const V=$.map(ue=>({id:ue.TAX_ID,low:ue.TAX_BRACKET_LOW,high:ue.TAX_BRACKET_HIGH,amount:ue.TAX_AMOUNT}));E(V),console.log("TAX",S)}}catch($){console.error("Error fetching data:",$)}},K=()=>{const $=S.find(V=>o>=V.low&&o<=V.high);console.log("TAX",$),$!=null&&$.amount&&(f(Math.round(($==null?void 0:$.amount)/100*o)),console.log("TOTAL",o+($==null?void 0:$.amount)),b(Math.round(o+($==null?void 0:$.amount)/100*o)))},te=()=>{const $=m.reduce((V,ue)=>V+(ue==null?void 0:ue.price)*(ue==null?void 0:ue.quantity),0);console.log($),s($)};console.log(()=>{const $=m.map(V=>({order_id:void 0,prod_fk:V==null?void 0:V.prod_id,meetupLoc:void 0,meetupDate:void 0,meetupTime:void 0,quantity:V==null?void 0:V.quantity,prodName:V==null?void 0:V.name,prodPrice:V==null?void 0:V.price,prodImg:V==null?void 0:V.img,paymentMethod:void 0,paymentDate:void 0,paymentStatus:void 0,sellerId:V.seller_id}));j($),n("/checkout"),console.log(k)});const q=async()=>{g(!0);const{data:$,error:V}=await ce.from("DIM_CART").select(`
    CART_ID,
    CART_USER,
    FACT_CART_PROD(
      PRODUCT_FK,
      CART_QUANTITY,
       DIM_PRODUCT (
        SELLER_ID,
        PROD_NAME,
        PROD_PRICE,
        PROD_CONDITION,
        PROD_CATEGORY,
         DIM_PRODUCTIMAGES (
         PRODUCT_IMAGE,
         isMainImage
          ),
        DIM_USER (
          USER_NAME
        )
      )
    )
  `).eq("CART_USER",x==null?void 0:x.id);if(console.log($),V)return console.error("Error fetching :",V.message),g(!1),[];if($&&$.length>0){const ue=$[0].FACT_CART_PROD,X=ue.map((Ce,W)=>{var le,ke,Q;const J=(le=ue==null?void 0:ue[W])==null?void 0:le.DIM_PRODUCT,ee=(ke=J==null?void 0:J.DIM_PRODUCTIMAGES)==null?void 0:ke.find(H=>H.isMainImage===!0);return{prod_id:ue[W].PRODUCT_FK,name:J==null?void 0:J.PROD_NAME,price:J==null?void 0:J.PROD_PRICE,condition:J==null?void 0:J.PROD_CONDITION,category:J==null?void 0:J.PROD_CATEGORY,seller:(Q=J==null?void 0:J.DIM_USER)==null?void 0:Q.USER_NAME,seller_id:J==null?void 0:J.SELLER_ID,img:ee?ee.PRODUCT_IMAGE:null,quantity:ue[W].CART_QUANTITY}});console.log(X),h(X),g(!1)}};return w.useEffect(()=>{q(),U()},[]),w.useEffect(()=>{te(),K()},[m]),u.jsxs("div",{className:"px-5 pb-5",children:[u.jsx("div",{className:"CartHeader bg-gradient-to-r from-[#282667] to-slate-900 p-4 rounded-2xl 2xl:mx-8 text-white text-center",children:u.jsx("p",{className:"text-xl sm:text-3xl text-white text-center font-semibold",children:"Shopping Cart"})}),u.jsx("div",{className:"CartBody flex flex-col h-full my-5",children:u.jsx("div",{className:"CartItemList flex flex-col xl:grid xl:grid-cols-1 2xl:grid-cols-2 gap-5",children:m.map($=>u.jsxs("button",{className:"CartItem shadow-[0_0px_20px_rgba(0,0,0,0.2)] rounded-2xl flex flex-col md:flex-row items-stretch",onClick:()=>n(`/product/${$==null?void 0:$.prod_id}`),children:[u.jsx("div",{className:"md:w-3/4 w-full h-full flex-1 flex flex-col",children:u.jsx("img",{src:$==null?void 0:$.img,alt:$==null?void 0:$.name,className:"Image flex-1 rounded-2xl object-cover max-h-[250px] min-h-[250px]"})}),u.jsxs("div",{className:"CartItemInfo p-6 flex flex-col md:w-3/4 w-full justify-center",children:[u.jsx("div",{className:"CartItemTop",children:u.jsxs("div",{className:"CartItemSeller flex items-center w-full",children:[u.jsx("div",{className:"CartItemSellerImage bg-gray-700 size-3 mr-2 rounded-full"}),u.jsx("p",{className:"CartItemSellerName text-xs font-medium",children:$==null?void 0:$.seller}),u.jsx("div",{className:"flex justify-end flex-grow",children:u.jsx("button",{className:"flex justify-end self-end items-end p-2 hover:rounded-full hover:shadow-md bg-transparent transition-all duration-300",onClick:()=>C($==null?void 0:$.prod_id),children:u.jsx(Tb,{className:"size-6 text-red-600 shadow-sm bg-transparent"})})})]})}),u.jsxs("div",{className:"CartItemMiddle my-2",children:[u.jsx("h1",{className:"text-2xl border-b-2 border-gray-400 pb-4 md:text-left sm:text-center",children:$==null?void 0:$.name}),u.jsxs("div",{className:"CartItemsPriceConfig flex pt-[15px] justify-between",children:[u.jsxs("div",{className:"CartItemsUnitPrice w-1/3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Unit Price"}),u.jsx("h1",{className:"text-2xl",children:$==null?void 0:$.price})]}),u.jsxs("div",{className:"CartItemsQuantity w-1/3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Quantity"}),u.jsx("div",{className:"CartItemsQuantityEdit",children:u.jsx("input",{type:"number",value:$==null?void 0:$.quantity,min:"1",readOnly:!0,onChange:V=>{a(parseInt(V.target.value)),console.log(r)},className:"w-2/3 border-[2px] border-black rounded-2xl text-center",onKeyDown:V=>V.preventDefault()})})]}),u.jsxs("div",{className:"CartItemsTotalPrice w-1/3",children:[u.jsx("p",{className:"text-sm font-medium",children:"Total Price"}),u.jsx("h1",{className:"text-2xl",children:y})]})]})]})]})]},$==null?void 0:$.prod_id))})})]})},Ib=()=>{const{checkoutProds:n,setCheckoutProds:r,taxes:a,setTaxes:o,totalAmount:s,setTotalAmount:c,user:f,userPayment:m,setUserPayment:h,setIsLoading:x}=dt(),[g,y]=w.useState(["Cash on Delivery"]),[b,E]=w.useState(0),[S,j]=w.useState(0),k=er(),C=It(),U=["CITC","CEA","Study Shed 2","Study Shed 1","CSM","Gym Lobby","Old CSM"];w.useEffect(()=>{console.log("Updated Checkout Products:",n)},[n]);const K=async()=>{try{const X=[...new Set(n.map(ee=>ee.sellerId))];if(console.log("Seller IDs:",X),X.length===0){console.warn("No valid seller IDs found in checkoutProds.");return}const{data:Ce,error:W}=await ce.from("DIM_PAYMENTMETHOD").select("*").in("USER_PAY_FK",X);if(W){console.error("Error fetching seller payment methods:",W);return}const J=X.reduce((ee,le)=>{const ke=Ce.filter(Q=>Q.USER_PAY_FK===le).map(Q=>({paymentMethod:Q.PAYMENT_METHOD,paymentNumber:Q.ACCOUNT_NUMBER})).filter(Q=>Q.paymentMethod);return ee[le]=[{paymentMethod:"Cash on Delivery",paymentNumber:""},...ke],ee},{});X.forEach(ee=>{J[ee]||(J[ee]=[])}),y(J),console.log("Seller Payments:",J)}catch(X){console.error("Unexpected error fetching seller payment methods:",X)}},te=async()=>{const{data:X,error:Ce}=await ce.from("DIM_PAYMENTMETHOD").select("*").eq("USER_PAY_FK",f==null?void 0:f.id);if(Ce&&console.error("Error fetching payment data:",Ce),X){console.log(X);const W=X.map(J=>({paymentMethod:J.PAYMENT_METHOD,paymentNumber:J.ACCOUNT_NUMBER}));h(W),console.log("USER PAYMENT",m)}},R=async()=>{try{const{data:X}=await ce.from("DIM_TAX").select("*");if(X){const Ce=X.map(W=>({id:W.TAX_ID,low:W.TAX_BRACKET_LOW,high:W.TAX_BRACKET_HIGH,amount:W.TAX_AMOUNT}));o(Ce),console.log("TAX",a)}}catch(X){console.error("Error fetching data:",X)}},q=()=>{const X=a.find(J=>b>=J.low&&b<=J.high),Ce=X?X.amount/100*b:0;j(Ce);const W=b+Ce;return c(Math.round(W)),console.log("Subtotal:",b,"Tax:",Ce,"Total:",W),X?X.id:null},$=()=>{const X=n.reduce((Ce,W)=>Ce+(W==null?void 0:W.prodPrice)*(W==null?void 0:W.quantity),0);console.log(X),E(X)};w.useEffect(()=>{console.log("Checkout Products:",n),R(),te(),K()},[]),w.useEffect(()=>{$()},[n]),w.useEffect(()=>{b>0&&q()},[b]),w.useEffect(()=>{console.log("Final Total Amount:",s)},[s]),w.useEffect(()=>{k.pathname!="/checkout"},[s]);const V=(X,Ce,W)=>{const J=n.map(ee=>ee.order_id===X?{...ee,[Ce]:W}:ee);r(J)};w.useEffect(()=>{const X=n.map(W=>{var le,ke;const J=((ke=(le=g[W.sellerId])==null?void 0:le[0])==null?void 0:ke.paymentMethod)||"Cash on Delivery",ee=U[0];return{...W,paymentMethod:W.paymentMethod||J,meetupLoc:W.meetupLoc||ee}});X.some((W,J)=>W.paymentMethod!==n[J].paymentMethod||W.meetupLoc!==n[J].meetupLoc)&&r(X)},[n,g,U]);const ue=async()=>{var X,Ce,W,J;x(!0);try{for(const ee of n){const le={MEETUP_LOCATION:ee.meetupLoc||U[0],MEETUP_DATE:ee.meetupDate||new Date().toISOString().split("T")[0],MEETUP_TIME:ee.meetupTime||"00:00"},{data:ke,error:Q}=await ce.from("DIM_MEETUP").insert([le]).select();if(Q){console.error("Error inserting meetup data:",Q),alert("An error occurred while processing meetup data. Please try again.");return}const H=(X=ke==null?void 0:ke[0])==null?void 0:X.MEETUP_ID;console.log("Meetup ID:",H);const Y=q(),ne={PRODUCT_FK:ee.prod_fk,MEETUP_FK:H,QUANTITY:ee.quantity,TAX_APPLIED:Y,BUYER_FK:f==null?void 0:f.id},{data:P,error:D}=await ce.from("DIM_ORDER").insert([ne]).select();if(D){console.error("Error inserting order data:",D),alert("An error occurred while processing the order. Please try again.");return}console.log("Order Inserted:",P);const Z=(Ce=P==null?void 0:P[0])==null?void 0:Ce.ORDER_ID;console.log("Order ID:",Z);const de=(W=g[ee.sellerId])==null?void 0:W.find(vt=>vt.paymentMethod===ee.paymentMethod);if(!de){console.error(`Payment method "${ee.paymentMethod}" not found for seller ${ee.sellerId}`),alert("Invalid payment method selected. Please try again.");return}const he={PAYMENT_METHOD:de.paymentMethodId||"0",PAYMENT_DATE:null,PAYMENT_STATUS:"Pending",ORDER_FK:Z},{data:Pe,error:ve}=await ce.from("DIM_PAYMENT").insert([he]).select();if(ve){console.error("Error inserting payment data:",ve),alert("An error occurred while processing payment data. Please try again.");return}const fe=(J=Pe==null?void 0:Pe[0])==null?void 0:J.id;console.log("Payment ID:",fe);const{data:Le,error:Ze}=await ce.from("DIM_PRODUCT").select("PROD_STOCKS").eq("PRODUCT_ID",ee.prod_fk).single();if(Ze){console.error("Error fetching product stock:",Ze),alert("An error occurred while fetching product stock. Please try again.");return}const He=((Le==null?void 0:Le.PROD_STOCKS)||0)-ee.quantity;if(He<0){alert(`Insufficient stock for Product ID ${ee.prod_fk}. Please reduce the quantity.`);return}const{error:$e}=await ce.from("DIM_PRODUCT").update({PROD_STOCKS:He}).eq("PRODUCT_ID",ee.prod_fk);if($e){console.error("Error updating product stock:",$e),alert("An error occurred while updating the product stock. Please try again.");return}console.log(`Stock updated for Product ID ${ee.prod_fk}, New Stock: ${He}`)}alert("All orders placed successfully!"),r([]),C("/purchaseHistory")}catch(ee){console.error("Unexpected error:",ee),alert("An unexpected error occurred. Please try again.")}x(!1)};return u.jsxs("div",{children:[u.jsx("div",{className:"OrderHeader bg-gradient-to-r from-[#282667] to-slate-900 p-2 sm:p-4 mx-5 rounded-2xl 2xl:mx-8 text-white text-center",children:u.jsx("p",{children:"Checkout"})}),u.jsxs("div",{className:"OrderBody flex flex-col xl:flex-row m-5 gap-4",children:[u.jsx("div",{className:"OrderItemList shadow-2xl flex flex-col items-stretch xl:w-2/3 sm:w-full h-full rounded-xl px-4",children:n.map(X=>{var Ce,W;return u.jsxs("div",{className:`orderItem flex-1 h-full flex-col py-4 xl:max-h-[300px] px-4 ${n?"border-b-2 border-gray-400":""}`,children:[u.jsxs("div",{className:"orderItemTop flex justify-between h-full",children:[u.jsx("div",{className:"orderItemImage size-24 overflow-hidden rounded-xl",children:u.jsx("img",{src:X.prodImg,alt:X.prodName,className:"Image size-32 object-cover"})}),u.jsxs("div",{className:"w-full flex justify-between items-center p-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm md:text-base xl:text-xl",children:X.prodName}),u.jsxs("p",{className:"text-sm md:text-base xl:text-lg text-gray-700 font-medium",children:["Qty: ",X.quantity]})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs sm:text-sm md:text-base xl:text-lg text-right",children:["PHP ",X.prodPrice*X.quantity]}),u.jsxs("p",{className:"text-xs sm:text-sm md:text-base xl:text-lg text-right text-gray-700 font-medium",children:[X.prodPrice," each"]})]})]})]}),u.jsxs("div",{className:"OrderItemInfo flex gap-2 flex-col pt-4 w-full",children:[u.jsxs("div",{className:"OrderItemButtom flex flex-wrap items-end gap-2",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row w-full gap-3",children:[u.jsx("div",{className:"OrderItemProductLocation grow sm:basis-1/2 md:basis-1/5 w-full flex",children:u.jsx("select",{value:X.meetupLoc||U[0],className:"w-full border-[1px] border-black rounded-2xl px-4 font-medium text-sm md:text-base md:py-1 md:rounded-full xl:text-lg xl:py-2",onChange:J=>V(X.order_id,"meetupLoc",J.target.value),children:U.map((J,ee)=>u.jsx("option",{value:J,className:"font-medium",children:J},ee))})}),u.jsx("div",{className:"OrderItemDeliveryTime grow sm:basis-1/2 md:basis-1/5 w-full flex",children:u.jsx("input",{type:"time",value:X.meetupTime||"",onChange:J=>V(X.order_id,"meetupTime",J.target.value),className:"w-full border-[1px] border-black rounded-2xl px-4 font-medium text-sm md:text-base md:py-1 md:rounded-full xl:text-lg xl:py-2"})})]}),u.jsx("div",{className:"OrderItemDeliveryDate grow sm:basis-1/2 md:basis-1/5",children:u.jsx("input",{type:"date",value:X.meetupDate||"",onChange:J=>V(X.order_id,"meetupDate",J.target.value),className:"w-full border-[1px] border-black rounded-2xl px-4 sm:w-full font-medium text-sm md:text-base md:py-1 md:rounded-full xl:text-lg xl:py-2"})})]}),u.jsx("div",{className:"OrderPaymentMethod grow sm:basis-1/2 md:basis-1/5",children:u.jsx("select",{value:X.paymentMethod||((W=(Ce=g[X.sellerId])==null?void 0:Ce[0])==null?void 0:W.paymentMethod)||"",onChange:J=>V(X.order_id,"paymentMethod",J.target.value),className:"w-full border-[1px] border-black rounded-2xl px-4 font-medium text-sm md:text-base md:py-1 md:rounded-full xl:text-lg xl:py-2",children:(g[X.sellerId]||[]).map((J,ee)=>u.jsx("option",{value:J.paymentMethod,className:"font-medium",children:J.paymentMethod},ee))})})]})]},X.order_id)})}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"checkoutBottom flex flex-col sm:flex-row gap-3",children:[u.jsx("div",{className:"CartPayment flex w-full",children:u.jsx("div",{className:"CartPaymentWindow flex w-full flex-col items-center shadow-lg rounded-xl p-8",children:u.jsxs("div",{className:"CartPaymentInfo w-full",children:[u.jsx("h1",{className:"text-lg pb-4",children:"Payment Summary"}),u.jsx("div",{className:"PaymentTransactionId"}),u.jsxs("div",{className:"PaymentOrderSummary",children:[u.jsx("p",{className:"text-sm font-medium",children:"Sub Total"}),u.jsx("h1",{className:"pb-4 text-2xl",children:b})]}),u.jsxs("div",{className:"PaymentShippingFee",children:[u.jsx("p",{className:"text-sm font-medium",children:"Tax"}),u.jsx("h1",{className:"pb-4 text-2xl",children:S})]}),u.jsxs("div",{className:"PaymentTotal bg-gradient-to-r from-[#282667] to-slate-900 rounded-2xl text-white w-full flex flex-col align-center p-4 mb-4",children:[u.jsx("p",{className:"text-sm font-normal",children:"Total Amount"}),u.jsx("h1",{className:"text-2xl font-semibold",children:s})]})]})})}),u.jsx("div",{className:"PaymentInfo flex flex-col lg:flex-col w-full mx-1",children:u.jsxs("div",{className:"PaymentInfoBody shadow-2xl flex flex-col items-stretch sm:w-full rounded-xl p-8",children:[u.jsx("p",{className:"border-b-2 border-gray-400 pb-4",children:"Payment Info"}),m.map(X=>u.jsxs("div",{className:"PaymentInfoItem pt-4",children:[u.jsx("p",{className:"PaymentMethod",children:X.paymentMethod}),u.jsx("p",{className:"PaymentInfo border-[1px] border-black p-2 rounded-xl mb-2 font-medium",children:X.paymentNumber})]}))]})})]}),u.jsx("div",{className:"PaymentInfoButton ",children:u.jsx("button",{className:"PlaceOrderButton bg-gradient-to-r from-[#282667] to-slate-900 p-2 sm:p-4 rounded-2xl text-white text-center w-full",onClick:ue,children:"Place Order"})})]})]})]})},cm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M480-372.92q-7.23%200-13.46-2.31t-11.85-7.92L274.92-562.92q-8.3-8.31-8.5-20.89-.19-12.57%208.5-21.27%208.7-8.69%2021.08-8.69%2012.38%200%2021.08%208.69L480-442.15l162.92-162.93q8.31-8.3%2020.89-8.5%2012.57-.19%2021.27%208.5%208.69%208.7%208.69%2021.08%200%2012.38-8.69%2021.08L505.31-383.15q-5.62%205.61-11.85%207.92-6.23%202.31-13.46%202.31Z'/%3e%3c/svg%3e",Db="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M212.31-140Q182-140%20161-161q-21-21-21-51.31v-535.38Q140-778%20161-799q21-21%2051.31-21h238.08q12.76%200%2021.38%208.62%208.61%208.61%208.61%2021.38t-8.61%2021.38q-8.62%208.62-21.38%208.62H212.31q-4.62%200-8.46%203.85-3.85%203.84-3.85%208.46v535.38q0%204.62%203.85%208.46%203.84%203.85%208.46%203.85h238.08q12.76%200%2021.38%208.62%208.61%208.61%208.61%2021.38t-8.61%2021.38q-8.62%208.62-21.38%208.62H212.31Zm492.38-310H393.85q-12.77%200-21.39-8.62-8.61-8.61-8.61-21.38t8.61-21.38q8.62-8.62%2021.39-8.62h310.84l-76.92-76.92q-8.31-8.31-8.5-20.27-.19-11.96%208.5-21.27%208.69-9.31%2021.08-9.62%2012.38-.3%2021.69%209l123.77%20123.77q10.84%2010.85%2010.84%2025.31%200%2014.46-10.84%2025.31L670.54-330.92q-8.92%208.92-21.19%208.8-12.27-.11-21.58-9.42-8.69-9.31-8.38-21.38.3-12.08%209-20.77l76.3-76.31Z'/%3e%3c/svg%3e",Ob="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M480-492.31q-57.75%200-98.87-41.12Q340-574.56%20340-632.31q0-57.75%2041.13-98.87%2041.12-41.13%2098.87-41.13%2057.75%200%2098.87%2041.13Q620-690.06%20620-632.31q0%2057.75-41.13%2098.88-41.12%2041.12-98.87%2041.12ZM180-248.46v-28.16q0-29.38%2015.96-54.42%2015.96-25.04%2042.66-38.5%2059.3-29.07%20119.65-43.61%2060.35-14.54%20121.73-14.54t121.73%2014.54q60.35%2014.54%20119.65%2043.61%2026.7%2013.46%2042.66%2038.5Q780-306%20780-276.62v28.16q0%2025.3-17.73%2043.04-17.73%2017.73-43.04%2017.73H240.77q-25.31%200-43.04-17.73Q180-223.16%20180-248.46Zm60%20.77h480v-28.93q0-12.15-7.04-22.5-7.04-10.34-19.11-16.88-51.7-25.46-105.42-38.58Q534.7-367.69%20480-367.69q-54.7%200-108.43%2013.11-53.72%2013.12-105.42%2038.58-12.07%206.54-19.11%2016.88-7.04%2010.35-7.04%2022.5v28.93Zm240-304.62q33%200%2056.5-23.5t23.5-56.5q0-33-23.5-56.5t-56.5-23.5q-33%200-56.5%2023.5t-23.5%2056.5q0%2033%2023.5%2056.5t56.5%2023.5Zm0-80Zm0%20384.62Z'/%3e%3c/svg%3e",Ab="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M286.15-97.69q-29.15%200-49.57-20.43-20.42-20.42-20.42-49.57%200-29.16%2020.42-49.58%2020.42-20.42%2049.57-20.42%2029.16%200%2049.58%2020.42%2020.42%2020.42%2020.42%2049.58%200%2029.15-20.42%2049.57-20.42%2020.43-49.58%2020.43Zm387.7%200q-29.16%200-49.58-20.43-20.42-20.42-20.42-49.57%200-29.16%2020.42-49.58%2020.42-20.42%2049.58-20.42%2029.15%200%2049.57%2020.42t20.42%2049.58q0%2029.15-20.42%2049.57Q703-97.69%20673.85-97.69ZM240.61-730%20342-517.69h272.69q3.46%200%206.16-1.73%202.69-1.73%204.61-4.81l107.31-195q2.31-4.23.38-7.5-1.92-3.27-6.54-3.27h-486Zm-28.76-60h555.38q24.54%200%2037.11%2020.89%2012.58%2020.88%201.2%2042.65L677.38-494.31q-9.84%2017.31-26.03%2026.96-16.2%209.66-35.5%209.66H324l-46.31%2084.61q-3.08%204.62-.19%2010%202.88%205.39%208.65%205.39h427.7q12.76%200%2021.38%208.61%208.61%208.62%208.61%2021.39%200%2012.77-8.61%2021.38-8.62%208.62-21.38%208.62h-427.7q-40%200-60.11-34.5-20.12-34.5-1.42-68.89l57.07-102.61L136.16-810H90q-12.77%200-21.38-8.62Q60-827.23%2060-840t8.62-21.38Q77.23-870%2090-870h61.15q10.24%200%2019.08%205.42%208.85%205.43%2013.46%2015.27L211.85-790ZM342-517.69h280-280Z'/%3e%3c/svg%3e",Mb="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='24px'%20height='24px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='5'%20y='4'%20width='14'%20height='17'%20rx='2'%20stroke-width='1.5px'%20stroke='%23000000'/%3e%3cpath%20d='M9%209H15'%20stroke='%23000000'%20stroke-width='1.5px'%20stroke-linecap='round'/%3e%3cpath%20d='M9%2013H15'%20stroke='%23000000'%20stroke-width='1.5px'%20stroke-linecap='round'/%3e%3cpath%20d='M9%2017H13'%20stroke='%23000000'%20stroke-width='1.5px'%20stroke-linecap='round'/%3e%3c/svg%3e",Lb="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='24px'%20height='24px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Edit%20/%20Add_To_Queue'%3e%3cpath%20id='Vector'%20d='M3%209V19.4C3%2019.9601%203%2020.2399%203.10899%2020.4538C3.20487%2020.642%203.35774%2020.7952%203.5459%2020.8911C3.7596%2021%204.0395%2021%204.59846%2021H15.0001M14%2013V10M14%2010V7M14%2010H11M14%2010H17M7%2013.8002V6.2002C7%205.08009%207%204.51962%207.21799%204.0918C7.40973%203.71547%207.71547%203.40973%208.0918%203.21799C8.51962%203%209.08009%203%2010.2002%203H17.8002C18.9203%203%2019.4801%203%2019.9079%203.21799C20.2842%203.40973%2020.5905%203.71547%2020.7822%204.0918C21.0002%204.51962%2021.0002%205.07969%2021.0002%206.19978L21.0002%2013.7998C21.0002%2014.9199%2021.0002%2015.48%2020.7822%2015.9078C20.5905%2016.2841%2020.2842%2016.5905%2019.9079%2016.7822C19.4805%2017%2018.9215%2017%2017.8036%2017H10.1969C9.07899%2017%208.5192%2017%208.0918%2016.7822C7.71547%2016.5905%207.40973%2016.2842%207.21799%2015.9079C7%2015.4801%207%2014.9203%207%2013.8002Z'%20stroke='%23000000'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",um=[{Icon:Db,IconName:"Log Out"},{Icon:Ob,IconName:"Person"},{Icon:Ab,IconName:"Shopping Cart"},{Icon:Mb,IconName:"Purchase History"},{Icon:Lb,IconName:"Post Product"}],Ub=({obj:n})=>{const[r,a]=w.useState(!1),[o,s]=w.useState(!1),{selectedCategory:c,setSelectedCategory:f,setSearchState:m}=dt(),{setIsLoggedIn:h,setUser:x}=dt(),g=[()=>{h(!1),x(null),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),j("/login")},()=>j("/myprofile"),()=>j("/cart"),()=>j("/purchasehistory"),()=>j("/post")],y=k=>{m(k)},b=()=>{a(k=>!k)},E=()=>{s(k=>!k)},S=k=>{f(k),a(!1)},j=It();return u.jsxs("div",{className:"NavBar mb-5 flex flex-col xl:flex-row 2xl:flex-row justify-center items-center lg:px-10 md:px-5 px-5 xl:px-10 w-full",children:[u.jsx("button",{className:"NavBarLeft",onClick:()=>j("/home"),children:u.jsx("h1",{className:"NavBarTitle text-transparent bg-gradient-to-r from-[#282667] to-slate-900 bg-clip-text flex flex-col align-center justify-center md:row-span-2 sm:col-span-3 text-center mb-2 text-2xl sm:text-3xl md:text-4xl md:my-5 sm:my-4 xl:pr-10",children:"TrailMarket"})}),u.jsxs("div",{className:"NavBarMiddleRight flex flex-grow justify-center w-full",children:[u.jsx("div",{className:"NavBarMiddle flex items-center justify-center gap-2 w-full",children:u.jsxs("div",{className:"NavBarSearchBar flex border-2 border-black rounded-full h-9 sm:h-12 md:h-14 px-5 w-full",children:[u.jsxs("div",{className:"NavBarCategories flex relative w-5 sm:w-48 md:w-56 lg:w-72 justify-start",children:[u.jsxs("button",{className:"flex items-center",onClick:b,children:[u.jsx("p",{className:"font-medium hidden sm:block text-sm mr-1 lg:text-lg md:p-1 lg:p-4",children:c}),u.jsx("img",{src:cm,alt:"Dropdown",className:`\r
                    min-w-5\r
                    `})]}),r&&u.jsx("div",{className:"absolute top-full left-0 sm:left-14 bg-slate-50 shadow-md rounded-md w-20 sm:w-28 md:w-36 z-20",children:n.map((k,C)=>c===k.CategoryName?null:u.jsx("button",{className:"flex items-center p-2 hover:bg-gray-100 w-full",onClick:()=>S(k.CategoryName),children:u.jsx("p",{className:"text-[12px] font-medium text-center flex-grow sm:text-sm md:text-base lg:text-lg",children:k.CategoryName})},C))})]}),u.jsx("div",{className:"NavBarSearch flex w-full",children:u.jsx("input",{type:"text",placeholder:"Search in the market",className:"bg-transparent border-none focus:outline-none pl-4 p-3 text-xs font-medium w-full sm:text-sm md:text-lg md:pl-6",onChange:k=>y(k.target.value)})})]})}),u.jsxs("div",{className:"NavBarRight flex justify-center",children:[u.jsx("div",{className:`NavBarRightIcons hidden md:flex\r
        justify-end items-center gap-2 ml-5`,children:um.map((k,C)=>u.jsx("button",{value:k.IconName,className:"flex items-center p-2 hover:bg-gray-100 rounded-full",onClick:g[C],children:u.jsx("img",{src:k.Icon,alt:k.IconName,className:"min-w-[2rem]"})},C))}),u.jsxs("div",{className:"dropdown flex md:hidden relative",children:[u.jsx("button",{onClick:E,className:"flex items-center pl-2",children:u.jsx("img",{src:cm,alt:"Dropdown",className:"w-full h-full min-w-5 flex"})}),o&&u.jsx("div",{className:`absolute top-full right-3 bg-white\r
             border shadow-lg rounded-md w-28 sm:w-32 items-center justify-center flex flex-col`,children:um.map((k,C)=>u.jsxs("button",{value:k.IconName,className:`flex items-center self-start p-2\r
                   hover:bg-gray-100 w-full font-light`,onClick:g[C],children:[u.jsx("img",{src:k.Icon,alt:k.IconName}),u.jsx("p",{className:"font-normal text-[12px] sm:text-sm items-center flex-grow",children:k.IconName})]},C))})]})]})]})]})},Fb=()=>u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:u.jsx("div",{className:"absolute flex size-full justify-center items-center bg-black bg-opacity-30",children:u.jsx("span",{className:"loader"})})}),zb=()=>{const{searchState:n,isLoading:r,setCheckoutProds:a}=dt(),o=er();return w.useEffect(()=>{o.pathname!=="/checkout"&&a([])},[o]),u.jsxs("div",{className:"main-layout size-screen h-screen justify-center items-center",children:[r&&u.jsx(Fb,{}),u.jsx(Al,{}),o.pathname==="/admin"?u.jsx(xu,{}):u.jsx(Ub,{obj:cr}),u.jsx("div",{className:"content",children:n?u.jsx(hh,{}):u.jsx(Cm,{})})]})},Xn=()=>u.jsxs("div",{className:"size-full flex flex-col justify-center items-center h-screen gap-3",children:[u.jsx("h1",{className:"bg-gradient-to-r from-[#191847] to-[#000000] text-transparent bg-clip-text text-5xl",children:"TrailMarket"}),u.jsx("h1",{className:"text-2xl text-zinc-900",children:" 404 Not Found! "})]}),dm=({children:n})=>{const{isAdminLoggedIn:r}=dt();return r?u.jsx(u.Fragment,{children:n}):u.jsx(Sm,{to:"/adminlogin"})},$b=()=>{const{user:n,userList:r,setUserList:a,setProdList:o,prodList:s,setIsLoggedIn:c}=dt(),[f,m]=w.useState([]);c(!1);const h=async()=>{const{data:j,error:k}=await ce.from("DIM_USER").select("*");if(k)return console.error("Error fetching users:",k.message),[];if(j){const C=j.map(U=>({id:U.STUDENT_ID,name:U.USER_NAME,age:U.USER_AGE,email:U.USER_EMAIL,pass:null,contact_num:U.USER_CONTACTNUM,fb:U.USER_FB,image:U.USER_IMAGE,prods:[],isBanned:U.IS_BANNED}));a(C),console.log("Fetched users:",C)}},x=async j=>{const{data:k,error:C}=await ce.from("DIM_PRODUCT").select("*, DIM_PRODUCTIMAGES(*)").eq("SELLER_ID",j);if(C){console.error("Error fetching user posts:",C.message);return}if(k){const U=k.map(K=>{var R;const te=(R=K.DIM_PRODUCTIMAGES)==null?void 0:R.find(q=>q.isMainImage);return{id:K.PRODUCT_ID,name:K.PROD_NAME,price:K.PROD_PRICE,condition:K.PROD_CONDITION,category:K.PROD_CATEGORY,stock:K.PROD_STOCKS,desc:K.PROD_DESC,short_desc:K.PROD_SHORTDESC,img:te?te.PRODUCT_IMAGE:void 0,seller:K.SELLER_ID}});o(U),m(U),console.log(s)}},g=async j=>{await x(j),S(j,s),console.log(n==null?void 0:n.prods)},y=async(j,k)=>{const{error:C}=await ce.from("DIM_PRODUCT").delete().eq("PRODUCT_ID",j);if(C)throw C;alert("Product deleted successfully!"),x(k)},b=async j=>{const{error:k}=await ce.from("DIM_USER").update({IS_BANNED:!0}).eq("STUDENT_ID",j);if(k)throw k;alert("User banned successfully!"),h()},E=j=>j.length===0||!j?u.jsx("h1",{className:"text-center bg-gray-100 rounded-md shadow-md text-lg p-1 md:text-xl md:p-3 xl:p-5 2xl:text-2xl my-4 w-full",children:"No products found"}):u.jsxs("div",{className:"w-full px-2 mb-8",children:[u.jsx("h1",{className:"text-center bg-gray-100 rounded-md shadow-md text-lg p-1 md:text-xl md:p-3 xl:p-5 2xl:text-2xl my-4",children:f[0].seller}),u.jsx("div",{className:"main-container w-full max-w-screen overflow-x-auto shadow-md",children:u.jsxs("table",{className:"table-auto border-collapse w-full whitespace-nowrap",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200 w-full shadow-md",children:[u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold px-2 py-2 text-center",children:"IMAGE"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"NAME"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"PRICE"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"CONDITION"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"CATEGORY"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"DESCRIPTION"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-center px-2 py-2",children:"ACTIONS"})]})}),u.jsx("tbody",{children:f.map((k,C)=>u.jsxs("tr",{className:"border-t",children:[u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 py-2 md:py-3 text-center items-center justify-center flex",children:u.jsx("img",{src:k.img,alt:k.name,className:"size-14 rounded-lg m-1 border shadow-sm md:size-20 xl:size-24 2xl:size-36 object-cover"})}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base 2xl:text-lg font-medium px-2 py-2 md:py-3 ",children:k.name}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base 2xl:text-lg font-medium px-2 py-2 md:py-3 ",children:k.price}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base 2xl:text-lg font-medium px-2 py-2 md:py-3 ",children:k.condition}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base 2xl:text-lg font-medium px-2 py-2 md:py-3 ",children:k.category}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base 2xl:text-lg font-medium px-2 py-2 md:py-3",children:k.desc}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-medium px-2 py-2 md:py-3 text-center",children:u.jsx("button",{className:"font-semibold text-xs md:text-sm xl:text-base p-2 bg-red-200 px-4 md:px-7 md:py-3 xl:px-10 xl:py-4 rounded-full shadow-md hover:bg-transparent hover:text-base md:hover:text-base xl:hover:text-lg transition-all duration-200 hover:shadow-lg",onClick:()=>{y(k.id,k.seller)},children:"Delete Post"})})]},C))})]})})]}),S=(j,k)=>{const C=r.map(U=>U.id===j?{...U,prods:k}:U);a(C)};return w.useEffect(()=>{h()},[a]),u.jsxs("div",{className:"app-wrapper size-full ",children:[u.jsx(Al,{}),u.jsx(xu,{}),u.jsxs("div",{className:"main-container px-4 sm:px-6 md:px-8 lg:px-10 2xl:px-14 flex flex-col gap-3 justify-cemter items-center w-full",children:[u.jsx("h1",{className:"text-center bg-gray-100 rounded-md shadow-md text-lg p-1 md:text-xl md:p-3 xl:p-5 2xl:text-2xl w-full",children:"User List"}),u.jsx("div",{className:"parent-container w-full max-w-screen overflow-x-auto shadow-lg rounded-sm",children:u.jsxs("table",{className:"table-auto border-collapse w-full whitespace-nowrap",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200 w-full shadow-md",children:[u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"STUDENT ID"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"NAME"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"AGE"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"CONTACT NUMBER"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2",children:"EMAIL"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2 ",children:"FB LINK"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold text-left px-2 py-2 ",children:"STATUS"}),u.jsx("th",{className:"text-xs md:text-sm 2xl:text-lg 2xl:py-4 font-semibold px-2 py-2 text-center",children:"ACTIONS"})]})}),u.jsx("tbody",{children:r.map((j,k)=>u.jsxs("tr",{className:"border-t hover:shadow-lg hover:rounded-lg hover:bg-slate-100 transition duration-200",onClick:()=>g(j.id),children:[u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 md:px-3 xl:px-5 py-2 md:py-3",children:j.id}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 md:px-3 xl:px-5 py-2 md:py-3",children:j.name}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 md:px-3 xl:px-5 py-2 md:py-3",children:j.age}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2  md:px-3 xl:px-5 py-2 md:py-3",children:j.contact_num}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2  md:px-3 xl:px-5 py-2 md:py-3",children:j.email}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 md:px-3 xl:px-5 py-2 md:py-3",children:j.fb}),u.jsx("td",{className:`text-xs md:text-sm xl:text-base font-normal px-2 md:px-3 xl:px-5 py-2 md:py-3 ${j.isBanned===!0?"text-red-700":"text-green-700"}`,children:j.isBanned?"Banned":"Active"}),u.jsx("td",{className:"text-xs md:text-sm xl:text-base font-normal px-2 md:px-3 xl:px-5 py-2 md:py-3 text-center",children:u.jsx("button",{className:"font-semibold text-xs md:text-sm xl:text-base p-2 bg-orange-200 px-4 md:px-7 md:py-3 xl:px-10 rounded-full shadow-md hover:bg-transparent hover:text-base md:hover:text-base xl:hover:text-lg transition-all duration-200 hover:shadow-lg",onClick:()=>b(j.id),children:"Ban User"})})]},k))})]})}),E(f)]})]})},Bb=()=>{const n=It(),{user:r}=dt();return w.useEffect(()=>{n(r?`/profile/${r.id}`:"/login")},[r,n]),null},Hb=()=>{const n=It(),[r,a]=w.useState([]),[o,s]=w.useState([]),[c,f]=w.useState([]),[m,h]=w.useState([]),[x,g]=w.useState(!1),[y,b]=w.useState(null),[E,S]=w.useState("All"),[j,k]=w.useState("All"),{setIsLoading:C,user:U}=dt(),[K,te]=w.useState([]);console.log(async()=>{try{const{data:W}=await ce.from("DIM_TAX").select("*");if(W){const J=W.map(ee=>({id:ee.TAX_ID,low:ee.TAX_BRACKET_LOW,high:ee.TAX_BRACKET_HIGH,amount:ee.TAX_AMOUNT}));te(J),console.log("TAX",K)}}catch(W){console.error("Error fetching data:",W)}});const q=W=>{b(W),g(!0)},$=()=>{console.log("Applying Filters..."),console.log("Current Placed Orders:",r),console.log("Current Received Orders:",o),console.log("Placed Filter:",E),console.log("Received Filter:",j);const W=E==="All"?r:r.filter(ee=>{var le;return console.log(`Checking Placed Order: ${(le=ee.payment.payment_status)==null?void 0:le.toLowerCase()} against ${E.toLowerCase()}`),ee.payment.payment_status&&ee.payment.payment_status.toLowerCase()===E.toLowerCase()}),J=j==="All"?o:o.filter(ee=>{var le;return console.log(`Checking Received Order: ${(le=ee.payment.payment_status)==null?void 0:le.toLowerCase()} against ${j.toLowerCase()}`),ee.payment.payment_status&&ee.payment.payment_status.toLowerCase()===j.toLowerCase()});console.log("Filtered Placed Orders:",W),console.log("Filtered Received Orders:",J),f(W),h(J)};w.useEffect(()=>{$()},[r,o,E,j]);async function V(){C(!0);const{data:W,error:J}=await ce.from("DIM_ORDER").select(`
        ORDER_ID, 
        QUANTITY, 
        DIM_TAX(TAX_AMOUNT),
        DIM_PRODUCT(PRODUCT_ID, PROD_NAME, PROD_PRICE, DIM_PRODUCTIMAGES(PRODUCT_IMAGE, isMainImage)), 
        DIM_MEETUP(MEETUP_ID, MEETUP_LOCATION, MEETUP_DATE, MEETUP_TIME), 
        DIM_PAYMENT(PAYMENT_STATUS, PAYMENT_METHOD(PAYMENT_METHOD, ACCOUNT_NUMBER))
        
        `).eq("BUYER_FK",U==null?void 0:U.id);if(console.log("Data:",JSON.stringify(W,null,2)),J){console.error("Error fetching orders:",J.message),alert("An error occurred while fetching orders."),C(!1);return}if(W){if(console.log("Data:",JSON.stringify(W,null,2)),W.length===0){C(!1);return}else{const ee=W.map(le=>{var ke,Q;return{order_id:le.ORDER_ID,quantity:le.QUANTITY,product:{id:le.DIM_PRODUCT.PRODUCT_ID,name:le.DIM_PRODUCT.PROD_NAME,price:le.DIM_PRODUCT.PROD_PRICE,image:le.DIM_PRODUCT.DIM_PRODUCTIMAGES[0].PRODUCT_IMAGE},meetup:{meetup_id:le.DIM_MEETUP.MEETUP_ID,meetup_location:le.DIM_MEETUP.MEETUP_LOCATION,meetup_date:le.DIM_MEETUP.MEETUP_DATE,meetup_time:le.DIM_MEETUP.MEETUP_TIME},payment:{payment_status:le.DIM_PAYMENT[0].PAYMENT_STATUS,payment_method:{payment_method:(ke=le.DIM_PAYMENT[0])==null?void 0:ke.PAYMENT_METHOD.PAYMENT_METHOD,account_number:(Q=le.DIM_PAYMENT[0])==null?void 0:Q.PAYMENT_METHOD.ACCOUNT_NUMBER}},tax:{tax_amount:le.DIM_TAX.TAX_AMOUNT}}});a(ee),console.log("State Orders:",ee)}C(!1)}}const ue=async(W,J)=>{C(!0);try{const{data:ee,error:le}=await ce.from("DIM_PAYMENT").update({PAYMENT_STATUS:J}).eq("ORDER_FK",W);if(le){console.error("Error updating payment status:",le.message),alert("An error occurred while updating the payment status.");return}console.log("Payment status updated:",ee),s(ke=>ke.map(Q=>Q.order_id===W?{...Q,payment:{...Q.payment,payment_status:J}}:Q)),alert("Payment status updated successfully!")}catch(ee){console.error("Unexpected error:",ee),alert("An unexpected error occurred. Please try again.")}finally{C(!1)}};async function X(){C(!0);const{data:W,error:J}=await ce.from("DIM_ORDER").select(`
    ORDER_ID, 
    QUANTITY, 
    DIM_PRODUCT!inner(PRODUCT_ID, PROD_NAME, PROD_PRICE, SELLER_ID, DIM_PRODUCTIMAGES(PRODUCT_IMAGE, isMainImage)), 
    DIM_MEETUP(MEETUP_ID, MEETUP_LOCATION, MEETUP_DATE, MEETUP_TIME), 
    DIM_PAYMENT(PAYMENT_STATUS, PAYMENT_METHOD(PAYMENT_METHOD, ACCOUNT_NUMBER))
    `).eq("DIM_PRODUCT.SELLER_ID",U==null?void 0:U.id);if(J){console.error("Error fetching orders:",J.message),alert("An error occurred while fetching orders."),C(!1);return}if(W)if(console.log("Data of Recieved:",JSON.stringify(W,null,2)),W.length===0){C(!1);return}else{const ee=W.map(le=>{var ke,Q;return{order_id:le.ORDER_ID,quantity:le.QUANTITY,product:{id:le.DIM_PRODUCT.PRODUCT_ID,name:le.DIM_PRODUCT.PROD_NAME,price:le.DIM_PRODUCT.PROD_PRICE,image:le.DIM_PRODUCT.DIM_PRODUCTIMAGES[0].PRODUCT_IMAGE},meetup:{meetup_id:le.DIM_MEETUP.MEETUP_ID,meetup_location:le.DIM_MEETUP.MEETUP_LOCATION,meetup_date:le.DIM_MEETUP.MEETUP_DATE,meetup_time:le.DIM_MEETUP.MEETUP_TIME},payment:{payment_status:le.DIM_PAYMENT[0].PAYMENT_STATUS,payment_method:{payment_method:(ke=le.DIM_PAYMENT[0])==null?void 0:ke.PAYMENT_METHOD.PAYMENT_METHOD,account_number:(Q=le.DIM_PAYMENT[0])==null?void 0:Q.PAYMENT_METHOD.ACCOUNT_NUMBER}}}});s(ee),console.log("State Orders:",ee)}C(!1)}const Ce=async W=>{C(!0);try{const{error:J}=await ce.from("DIM_MEETUP").delete().eq("MEETUP_ID",W);if(J){console.error("Error deleting order:",J.message),alert("An error occurred while deleting the order.");return}alert("Order deleted successfully!"),V(),X()}catch(J){console.error("Unexpected error:",J),alert("An unexpected error occurred. Please try again.")}finally{C(!1)}};return w.useEffect(()=>{V(),X(),$()},[]),u.jsxs("div",{className:"pb-4",children:[u.jsx("div",{className:"CartHeader bg-gradient-to-r from-[#282667] to-slate-900 p-2 mx-5 rounded-2xl text-white text-center",children:u.jsx("h1",{className:"text-2xl",children:"Orders"})}),u.jsx("div",{className:"OrderItemList shadow-[0_8px_30px_rgb(0,0,0,0.5)] flex flex-col items-stretch rounded-xl px-5 m-5 h-full",children:u.jsx("div",{className:"orderItem flex-1 flex-col p-5",children:u.jsxs("div",{className:"orderItemTop flex flex-col justify-between",children:[u.jsx("p",{className:"text-2xl py-4",children:"Orders Placed"}),u.jsxs("select",{value:E,onChange:W=>S(W.target.value),className:"border-2 border-black rounded-lg p-2",children:[u.jsx("option",{value:"All",children:"All"}),u.jsx("option",{value:"Pending",children:"Pending"}),u.jsx("option",{value:"Completed",children:"Completed"})]}),u.jsx("div",{}),c.length>0?c==null?void 0:c.map(W=>u.jsxs("div",{className:"flex flex-row my-5",children:[u.jsxs("button",{className:"flex flex-row w-full",onClick:()=>n("/product/"+W.product.id),children:[u.jsx("img",{src:W.product.image||"https://media.istockphoto.com/id/1147544807/vector/thumbnail-image-vector-graphic.jpg?s=612x612&w=0&k=20&c=rnCKVbdxqkjlcs3xH87-9gocETqpspHFXu5dIGB4wuM=",alt:"Product",className:"orderItemImage w-20 h-20 object-cover rounded-lg"}),u.jsx("div",{className:"flex flex-row items-center justify-between w-full text-left ml-5",children:u.jsxs("div",{className:"OrderItemInformation w-full",children:[u.jsx("p",{className:"OrderItemName text-sm md:text-lg xl:text-base",children:W.product.name}),u.jsxs("p",{className:"orderItemQuantity text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Quantity: ",W.quantity]}),u.jsxs("p",{className:"orderItemLocation text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Location: ",W.meetup.meetup_location]}),u.jsxs("p",{className:"orderItemPayment text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Payment Option:"," ",W.payment.payment_method.payment_method]}),u.jsxs("p",{className:"orderItemTime text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Time: ",W.meetup.meetup_time,", at"," ",W.meetup.meetup_date]})]})})]}),u.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0 w-full h-full justify-end items-center self-center",children:[u.jsxs("select",{className:"border-2 border-black rounded-lg p-2 ml-5 h-full self-end md:self-center",value:W.payment.payment_status,disabled:!0,children:[u.jsx("option",{value:"Pending",children:"Pending"}),u.jsx("option",{value:"Completed",children:"Completed"})]}),u.jsxs("select",{className:"border-2 border-black rounded-lg p-2 ml-5 h-full self-end md:self-center",onChange:J=>{const ee=J.target.value;ee==="Delete"?Ce(W.meetup.meetup_id):ee==="Details"&&q(W),J.target.value="Options"},defaultValue:"Options",children:[u.jsx("option",{value:"Options",disabled:!0,children:"Options"}),W.payment.payment_status==="Completed"&&u.jsx("option",{value:"Delete",children:"Delete"}),u.jsx("option",{value:"Details",children:"Details"})]})]})]},W.id)):u.jsx("p",{children:"No orders Placed"})]})})}),u.jsx("div",{className:"OrderItemList shadow-[0_8px_30px_rgb(0,0,0,0.5)] flex flex-col items-stretch rounded-xl px-5 m-5 h-full",children:u.jsx("div",{className:"orderItem flex-1 flex-col p-5",children:u.jsxs("div",{className:"orderItemTop flex flex-col justify-between",children:[u.jsx("p",{className:"text-2xl py-4",children:"Orders Recieved"}),u.jsxs("select",{value:j,onChange:W=>k(W.target.value),className:"border-2 border-black rounded-lg p-2 ",children:[u.jsx("option",{value:"All",children:"All"}),u.jsx("option",{value:"Pending",children:"Pending"}),u.jsx("option",{value:"Completed",children:"Completed"})]}),u.jsx("div",{}),m.length>0?m==null?void 0:m.map(W=>u.jsxs("div",{className:"flex flex-row my-5",children:[u.jsxs("button",{className:"flex flex-row w-full",onClick:()=>n("/product/"+W.product.id),children:[u.jsx("img",{src:W.product.image||"https://media.istockphoto.com/id/1147544807/vector/thumbnail-image-vector-graphic.jpg?s=612x612&w=0&k=20&c=rnCKVbdxqkjlcs3xH87-9gocETqpspHFXu5dIGB4wuM=",alt:"Product",className:"orderItemImage w-20 h-20 object-cover rounded-lg"}),u.jsx("div",{className:"flex flex-row items-center justify-between w-full ml-5 text-left",children:u.jsxs("div",{className:"OrderItemInformation",children:[u.jsx("p",{className:"OrderItemName text-lg md:text-sm xl:text-base",children:W.product.name}),u.jsxs("p",{className:"orderItemQuantity text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Quantity: ",W.quantity]}),u.jsxs("p",{className:"orderItemLocation text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Location: ",W.meetup.meetup_location]}),u.jsxs("p",{className:"orderItemPayment text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Payment Option:"," ",W.payment.payment_method.payment_method]}),u.jsxs("p",{className:"orderItemTime text-xs md:text-sm xl:text-base text-gray-700 font-medium",children:["Time: ",W.meetup.meetup_time,", at"," ",W.meetup.meetup_date]})]})})]}),u.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0 w-full h-full justify-end items-center self-center",children:[u.jsxs("select",{className:"border-2 border-black rounded-lg p-2 ml-5 h-full self-end md:self-center",value:W.payment.payment_status,onChange:J=>ue(W.order_id,J.target.value),children:[u.jsx("option",{value:"Pending",children:"Pending"}),u.jsx("option",{value:"Completed",children:"Completed"})]}),W.payment.payment_status==="Completed"&&u.jsxs("select",{className:"border-2 border-black rounded-lg p-2 ml-5 h-full self-end md:self-center",onChange:J=>{J.target.value==="Delete"&&Ce(W.meetup.meetup_id)},defaultValue:"Options",children:[u.jsx("option",{value:"Options",disabled:!0,children:"Options"}),u.jsx("option",{value:"Delete",children:"Delete"})]})]})]},W.id)):u.jsx("p",{children:"No orders Received"})]})})}),x&&u.jsx(qb,{order:y,onClose:()=>g(!1),tax:y.tax.tax_amount})]})},qb=({order:n,tax:r,onClose:a})=>{if(!n)return null;const o=n.quantity*n.product.price,s=r?Math.round(r/100*o):0,c=o+s;return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-5 w-3/4 max-w-lg",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Details"}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Product:"})," ",n.product.name]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Quantity:"})," ",n.quantity]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Price:"})," PHP ",n.product.price]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Subtotal:"})," PHP ",o]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Tax:"})," PHP ",s]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Total Price:"})," PHP ",c]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Meetup Location:"})," ",n.meetup.meetup_location]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Meetup Date:"})," ",n.meetup.meetup_date]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Meetup Time:"})," ",n.meetup.meetup_time]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Payment Method:"})," ",n.payment.payment_method.payment_method]}),u.jsxs("p",{className:"font-medium",children:[u.jsx("strong",{children:"Payment Status:"})," ",n.payment.payment_status]}),u.jsx("button",{onClick:a,className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Close"})]})})},Gb=Xv([{path:"/",element:u.jsx(Cb,{}),errorElement:u.jsx(Xn,{}),children:[{path:"",element:u.jsx(zb,{}),errorElement:u.jsx("div",{children:"404 Not Found"}),children:[{path:"",element:u.jsx(Hp,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"home",element:u.jsx(Hp,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"product/:id",element:u.jsx(yw,{})},{path:"product/edit",element:u.jsx(sm,{})},{path:"navbar2",element:u.jsx(Al,{})},{path:"about",element:u.jsx(Sb,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"contact-us",errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"profile/:userId",element:u.jsx(kb,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"myprofile",element:u.jsx(Bb,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"search",element:u.jsx(hh,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"post",element:u.jsx(sm,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"cart",element:u.jsx(Rb,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"checkout",element:u.jsx(Ib,{}),errorElement:u.jsx("div",{children:"404 Not Found"})},{path:"purchaseHistory",element:u.jsx(Hb,{}),errorElement:u.jsx("div",{children:"404 Not Found"})}]}]},{path:"admin",element:u.jsx(dm,{children:u.jsx(Nb,{})}),errorElement:u.jsx(Xn,{})},{path:"moderator",element:u.jsx(dm,{children:u.jsx($b,{})}),errorElement:u.jsx(Xn,{})},{path:"login",element:u.jsx(ol,{}),errorElement:u.jsx(Xn,{})},{path:"adminlogin",element:u.jsx(ol,{}),errorElement:u.jsx(Xn,{})},{path:"signup",element:u.jsx(ol,{}),errorElement:u.jsx(Xn,{})},{path:"forget",element:u.jsx(ol,{}),errorElement:u.jsx(Xn,{})}]);sx.createRoot(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(fy,{children:u.jsx(dy,{router:Gb})})}));export{Cl as g};
